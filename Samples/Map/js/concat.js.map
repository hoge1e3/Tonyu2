{"version":3,"sources":["C:/git/Tonyu2/Samples/Map/Main.tonyu","C:/git/Tonyu2/Samples/Map/Neko.tonyu"],"names":[],"mappings":"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","sourcesContent":["$map=new Map{chipWidth:32,chipHeight:32};\r\n$map.load(\"map.json\");\r\n\r\nnew Neko{x:200,y:200};\r\n","//ここでは毎フレーム画像の変更をしていないので、配列の値を4つずつ設定する必要はない\r\n//pの値の配列\r\npListDown=[0,1,0,2];\r\npListUp=[5,6,5,7];\r\npListLR=[3,4];\r\ndir=\"stop\";\r\np=$pat_neko+0;\r\nparallel(\"animate\");\r\n$Screen.setPivot($screenWidth/2, $screenHeight/2);\r\nsc=1;\r\nwhile(true){\r\n    dir=\"stop\";\r\n    sx=x;sy=y;\r\n    if(getkey(\"down\")){\r\n        y+=2;\r\n        dir=\"down\";\r\n    }\r\n    if(getkey(\"up\")){\r\n        y-=2;\r\n        dir=\"up\";\r\n    }\r\n    if(getkey(\"left\")){\r\n        x-=2;\r\n        scaleX=-1;\r\n        scaleY=1;\r\n        dir=\"lr\";\r\n    }\r\n    if(getkey(\"right\")){\r\n        scaleX=1;\r\n        x+=2;\r\n        dir=\"lr\";\r\n    }\r\n    if ($map.getOnAt(x,y)>-1) {\r\n        x=sx;y=sy;\r\n        dir=\"stop\";\r\n    }\r\n    if (getkey(\"z\")==1) sc=1.5-sc;\r\n    $Screen.scrollTo(x,y,sc);\r\n    \r\n    update();\r\n}\r\n\\animate(){\r\n    counter=0;\r\n    // アニメーションの処理\r\n    while(true){\r\n        if(dir==\"down\"){\r\n            p=$pat_neko+pListDown[counter%4];\r\n        }else if(dir==\"up\"){\r\n            p=$pat_neko+pListUp[counter%4];\r\n        }else if(dir==\"lr\"){\r\n            p=$pat_neko+pListLR[counter%2];\r\n        }else{\r\n            //p=$pat_neko+0;\r\n        }\r\n        counter++;\r\n        //8フレームごとにupdateを行う\r\n        updateEx(8);\r\n    }\r\n}"]}