{"version":3,"sources":["C:/bin/Dropbox/workspace120324/Tonyu2/Samples/Map/Main.tonyu","C:/bin/Dropbox/workspace120324/Tonyu2/Samples/Map/Neko.tonyu"],"names":[],"mappings":"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","sourcesContent":["$map=new Map{chipWidth:32,chipHeight:32};\n$map.load(\"map.json\");\n\nnew Neko{x:200,y:200};\n","//ここでは毎フレーム画像の変更をしていないので、配列の値を4つずつ設定する必要はない\r\n//pの値の配列\r\npListDown=[0,1,0,2];\r\npListUp=[5,6,5,7];\r\npListLR=[3,4];\r\ndir=\"stop\";\r\np=$pat_neko+0;\r\nparallel(\"animate\");\r\n$Screen.setPivot($screenWidth/2, $screenHeight/2);\r\nsc=1;\r\nwhile(true){\r\n    dir=\"stop\";\r\n    sx=x;sy=y;\r\n    if(getkey(\"down\")){\r\n        y+=2;\r\n        dir=\"down\";\r\n    }\r\n    if(getkey(\"up\")){\r\n        y-=2;\r\n        dir=\"up\";\r\n    }\r\n    if(getkey(\"left\")){\r\n        x-=2;\r\n        scaleX=-1;\r\n        scaleY=1;\r\n        dir=\"lr\";\r\n    }\r\n    if(getkey(\"right\")){\r\n        scaleX=1;\r\n        x+=2;\r\n        dir=\"lr\";\r\n    }\r\n    if ($map.getOnAt(x,y)>-1) {\r\n        x=sx;y=sy;\r\n        dir=\"stop\";\r\n    }\r\n    if (getkey(\"z\")==1) sc=1.5-sc;\r\n    $Screen.scrollTo(x,y,sc);\r\n    \r\n    update();\r\n}\r\n\\animate(){\r\n    counter=0;\r\n    // アニメーションの処理\r\n    while(true){\r\n        if(dir==\"down\"){\r\n            p=$pat_neko+pListDown[counter%4];\r\n        }else if(dir==\"up\"){\r\n            p=$pat_neko+pListUp[counter%4];\r\n        }else if(dir==\"lr\"){\r\n            p=$pat_neko+pListLR[counter%2];\r\n        }else{\r\n            //p=$pat_neko+0;\r\n        }\r\n        counter++;\r\n        //8フレームごとにupdateを行う\r\n        updateEx(8);\r\n    }\r\n}"]}