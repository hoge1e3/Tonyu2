{"version":3,"sources":["SysDebugger_concat.js"],"names":["requirejs","require","define","undef","main","req","makeMap","handlers","defined","waiting","config","defining","hasOwn","Object","prototype","hasOwnProperty","aps","slice","jsSuffixRegExp","hasProp","obj","prop","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","baseParts","split","map","starMap","length","nodeIdCompat","test","replace","charAt","concat","splice","join","makeRequire","relName","forceSync","args","arguments","push","apply","makeLoad","depName","value","callDep","Error","splitPrefix","prefix","index","indexOf","substring","makeRelParts","relParts","plugin","parts","relResourceName","f","n","pr","p","exports","e","module","id","uri","makeConfig","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","SourceFiles","ProjectFactory","F","CompiledProject","CP","langMod","StackDecoder","Tonyu","root","FS","Debugger","Events","[object Object]","t","this","type","evt","getHandler","forEach","noCatch","onRuntimeError","pop","setErrorHandler","async","console","error","stack","decode","message","fire","init","prj","_Tonyu","globals","$currentProject","currentProject","$debugger","loadClasses","log","ID","classes","exec","srcraw","add","create","className","getClass","on","bind","parent","onTonyuDebuggerReady","window","global","self","TonyuBuilderClient","r","o","c","u","a","code","1","Worker","WS","FileMap","BuilderClient","url","worker","match","Math","random","w","Wrapper","fileMap","getOutputFile","getDir","debugger","path","convert","inited","localPrjDir","files","exportAsObject","excludes","ext","ns2depspec","prjDir","remotePrjDir","run","namespace","getNamespace","local","remote","getDependingProjects","dep","ns","excludesF","compres","sf","saveAs","convertError","relPath","text","from","to","changed","val","convertFromWorkerPath","get","rm","isTError","src","fullCompile","watch","nsraw","partialCompile","onCompiled","../lang/SourceFiles","../lib/FileMap","../lib/WorkerServiceB","../lib/root","2","SourceMap","../lang/StackDecoder","../lang/langMod","../lang/source-map","../project/CompiledProject","../project/ProjectFactory","./BuilderClient","3","vm","SourceFile","sourceMap","params","toString","outf","mapFile","sibling","options","Promise","resolve","reject","document","b","Blob","URL","createObjectURL","s","createElement","setAttribute","addEventListener","url2SourceFile","body","appendChild","tmpdir","uniqFile","rel","importScripts","Function","compileFunction","functions","sourceFile","4","S","StackTrace","tr","fromError","offline","fileName","opt","line","lineNumber","column","columnNumber","bias","SourceMapConsumer","GREATEST_LOWER_BOUND","pos","originalPositionFor","source","ex","getSourceMapConsumer","sourceMapConsumer","JSON","parse","./SourceFiles","./source-map","./stacktrace","5","getOptions","compiler","myNsp","getEXT","6","factory","modules","installedModules","__webpack_require__","moduleId","loaded","m","SourceMapGenerator","SourceNode","base64VLQ","util","ArraySet","MappingList","aArgs","_file","getArg","_sourceRoot","_skipValidation","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","sourceRoot","generator","file","eachMapping","mapping","newMapping","generated","generatedLine","generatedColumn","relative","original","originalLine","originalColumn","addMapping","sources","content","sourceContentFor","setSourceContent","_validateMapping","String","has","aSourceFile","aSourceContent","toSetString","keys","applySourceMap","aSourceMapPath","newSources","newNames","unsortedForEach","aGenerated","aOriginal","aSource","aName","stringify","_serializeMappings","next","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","result","mappings","toArray","len","compareByGeneratedPositionsInflated","encode","_generateSourcesContent","aSources","aSourceRoot","key","toJSON","version","names","sourcesContent","base64","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","aStr","aIndex","aOutParam","continuation","shifted","strLen","shift","charCodeAt","rest","intToCharMap","number","TypeError","charCode","aDefaultValue","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","host","port","urlGenerate","aParsedUrl","aPath","isAbsolute","up","aRoot","aPathUrl","aRootUrl","joined","level","lastIndexOf","Array","substr","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","compareByGeneratedPositionsDeflated","onlyCompareGenerated","_array","_set","fromArray","aArray","aAllowDuplicates","set","size","getOwnPropertyNames","sStr","isDuplicate","idx","at","aIdx","_sorted","_last","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","sort","binarySearch","quickSort","aSourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","Mapping","lastOffset","_sections","offset","offsetLine","offsetColumn","generatedOffset","consumer","__generatedMappings","defineProperty","_parseMappings","__originalMappings","_charIsMappingSeparator","GENERATED_ORDER","ORIGINAL_ORDER","LEAST_UPPER_BOUND","aContext","aOrder","context","_generatedMappings","_originalMappings","allGeneratedPositionsFor","needle","_findMapping","lastColumn","smc","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","str","segment","end","cachedSegments","temp","originalMappings","aNeedle","aMappings","aLineName","aColumnName","aComparator","aBias","search","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","hasContentsOfAllSources","some","sc","nullOnMissing","fileUriAbsPath","generatedPositionFor","constructor","sectionIndex","section","every","generatedPosition","sectionMappings","adjustedMapping","aHaystack","aCompare","recursiveSearch","aLow","aHigh","mid","floor","swap","ary","x","y","doQuickSort","comparator","low","high","round","pivot","q","REGEX_NEWLINE","isSourceNode","aLine","aColumn","aChunks","children","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","node","remainingLines","shiftNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","isArray","chunk","prepend","unshift","walk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","7","l","ErrorStackParser","StackFrame","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","filter","functionName","parseOpera9","parseOpera11","parseOpera10","stackframe","StackGenerator","backtrace","maxStackSize","callee","RegExp","$1","caller","isNaN","parseFloat","isFinite","toUpperCase","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","Boolean","Number","./util","./base64","8","9","g","h","d","v","_","C","./array-set","./base64-vlq","./binary-search","./quick-sort","10","11","StackTraceGPS","XMLHttpRequest","open","onerror","onreadystatechange","readyState","status","responseText","send","atob","sourceCache","sourceMapConsumerCache","ajax","_atob","_get","method","then","_getSourceMapConsumer","pinpoint","getMappedLocation","findFunctionName","min","source-map/lib/source-map-consumer","12","generateArtificially","getSync","all","instrument","__stacktraceOriginalFn","deinstrument","report","setRequestHeader","headers","error-stack-parser","stack-generator","stacktrace-gps","sidesList","sides","fromSide","toSide","startsWith","idseq","queue","readyQueue","data","reverse","procReverse","ready","paths","postMessage","sendError","err","assign","je","isReady","succ","readyPromise","terminate","WorkerService","install","func","serv","addType","createCore","include","ctx","loadDependingClasses","urlBased","dir","createDirBasedCore","outJS","exists","addDependencyResolver","spec","./ProjectFactory","resolvers","types","fromDependencySpec","fromDir","res","ProjectCore","dependingProjects","dprj","mod","k","dirBasedMod","rdir","isDir","getOptionsFile","lang","outF","outputFile","recursive","endsWith","nb","truncExt","Assertion","failMesg","flatten","$a","_regedType","registerType","MODE_STRICT","MODE_DEFENSIVE","MODE_BOOL","fail","_mode","isDefensive","isBool","subAssertion","assert","eq","ne","isset","is","_assert_func","na","ty","ensureError","action","setMode","mode","isStrict","top","and","TonyuThreadF","IT","performance","now","Date","TT","klass","handleEx","alert","addMeta","fn","extend","getMeta","bless","dst","removeMeta","classMetas","meta","mm","ensureNamespace","nsp","propReg","superclass","includes","fullName","shortName","methodsF","methods","decls","nso","chkclass","chkmeta","isShim","extenderFullName","extender","includesRec","extendFrom","initialize","useNew","nonShimParent","prot","props","fbk","methodInfo","fiber","isTonyuObject","getClassInfo","initFullName","isSourceChanged","tonyu","nodeTimestamp","lastUpdate","shouldCompile","hasSemanticError","dks","getDependingClasses","found","nn","nr","lastLoopCheck","resetLoopCheck","disableTime","thread","setGlobal","getGlobal","timeout","bindFunc","meth","thiz","not_a_tonyu_object","hasKey","invokeMethod","objName","callFunc","fName","checkNonNull","iterator","bootClassName","bootClass","runMode","boot","TPR","runningObj","checkLoop","VERSION","A","../lib/assert","./TonyuThread","./tonyuIterator","idSeq","TonyuThread","frame","_isDead","cnt","_isWaiting","fSuspended","tryStack","preemptionTime","onEndHandlers","onTerminateHandlers","age","isDead","_threadGroup","objectPoolAge","tGrpObjectPoolAge","isDeadThreadGroup","frameFunc","prev","methodName","pc","enter","th","termStatus","notifyEnd","retVal","exit","notifyTermination","tst","fb","st","exception","promise","kill","lastEx","catchPC","eventSpec","suspend","lastEvent","remove","steps","msg","gotoCatch","stepsLoop","wrapError","re","sv","currentThread","preempted","isAlive","ArrayValueIterator","ArrayKeyValueIterator","ObjectKeyIterator","elems","ObjectKeyValueIterator","arity","tonyuIterator","resMod","R","reqjsSeq","def","reqs","getModuleInfo","reqsFromFunc","setReqs","doLoad","getObjs","loadIfAvailable","reqm","revReqs","ms","notifyLoaded","dependingMod","loadedModuleName","cur","postfix","PathUtil","driveLetter","Path","isPath","Absolute","isAbsolutePath","Relative","Dir","AbsDir","File","SEP","isChildOf","child","fixSep","hasDriveLetter","isURL","protocol","hostPort","isRelativePath","hasBackslashSep","directorify","filify","splitPath","truncSEP","resPath","base","ps","old","backslashifyAfter","isRelative",".png",".gif",".jpeg",".jpg",".ico",".wav",".mp3",".ogg",".midi",".mid",".mzo",".txt",".html",".htm",".css",".js",".json",".zip",".swf",".pdf",".doc",".xls",".ppt",".docx",".docm",".dotx",".dotm",".xlsx",".xlsm",".xltx",".xltm",".xlsb",".xlam",".pptx",".pptm",".potx",".potm",".ppsx",".ppsm",".ppam",".tonyu",".c",".dtl","DU","DUBRK","same","isNativePromise","catch","isJQPromise","isPromise","useJQ","throwNowIfRejected","state","assertResolved","resolved","ensureDefer","isDeferred","directPromise","funcPromise","$","Deferred","external","rej","throwPromise","throwF","each","loop","brk","objs","when1","deff1","deff2","r1","dr","r2","tryLoop","tryEach","documentReady","callbackToPromise","NOP","E","errorHandler","setE","begin","try","DeferredUtil","P","M","fstypes","stub","addFSType","fsgen","availFSTypes","mesg","fstype","isReadOnly","supportsSync","resolveFS","getRootFS","mounted","rootFS","mountPoint","inMyFS","getReturnTypes","getContent","ArrayBuffer","toBin","byteLength","getContentAsync","setContent","setContentAsync","appendContent","appendContentAsync","getMetaInfo","setMetaInfo","info","mkdir","touch","opendir","opendirAsync","cp","assertExist","srcIsDir","dstfs","dstIsDir","cont","mv","link","getURL","onAddObserver","delegateMethods","fs","assertWriteable","getContentType","toLowerCase","getBlob","blobType","binType","hasPlainText","toPlainText","isText","find","ls","ep","resolveLink","isLink","np","opendirEx","dest","getDirTree","style","relP","getQueryString","default_","qs","location","href","decodeURIComponent","privatize","__privatized","_global","download","opts","xhr","responseType","onload","response","corsEnabled","click","dispatchEvent","MouseEvent","createEvent","initMouseEvent","HTMLAnchorElement","blob","webkitURL","origin","target","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","fromCharCode","bom","popup","title","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","userAgent","FileReader","reader","onloadend","readAsDataURL","Util","Content","plainText","contentType","plain","buffer2ArrayBuffer","isBuffer","Uint8Array","buffer","arrayBuffer2Buffer","Buffer","bin","isNodeBuffer","bufType","nodeBuffer","arrayBuffer","looksLikeDataURL","hasNodeBuffer","DataURL","setBuffer","str2utf8bytes","toArrayBuffer","toNodeBuffer","toURL","hasBin","utf8bytes2str","hasURL","hasArrayBuffer","toBlob","Base64_To_ArrayBuffer","dic","num","ary_buffer","ary_u8","Base64_From_ArrayBuffer","bytes","encodeURIComponent","parseInt","dataURL2bin","bin2dataURL","head","dataHeader","dataURL","ctype","existsSync","NativeFS","rootPoint","process","cwd","available","Pro","toNativePath","readFileSync","statSync","pa","writeFileSync","appendFileSync","stat","mtime","getTime","mkdirSync","ts","readdirSync","nosep","isDirectory","rmdirSync","unlinkSync","utimesSync","apath","rfs","rpath","fpath","eventType","notifyChanged","close","LSFS","storage","useDirCache","dirCache","ramDisk","localStorage","resolveKey","getItem","setItem","removeItem","itemExists","getDirInfo","dinfos","dinfo","putDirInfo","trashed","ppath","pdinfo","_touch","removeEntry","removeEntryWithoutTrash","isRAM","getUsage","using","getCapacity","seq","KEY","lim","pow","ru","max","readOnly","cs","includeTrashed","pinfo","inf","noTrash","ajaxTransport","originalOptions","jqXHR","FormData","dataType","username","password","statusText","getAllResponseHeaders","abort","WebFS","readAsArrayBuffer","Env","expand","expandPath","FSClass","SFile","_path","isSFile","setPolicy","policy","_clone","getPolicy","_resolve","topdir","topDir","contains","bp","pathR","assertDir","pre","post","equals","act","isTrashed","metaInfo","assertExists","noFollowLink","removeWithoutTrash","getText","setText","ct","appendText","forceText","getDataURL","setDataURL","setBytes","getBytes","lines","copyFrom","copyTo","dstf","progress","echo","getResolvedLinkPath","moveFrom","moveTo","listFilesAsync","eachrev","fun","convertOptions","_listFiles","ord","order","cvt","di","listFiles","nex","getFS","observe","addObserver","setBlob","sum","importFromObject","_1","_2","handler","_act","RootFS","defaultFS","mount","fstab","_fstab","unmount","fact","_3","observers","remover","observer","ob","fsv","zip","setJSZip","JSZip","dstZip","jszip","folder","generateAsync","compression","unzip","arrayBuf","destDir","onCheckFile","overwrite","loadAsync","zipEntry","buf","_buf","redirectedTo","noop","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","newValue","finale","thisArg","_unhandledRejectionFn","done","reason","prom","arr","remaining","race","PR","Class","env","setEnvProvider","getEnvProvider","setEnv","getEnv","isFile","DebuggerCore","BuilderClient4Sys","PP","img","height","width","newImage","getContext","drawImage","pixels","getImageData","getPixel","cv","imagePixelData","ofs","G","B","setPixel","parse1Pattern","isParseError","image","hex","trans","dx","dy","PatterParseError","sx","sy","newim","nc","newImD","newD","ey","putImageData","yy","xx","boundsInSrc","er","WebSite","tablet","mobile","Platform","loc","devMode","WebSite_runType","urlAliases","builtinAssetNames","images/Ball.png","images/base.png","images/Sample.png","images/inputPad.png","images/neko.png","images/mapchip.png","pluginTop","sampleImg","isNW","__node_webkit","__nwjs","mp4Disabled","tonyuHome","PathSep","noconcat","sep","TONYU_HOME","logdir","TONYU_LOGDIR","wwwDir","platform","ffmpeg","pkgInfo","TONYU_PROJECTS","projects","delimiter","prjDirs","kernelDir","compiledKernel","uploadTmpUrl","newVersionUrl","scriptServer","hoge","BuiltinAssets","removeJSOutput","images/sound.png","images/sound_ogg.png","images/sound_mp3.png","images/sound_mp4.png","images/sound_m4a.png","images/sound_mid.png","images/sound_wav.png","images/ecl.png","serverType","runtime","disableROM","serverTop","blobPath","getFiles","putFiles","Assets","baseDir","mp3Disabled","oggf","asFile","IL","cache","resImgs","onLoad","resa","resImg","excludeEmpty","urlKey","proc","im","attr","pw","ph","pwidth","pheight","rw","rh","parse1","imgDOM","ImageList","T2MediaLib","_context","picoAudio","soundDataAry","bgmPlayerMax","bgmPlayerAry","masterVolume","seMasterVolume","bgmMasterVolume","playingAudio","audioVolume","audioTempo","audioDataAry","seSources","disabled","AudioContext","webkitAudioContext","T2MediaLib_BGMPlayer","allClearSoundData","dataAry","clearSoundData","allRemoveDecodedSoundData","soundData","isDecodeComplete","isDecoding","removeDecodedData","removeDecodedSoundData","getMasterVolume","setMasterVolume","vol","bgmPlayer","onChangeBGMMasterVolume","createSoundFromArray","array1","array2","T2MediaLib_SoundData","numOfChannels","audioBuffer","createBuffer","sampleRate","buffer1","getChannelData","buffer2","onDecodeComplete","loadSound","callbacks","isLoadAndDecode","PicoAudio","that","onLoadComplete","decodeSound","onError","errorID","fileData","isLoadComplete","decodedCallbacksAry","bgmPlayerId","onDecode","smf","parseSMF","Mezonet","Source","retAry","searchOggLoop","tagLoopStart","tagLoopEnd","decodeAudioData","activate","isContextResumed","resume","isActivated","createBufferSource","connect","destination","start","noteOn","getSoundFileData","soundDataObj","getSoundDecodedData","decodedData","getCurrentTime","currentTime","playSE","pan","rate","loopStart","loopEnd","duration","bgm","playback","Start","AudioBuffer","durationStart","createGain","createGainNode","gainNode","panNode","createPanner","playbackRate","panningModel","offset_adj","panAngle","panX","sin","PI","panZ","cos","positionX","positionY","positionZ","setPosition","gain","volumeValue","panValue","playStartTime","playOffset","plusTime","stop","noteOff","onended","event","stopSE","sourceObj","AudioBufferSourceNode","cancelScheduledValues","linearRampToValueAtTime","stopAllSE","getSEMasterVolume","setSEMasterVolume","getSEVolume","setSEVolume","getSERate","setSERate","getSEPan","setSEPan","isSELoop","setSELoop","getSELoopStartTime","setSELoopStartTime","getSELoopEndTime","setSELoopEndTime","playBGM","_getBgmPlayer","stopBGM","pauseBGM","resumeBGM","getBGMMasterVolume","setBGMMasterVolume","getBGMVolume","setBGMVolume","getBGMTempo","setBGMTempo","tempo","getBGMPan","setBGMPan","isBGMLoop","setBGMLoop","getBGMLoopStartTime","setBGMLoopStartTime","getBGMLoopEndTime","setBGMLoopEndTime","getBGMCurrentTime","getBGMLength","getPlayingBGMName","setOnBGMEndListener","listener","getPlayingBGMState","getBGMPicoAudio","isTagLoop","setTagLoop","getBGMPlayerMax","allStopBGM","allResetBGM","loadAudio","audio","Audio","play","createMediaElementSource","playAudio","startTime","pause","volume","stopAudio","pauseAudio","resumeAudio","setAudioVolume","setAudioTempo","setAudioPosition","time","getAudioData","getAudioCurrentTime","getAudioLength","tagSize","startIdx","lengthIdx","loopLength","isPicoAudio","isMezonetPlayback","Playback","t2MediaLib","arg_id","playingBGMState","playingBGMStatePending","playingBGM","playingBGMName","bgmPause","bgmPauseTime","bgmPauseCurrentTime","bgmPauseTempo","bgmPauseLoop","bgmPauseLoopStart","bgmPauseLoopEnd","bgmVolume","bgmTempo","bgmPan","picoAudioSetDataBGMName","PICO_AUDIO_VOLUME_COEF","succFunc","pending","_setPlayingBGMState","_initPicoAudio","setData","initStatus","setLoop","bgmLengthTime","MAX_SAFE_INTEGER","setStartTime","Stop","setVolume","setRate","isLoop","time2","currenTime","minusTime","getTrackTime","states","setOnSongEndListener","isNone","isTrcf","handleException","EC","UI","expr","listeners","$vars","$edits","model","edit","writeToJq","$edit","jq","validator","validate","toVal","errors","show","validationMessage","empty","append","OKButton","ok","addError","removeError","allOK","isValid","writeToModel","fromVal","li","tag","$var","realtimechange","css","eType","ev","which","first","parseAttr","parseArray","createTextNode","UIDiag","isPrimitive","parseMesg","defTitle","multiLine","confirm","sendF","dialog","prompt","_default","left","getStatus","geom","position","my","of","enterkey","focus","resultValue","currentUser","onend","withCsrfToken","success","user","csrfToken","assertLogin","onLoggedIn","showLoginLink","Auth","BLOB_PATH_EXPR","upload","project","fd","getElementById","processData","isBlobURL","uploadToExe","bis","getBlobInfos","bi","draw","canvas","Image","onld","clb","cw","ch","cctx","calcw","calch","clearRect","marginw","marginh","IR","TN","NAME","WIDTH","HEIGHT","delay","$Screen","toDataURL","rsrc","getResource","prjdir","imfile","item","imgs","images","setResource","crt","plugins","installed","box2d","detection","symbol","timbre","gif","jquery_ui","convOpt","detectNeeded","hasInGlobal","loadAll","namea","loadNext","reqj","request","pluginName","thumbnail","rawRun","detectPlugins","fixBootRunClasses","runScriptMode","rawBoot","getResourceFile","resFile","chg","imgSnd","defaultResource","hasSoundResource","sounds","getThumbnail","convertBlobInfos","getName","loadResource","sp","setImageList","hasMZO","hasMIDI","addPlugin","removePlugin","setOptions","requestPlugin","loadPlugins","mc","fixClassName","mainClass","bc","showProgress","initCanvas","$mainCanvas","SplashScreen","KEC","down","elem","originalEvent","altKey","ctrlKey","shiftKey","keyCode","hide","doResize","overflow","margin","class","appendTo","resize","sysMod","KeyEventChecker","runScript_common","animationFrame","requestAnimationFrame"],"mappings":"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","sourcesContent":["(function (){\r\n/**\r\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\r\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\r\n */\r\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\r\n//be followed.\r\n/*global setTimeout: false */\r\n\r\nvar requirejs, require, define;\r\n(function (undef) {\r\n    var main, req, makeMap, handlers,\r\n        defined = {},\r\n        waiting = {},\r\n        config = {},\r\n        defining = {},\r\n        hasOwn = Object.prototype.hasOwnProperty,\r\n        aps = [].slice,\r\n        jsSuffixRegExp = /\\.js$/;\r\n\r\n    function hasProp(obj, prop) {\r\n        return hasOwn.call(obj, prop);\r\n    }\r\n\r\n    /**\r\n     * Given a relative module name, like ./something, normalize it to\r\n     * a real name that can be mapped to a path.\r\n     * @param {String} name the relative name\r\n     * @param {String} baseName a real name that the name arg is relative\r\n     * to.\r\n     * @returns {String} normalized name\r\n     */\r\n    function normalize(name, baseName) {\r\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\r\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\r\n            baseParts = baseName && baseName.split(\"/\"),\r\n            map = config.map,\r\n            starMap = (map && map['*']) || {};\r\n\r\n        //Adjust any relative paths.\r\n        if (name) {\r\n            name = name.split('/');\r\n            lastIndex = name.length - 1;\r\n\r\n            // If wanting node ID compatibility, strip .js from end\r\n            // of IDs. Have to do this here, and not in nameToUrl\r\n            // because node allows either .js or non .js to map\r\n            // to same file.\r\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\r\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\r\n            }\r\n\r\n            // Starts with a '.' so need the baseName\r\n            if (name[0].charAt(0) === '.' && baseParts) {\r\n                //Convert baseName to array, and lop off the last part,\r\n                //so that . matches that 'directory' and not name of the baseName's\r\n                //module. For instance, baseName of 'one/two/three', maps to\r\n                //'one/two/three.js', but we want the directory, 'one/two' for\r\n                //this normalization.\r\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\r\n                name = normalizedBaseParts.concat(name);\r\n            }\r\n\r\n            //start trimDots\r\n            for (i = 0; i < name.length; i++) {\r\n                part = name[i];\r\n                if (part === '.') {\r\n                    name.splice(i, 1);\r\n                    i -= 1;\r\n                } else if (part === '..') {\r\n                    // If at the start, or previous value is still ..,\r\n                    // keep them so that when converted to a path it may\r\n                    // still work when converted to a path, even though\r\n                    // as an ID it is less than ideal. In larger point\r\n                    // releases, may be better to just kick out an error.\r\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\r\n                        continue;\r\n                    } else if (i > 0) {\r\n                        name.splice(i - 1, 2);\r\n                        i -= 2;\r\n                    }\r\n                }\r\n            }\r\n            //end trimDots\r\n\r\n            name = name.join('/');\r\n        }\r\n\r\n        //Apply map config if available.\r\n        if ((baseParts || starMap) && map) {\r\n            nameParts = name.split('/');\r\n\r\n            for (i = nameParts.length; i > 0; i -= 1) {\r\n                nameSegment = nameParts.slice(0, i).join(\"/\");\r\n\r\n                if (baseParts) {\r\n                    //Find the longest baseName segment match in the config.\r\n                    //So, do joins on the biggest to smallest lengths of baseParts.\r\n                    for (j = baseParts.length; j > 0; j -= 1) {\r\n                        mapValue = map[baseParts.slice(0, j).join('/')];\r\n\r\n                        //baseName segment has  config, find if it has one for\r\n                        //this name.\r\n                        if (mapValue) {\r\n                            mapValue = mapValue[nameSegment];\r\n                            if (mapValue) {\r\n                                //Match, update name to the new value.\r\n                                foundMap = mapValue;\r\n                                foundI = i;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (foundMap) {\r\n                    break;\r\n                }\r\n\r\n                //Check for a star map match, but just hold on to it,\r\n                //if there is a shorter segment match later in a matching\r\n                //config, then favor over this star map.\r\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\r\n                    foundStarMap = starMap[nameSegment];\r\n                    starI = i;\r\n                }\r\n            }\r\n\r\n            if (!foundMap && foundStarMap) {\r\n                foundMap = foundStarMap;\r\n                foundI = starI;\r\n            }\r\n\r\n            if (foundMap) {\r\n                nameParts.splice(0, foundI, foundMap);\r\n                name = nameParts.join('/');\r\n            }\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    function makeRequire(relName, forceSync) {\r\n        return function () {\r\n            //A version of a require function that passes a moduleName\r\n            //value for items that may need to\r\n            //look up paths relative to the moduleName\r\n            var args = aps.call(arguments, 0);\r\n\r\n            //If first arg is not require('string'), and there is only\r\n            //one arg, it is the array form without a callback. Insert\r\n            //a null so that the following concat is correct.\r\n            if (typeof args[0] !== 'string' && args.length === 1) {\r\n                args.push(null);\r\n            }\r\n            return req.apply(undef, args.concat([relName, forceSync]));\r\n        };\r\n    }\r\n\r\n    function makeNormalize(relName) {\r\n        return function (name) {\r\n            return normalize(name, relName);\r\n        };\r\n    }\r\n\r\n    function makeLoad(depName) {\r\n        return function (value) {\r\n            defined[depName] = value;\r\n        };\r\n    }\r\n\r\n    function callDep(name) {\r\n        if (hasProp(waiting, name)) {\r\n            var args = waiting[name];\r\n            delete waiting[name];\r\n            defining[name] = true;\r\n            main.apply(undef, args);\r\n        }\r\n\r\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\r\n            throw new Error('No ' + name);\r\n        }\r\n        return defined[name];\r\n    }\r\n\r\n    //Turns a plugin!resource to [plugin, resource]\r\n    //with the plugin being undefined if the name\r\n    //did not have a plugin prefix.\r\n    function splitPrefix(name) {\r\n        var prefix,\r\n            index = name ? name.indexOf('!') : -1;\r\n        if (index > -1) {\r\n            prefix = name.substring(0, index);\r\n            name = name.substring(index + 1, name.length);\r\n        }\r\n        return [prefix, name];\r\n    }\r\n\r\n    //Creates a parts array for a relName where first part is plugin ID,\r\n    //second part is resource ID. Assumes relName has already been normalized.\r\n    function makeRelParts(relName) {\r\n        return relName ? splitPrefix(relName) : [];\r\n    }\r\n\r\n    /**\r\n     * Makes a name map, normalizing the name, and using a plugin\r\n     * for normalization if necessary. Grabs a ref to plugin\r\n     * too, as an optimization.\r\n     */\r\n    makeMap = function (name, relParts) {\r\n        var plugin,\r\n            parts = splitPrefix(name),\r\n            prefix = parts[0],\r\n            relResourceName = relParts[1];\r\n\r\n        name = parts[1];\r\n\r\n        if (prefix) {\r\n            prefix = normalize(prefix, relResourceName);\r\n            plugin = callDep(prefix);\r\n        }\r\n\r\n        //Normalize according\r\n        if (prefix) {\r\n            if (plugin && plugin.normalize) {\r\n                name = plugin.normalize(name, makeNormalize(relResourceName));\r\n            } else {\r\n                name = normalize(name, relResourceName);\r\n            }\r\n        } else {\r\n            name = normalize(name, relResourceName);\r\n            parts = splitPrefix(name);\r\n            prefix = parts[0];\r\n            name = parts[1];\r\n            if (prefix) {\r\n                plugin = callDep(prefix);\r\n            }\r\n        }\r\n\r\n        //Using ridiculous property names for space reasons\r\n        return {\r\n            f: prefix ? prefix + '!' + name : name, //fullName\r\n            n: name,\r\n            pr: prefix,\r\n            p: plugin\r\n        };\r\n    };\r\n\r\n    function makeConfig(name) {\r\n        return function () {\r\n            return (config && config.config && config.config[name]) || {};\r\n        };\r\n    }\r\n\r\n    handlers = {\r\n        require: function (name) {\r\n            return makeRequire(name);\r\n        },\r\n        exports: function (name) {\r\n            var e = defined[name];\r\n            if (typeof e !== 'undefined') {\r\n                return e;\r\n            } else {\r\n                return (defined[name] = {});\r\n            }\r\n        },\r\n        module: function (name) {\r\n            return {\r\n                id: name,\r\n                uri: '',\r\n                exports: defined[name],\r\n                config: makeConfig(name)\r\n            };\r\n        }\r\n    };\r\n\r\n    main = function (name, deps, callback, relName) {\r\n        var cjsModule, depName, ret, map, i, relParts,\r\n            args = [],\r\n            callbackType = typeof callback,\r\n            usingExports;\r\n\r\n        //Use name if no relName\r\n        relName = relName || name;\r\n        relParts = makeRelParts(relName);\r\n\r\n        //Call the callback to define the module, if necessary.\r\n        if (callbackType === 'undefined' || callbackType === 'function') {\r\n            //Pull out the defined dependencies and pass the ordered\r\n            //values to the callback.\r\n            //Default to [require, exports, module] if no deps\r\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\r\n            for (i = 0; i < deps.length; i += 1) {\r\n                map = makeMap(deps[i], relParts);\r\n                depName = map.f;\r\n\r\n                //Fast path CommonJS standard dependencies.\r\n                if (depName === \"require\") {\r\n                    args[i] = handlers.require(name);\r\n                } else if (depName === \"exports\") {\r\n                    //CommonJS module spec 1.1\r\n                    args[i] = handlers.exports(name);\r\n                    usingExports = true;\r\n                } else if (depName === \"module\") {\r\n                    //CommonJS module spec 1.1\r\n                    cjsModule = args[i] = handlers.module(name);\r\n                } else if (hasProp(defined, depName) ||\r\n                           hasProp(waiting, depName) ||\r\n                           hasProp(defining, depName)) {\r\n                    args[i] = callDep(depName);\r\n                } else if (map.p) {\r\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\r\n                    args[i] = defined[depName];\r\n                } else {\r\n                    throw new Error(name + ' missing ' + depName);\r\n                }\r\n            }\r\n\r\n            ret = callback ? callback.apply(defined[name], args) : undefined;\r\n\r\n            if (name) {\r\n                //If setting exports via \"module\" is in play,\r\n                //favor that over return value and exports. After that,\r\n                //favor a non-undefined return value over exports use.\r\n                if (cjsModule && cjsModule.exports !== undef &&\r\n                        cjsModule.exports !== defined[name]) {\r\n                    defined[name] = cjsModule.exports;\r\n                } else if (ret !== undef || !usingExports) {\r\n                    //Use the return value from the function.\r\n                    defined[name] = ret;\r\n                }\r\n            }\r\n        } else if (name) {\r\n            //May just be an object definition for the module. Only\r\n            //worry about defining if have a module name.\r\n            defined[name] = callback;\r\n        }\r\n    };\r\n\r\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\r\n        if (typeof deps === \"string\") {\r\n            if (handlers[deps]) {\r\n                //callback in this case is really relName\r\n                return handlers[deps](callback);\r\n            }\r\n            //Just return the module wanted. In this scenario, the\r\n            //deps arg is the module name, and second arg (if passed)\r\n            //is just the relName.\r\n            //Normalize module name, if it contains . or ..\r\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\r\n        } else if (!deps.splice) {\r\n            //deps is a config object, not an array.\r\n            config = deps;\r\n            if (config.deps) {\r\n                req(config.deps, config.callback);\r\n            }\r\n            if (!callback) {\r\n                return;\r\n            }\r\n\r\n            if (callback.splice) {\r\n                //callback is an array, which means it is a dependency list.\r\n                //Adjust args if there are dependencies\r\n                deps = callback;\r\n                callback = relName;\r\n                relName = null;\r\n            } else {\r\n                deps = undef;\r\n            }\r\n        }\r\n\r\n        //Support require(['a'])\r\n        callback = callback || function () {};\r\n\r\n        //If relName is a function, it is an errback handler,\r\n        //so remove it.\r\n        if (typeof relName === 'function') {\r\n            relName = forceSync;\r\n            forceSync = alt;\r\n        }\r\n\r\n        //Simulate async callback;\r\n        if (forceSync) {\r\n            main(undef, deps, callback, relName);\r\n        } else {\r\n            //Using a non-zero value because of concern for what old browsers\r\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\r\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\r\n            //If want a value immediately, use require('id') instead -- something\r\n            //that works in almond on the global level, but not guaranteed and\r\n            //unlikely to work in other AMD implementations.\r\n            setTimeout(function () {\r\n                main(undef, deps, callback, relName);\r\n            }, 4);\r\n        }\r\n\r\n        return req;\r\n    };\r\n\r\n    /**\r\n     * Just drops the config on the floor, but returns req in case\r\n     * the config return value is used.\r\n     */\r\n    req.config = function (cfg) {\r\n        return req(cfg);\r\n    };\r\n\r\n    /**\r\n     * Expose module registry for debugging and tooling\r\n     */\r\n    requirejs._defined = defined;\r\n\r\n    define = function (name, deps, callback) {\r\n        if (typeof name !== 'string') {\r\n            throw new Error('See almond README: incorrect module build, no module name');\r\n        }\r\n\r\n        //This module may not have dependencies\r\n        if (!deps.splice) {\r\n            //deps is not an array, so probably means\r\n            //an object literal or factory function for\r\n            //the value. Adjust args.\r\n            callback = deps;\r\n            deps = [];\r\n        }\r\n\r\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\r\n            waiting[name] = [name, deps, callback];\r\n        }\r\n    };\r\n\r\n    define.amd = {\r\n        jQuery: true\r\n    };\r\n}());\ndefine(\"js/almond\", function(){});\n\ndefine('DebuggerCore',['require','exports','module'],function (require,exports,module) {\r\n// module.exports:: DI_container -> Debugger\r\nmodule.exports=function ({\r\n    //-- Bundled in BuilderClient4Sys\r\n    SourceFiles,\r\n    ProjectFactory:F,\r\n    CompiledProject:CP,\r\n    langMod,\r\n    StackDecoder,\r\n    //--\r\n    Tonyu,   root, FS,\r\n}) {//------\r\nif (root.Debugger) return root.Debugger;\r\nconst Events={\r\n    handlers:{},\r\n    getHandler(t) {\r\n        this.handlers[t]=this.handlers[t]||[];\r\n        return this.handlers[t];\r\n    },\r\n    fire(type,evt) {\r\n        try {\r\n            this.getHandler(type).forEach(f=>f(evt));\r\n        } catch(e) {\r\n            if (!evt || !evt.noCatch) Tonyu.onRuntimeError(e);\r\n        }\r\n    },\r\n    on(type,...args) {\r\n        const f=args.pop();\r\n        this.getHandler(type).push(f);\r\n    }\r\n};\r\nroot.Debugger={\r\n    ProjectFactory:F, FS,\r\n    setErrorHandler: function () {\r\n        Tonyu.onRuntimeError=async e=>{\r\n            console.error(e);\r\n            const stack=await StackDecoder.decode(e);\r\n            const evt={error:e, message:e.message,stack,noCatch:true};\r\n            Events.fire(\"runtimeError\",evt);\r\n        };\r\n    },\r\n    init: async function (prj,_Tonyu) {\r\n        Tonyu=Tonyu||_Tonyu;\r\n        this.setErrorHandler();\r\n        Tonyu.globals.$currentProject=prj;\r\n        Tonyu.currentProject=prj;\r\n        Tonyu.globals.$debugger=root.Debugger;\r\n        await prj.loadClasses();\r\n        console.log(\"Loading classes COMPLETE\",Tonyu.ID,Tonyu.classes);\r\n    },\r\n    exec: async function (srcraw) {\r\n        await SourceFiles.add(srcraw).exec();\r\n        Events.fire(\"classChanged\");\r\n    },\r\n    create: function (className) {\r\n        try {\r\n            const klass=Tonyu.getClass(className);\r\n            return new klass();\r\n        }catch(e) {\r\n            Tonyu.onRuntimeError(e);\r\n            //console.error(e);\r\n            //StackDecoder.decode(e);\r\n        }\r\n    },\r\n    on:Events.on.bind(Events)\r\n};\r\nif (root.parent && root.parent.onTonyuDebuggerReady) {\r\n    root.parent.onTonyuDebuggerReady(root.Debugger);\r\n}\r\nreturn root.Debugger;\r\n};//--------\r\n});//--- end of define\r\n;\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define('BuilderClient4Sys',[],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TonyuBuilderClient = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nconst root=require(\"../lib/root\");\r\nconst Worker=root.Worker;\r\nconst WS=require(\"../lib/WorkerServiceB\");\r\nconst SourceFiles=require(\"../lang/SourceFiles\");\r\nconst FileMap=require(\"../lib/FileMap\");\r\n//const FS=(root.parent && root.parent.FS) || root.FS;\r\nconst FS=root.FS;// TODO\r\n\r\nclass BuilderClient {\r\n    constructor(prj,config) {// dirBased\r\n        this.prj=prj;\r\n        let url=config.worker.url;\r\n        if (!url.match(/^blob/)) url+=\"?\"+Math.random();\r\n        this.w=new WS.Wrapper(new Worker(url));\r\n        this.config=config;\r\n        this.fileMap=new FileMap();\r\n    }\r\n    getOutputFile(...f) {return this.prj.getOutputFile(...f);}\r\n    getDir(){return this.prj.getDir();}\r\n    setDebugger(t) {this.debugger=t;}// t:iframe.contentWindow.Debugger\r\n    exec(srcraw) {\r\n        if (this.debugger) return this.debugger.exec(srcraw);\r\n    }\r\n    convertFromWorkerPath(path) {\r\n        return this.fileMap.convert(path,\"remote\",\"local\");\r\n    }\r\n    async init() {\r\n        if (this.inited) return;\r\n        const fileMap=this.fileMap;\r\n        const localPrjDir=this.getDir();\r\n        const files=localPrjDir.exportAsObject({\r\n            excludes: f=>f.ext()!==\".tonyu\" && f.name()!==\"options.json\"\r\n        });\r\n        const ns2depspec=this.config.worker.ns2depspec;\r\n        const {prjDir:remotePrjDir}=await this.w.run(\"compiler/init\",{\r\n            namespace:this.prj.getNamespace(),\r\n            files, ns2depspec\r\n        });\r\n        fileMap.add({local:localPrjDir, remote: remotePrjDir});\r\n        const deps=this.prj.getDependingProjects();//TODO recursive\r\n        for (let dep of deps) {\r\n            const ns=dep.getNamespace();\r\n            if (!ns2depspec[ns]) {\r\n                const localPrjDir=dep.getDir();\r\n                const files=localPrjDir.exportAsObject({\r\n                    excludesF: f=>f.ext()!==\".tonyu\" && f.name()!==\"options.json\"\r\n                });\r\n                const {prjDir:remotePrjDir}=await this.w.run(\"compiler/addDependingProject\",{\r\n                    namespace:ns, files\r\n                });\r\n                fileMap.add({local:localPrjDir, remote: remotePrjDir});\r\n            }\r\n        }\r\n        this.inited=true;\r\n    }\r\n    async fullCompile() {\r\n        try {\r\n            await this.init();\r\n            const compres=await this.w.run(\"compiler/fullCompile\");\r\n            console.log(compres);\r\n            const sf=SourceFiles.add(compres);\r\n            await sf.saveAs(this.getOutputFile());\r\n            await this.exec(compres);\r\n            return compres;\r\n        } catch(e) {\r\n            throw this.convertError(e);\r\n        }\r\n    }\r\n    async partialCompile(f) {\r\n        try {\r\n            const files={};files[f.relPath(this.getDir())]=f.text();\r\n            await this.init();\r\n            const compres=await this.w.run(\"compiler/postChange\",{files});\r\n            console.log(compres);\r\n            await this.exec(compres);\r\n            return compres;\r\n        } catch(e) {\r\n            throw this.convertError(e);\r\n        }\r\n    }\r\n    async renameClassName(from,to) {\r\n        try {\r\n            await this.init();\r\n            let changed=await this.w.run(\"compiler/renameClassName\",{from,to});\r\n            for (let n in changed) {\r\n                let val=changed[n];\r\n                n=this.convertFromWorkerPath(n);\r\n                if (val==null) {\r\n                    FS.get(n).rm();\r\n                } else {\r\n                    FS.get(n).text(val);\r\n                }\r\n            }\r\n            return changed;\r\n        } catch(e) {\r\n            throw this.convertError(e);\r\n        }\r\n    }\r\n    convertError(e) {\r\n        if (e.isTError) {\r\n            e.src=FS.get(this.convertFromWorkerPath(e.src));\r\n        }\r\n        return e;\r\n    }\r\n    async run() {\r\n        await this.init();\r\n        await this.fullCompile();\r\n        this.getDir().watch(async (e,f)=>{\r\n            console.log(e,f.path());\r\n            if (f.ext()===\".tonyu\") {\r\n                const nsraw=await this.partialCompile(f);\r\n                if (this.config.onCompiled) this.config.onCompiled(nsraw);\r\n\r\n                //if (root.Tonyu.globals.$restart) root.Tonyu.globals.$restart();\r\n            }\r\n        });\r\n    }\r\n}\r\nBuilderClient.SourceFiles=SourceFiles;\r\n//root.TonyuBuilderClient=BuilderClient;\r\nmodule.exports=BuilderClient;\r\n\n},{\"../lang/SourceFiles\":3,\"../lib/FileMap\":8,\"../lib/WorkerServiceB\":9,\"../lib/root\":10}],2:[function(require,module,exports){\n// Add extra libraries for Tonyu System IDE\r\n//const root=require(\"../lib/root\");\r\nconst BuilderClient=require(\"./BuilderClient\");\r\n\r\nconst SourceFiles=require(\"../lang/SourceFiles\");\r\nconst ProjectFactory=require(\"../project/ProjectFactory\");\r\nconst CompiledProject=require(\"../project/CompiledProject\");\r\nconst langMod=require(\"../lang/langMod\");\r\nconst StackDecoder=require(\"../lang/StackDecoder\");\r\nconst SourceMap=require(\"../lang/source-map\");\r\nBuilderClient.SourceFiles=SourceFiles;\r\nBuilderClient.ProjectFactory=ProjectFactory;\r\nBuilderClient.CompiledProject=CompiledProject;\r\nBuilderClient.langMod=langMod;\r\nBuilderClient.StackDecoder=StackDecoder;\r\nBuilderClient.SourceMap=SourceMap;\r\nmodule.exports=BuilderClient;\r\n//root.TonyuBuilderClient=BuilderClient;\r\n\n},{\"../lang/SourceFiles\":3,\"../lang/StackDecoder\":4,\"../lang/langMod\":5,\"../lang/source-map\":6,\"../project/CompiledProject\":11,\"../project/ProjectFactory\":12,\"./BuilderClient\":1}],3:[function(require,module,exports){\n//define(function (require,exports,module) {\r\n/*const root=require(\"root\");*/\r\nconst root=require(\"../lib/root\");\r\nfunction timeout(t) {\r\n    return new Promise(s=>setTimeout(s,t));\r\n}\r\nlet vm;\r\n/*global global*/\r\nif (typeof global!==\"undefined\" && global.require) {\r\n    vm=global.require(\"vm\");\r\n}\r\nclass SourceFile {\r\n    // var text, sourceMap:S.Sourcemap;\r\n    constructor(text, sourceMap) {\r\n        if (typeof text===\"object\") {\r\n            const params=text;\r\n            sourceMap=params.sourceMap;\r\n            //functions=params.functions;\r\n            text=params.text;\r\n            if (params.url) {\r\n                this.url=params.url;\r\n            }\r\n        }\r\n        this.text=text;\r\n        this.sourceMap=sourceMap && sourceMap.toString();\r\n        //this.functions=functions;\r\n    }\r\n    async saveAs(outf) {\r\n        const mapFile=outf.sibling(outf.name()+\".map\");\r\n        let text=this.text;\r\n        //text+=\"\\n//# traceFunctions=\"+JSON.stringify(this.functions);\r\n        if (this.sourceMap) {\r\n            await mapFile.text(this.sourceMap);\r\n            text+=\"\\n//# sourceMappingURL=\"+mapFile.name();\r\n        }\r\n        await outf.text(text);\r\n        //return Promise.resolve();\r\n    }\r\n    exec(options) {\r\n        return new Promise((resolve, reject)=>{\r\n            if (root.window) {\r\n                const document=root.document;\r\n                let u;\r\n                if (this.url) {\r\n                    u=this.url;\r\n                } else {\r\n                    const b=new root.Blob([this.text], {type: 'text/plain'});\r\n                    u=root.URL.createObjectURL(b);\r\n                }\r\n                const s=document.createElement(\"script\");\r\n                console.log(\"load script\",u);\r\n                s.setAttribute(\"src\",u);\r\n                s.addEventListener(\"load\",e=>{\r\n                    resolve(e);\r\n                });\r\n                this.parent.url2SourceFile[u]=this;\r\n                document.body.appendChild(s);\r\n            } else if (options && options.tmpdir){\r\n                const tmpdir=options.tmpdir;\r\n                const uniqFile=tmpdir.rel(Math.random()+\".js\");\r\n                const mapFile=uniqFile.sibling(uniqFile.name()+\".map\");\r\n                let text=this.text;\r\n                text+=\"\\n//# sourceMappingURL=\"+mapFile.name();\r\n                uniqFile.text(text);\r\n                mapFile.text(this.sourceMap);\r\n                //console.log(\"EX\",uniqFile.exists());\r\n                require(uniqFile.path());\r\n                uniqFile.rm();\r\n                mapFile.rm();\r\n                resolve();\r\n            } else if (root.importScripts && this.url){\r\n                root.importScripts(this.url);\r\n                resolve();\r\n            } else {\r\n                const F=Function;\r\n                const f=(vm? vm.compileFunction(this.text) : new F(this.text));\r\n                resolve(f());\r\n            }\r\n        });\r\n    }\r\n    export() {\r\n        return {text:this.text, sourceMap:this.sourceMap, functions:this.functions};\r\n    }\r\n}\r\nclass SourceFiles {\r\n    constructor() {\r\n        this.url2SourceFile={};\r\n    }\r\n    add(text, sourceMap) {\r\n        const sourceFile=new SourceFile(text, sourceMap);\r\n        /*if (sourceFile.functions) for (let k in sourceFile.functions) {\r\n            this.functions[k]=sourceFile;\r\n        }*/\r\n        sourceFile.parent=this;\r\n        return sourceFile;\r\n    }\r\n\r\n}\r\nmodule.exports=new SourceFiles();\r\n//});/*--end of define--*/\r\n\n},{\"../lib/root\":10}],4:[function(require,module,exports){\nconst S=require(\"./source-map\");\r\nconst StackTrace=require(\"./stacktrace\");\r\nconst SourceFiles=require(\"./SourceFiles\");\r\nmodule.exports={\r\n    async decode(e) {\r\n        try{\r\n            const tr=await StackTrace.fromError(e,{offline:true});\r\n            tr.forEach(t=>{\r\n                try {\r\n                    const sf=SourceFiles.url2SourceFile[t.fileName];\r\n                    console.log(\"sf\", t.fileName, sf, SourceFiles.url2SourceFile);\r\n                    if (sf) {\r\n                        const opt={\r\n                            line: t.lineNumber, column:t.columnNumber,\r\n                            bias:S.SourceMapConsumer.GREATEST_LOWER_BOUND\r\n                        };\r\n                        const pos=this.originalPositionFor(sf,opt);\r\n                        console.log(\"pos\",opt,pos);\r\n                        if (pos.source) t.fileName=pos.source;\r\n                        if (pos.line) t.lineNumber=pos.line;\r\n                        if (pos.column) t.columnNumber=pos.column;\r\n                    }\r\n                }catch(ex) {\r\n                    console.log(\"Sourcemap error\",ex);\r\n                }\r\n            });\r\n            console.log(\"Converted: \",tr);\r\n            return tr;\r\n        } catch(ex) {\r\n            console.log(\"StackTrace error\",ex);\r\n            if (!e || !e.stack) {\r\n                console.log(\"HennaError\",e);\r\n                return [];\r\n            }\r\n            return e.stack.split(\"\\n\");\r\n        }\r\n    },\r\n    originalPositionFor(sf,opt) {\r\n        const s=this.getSourceMapConsumer(sf);\r\n        if (!s) return opt;\r\n        return s.originalPositionFor(opt);\r\n    },\r\n    getSourceMapConsumer(sf) {\r\n        if (sf.sourceMapConsumer) return sf.sourceMapConsumer;\r\n        sf.sourceMapConsumer=new S.SourceMapConsumer(JSON.parse(sf.sourceMap));\r\n        //console.log(this.sourceMapConsumer);\r\n        return sf.sourceMapConsumer;\r\n    }\r\n};\r\n\n},{\"./SourceFiles\":3,\"./source-map\":6,\"./stacktrace\":7}],5:[function(require,module,exports){\n    module.exports={\r\n        getNamespace: function () {//override\r\n            var opt=this.getOptions();\r\n            if (opt.compiler && opt.compiler.namespace) return opt.compiler.namespace;\r\n            throw new Error(\"Namespace is not set\");\r\n        },\r\n        async loadDependingClasses() {\r\n            const myNsp=this.getNamespace();\r\n            for (let p of this.getDependingProjects()) {\r\n                if (p.getNamespace()===myNsp) continue;\r\n                await p.loadClasses();\r\n            }\r\n        },\r\n        getEXT() {return \".tonyu\";}\r\n        // loadClasses: stub\r\n    };\r\n\n},{}],6:[function(require,module,exports){\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine(\"source-map\",[], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"sourceMap\"] = factory();\r\n\telse\r\n\t\troot[\"sourceMap\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId])\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\texports: {},\r\n/******/ \t\t\tid: moduleId,\r\n/******/ \t\t\tloaded: false\r\n/******/ \t\t};\r\n\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.loaded = true;\r\n\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n\r\n\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/*\r\n\t* Copyright 2009-2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE.txt or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\texports.SourceMapGenerator = __webpack_require__(1).SourceMapGenerator;\r\n\texports.SourceMapConsumer = __webpack_require__(7).SourceMapConsumer;\r\n\texports.SourceNode = __webpack_require__(10).SourceNode;\r\n\r\n\r\n/***/ },\r\n/* 1 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar base64VLQ = __webpack_require__(2);\r\n\tvar util = __webpack_require__(4);\r\n\tvar ArraySet = __webpack_require__(5).ArraySet;\r\n\tvar MappingList = __webpack_require__(6).MappingList;\r\n\r\n\t/**\r\n\t* An instance of the SourceMapGenerator represents a source map which is\r\n\t* being built incrementally. You may pass an object with the following\r\n\t* properties:\r\n\t*\r\n\t*   - file: The filename of the generated source.\r\n\t*   - sourceRoot: A root for all relative URLs in this source map.\r\n\t*/\r\n\tfunction SourceMapGenerator(aArgs) {\r\n\t\tif (!aArgs) {\r\n\t\taArgs = {};\r\n\t\t}\r\n\t\tthis._file = util.getArg(aArgs, 'file', null);\r\n\t\tthis._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\r\n\t\tthis._skipValidation = util.getArg(aArgs, 'skipValidation', false);\r\n\t\tthis._sources = new ArraySet();\r\n\t\tthis._names = new ArraySet();\r\n\t\tthis._mappings = new MappingList();\r\n\t\tthis._sourcesContents = null;\r\n\t}\r\n\r\n\tSourceMapGenerator.prototype._version = 3;\r\n\r\n\t/**\r\n\t* Creates a new SourceMapGenerator based on a SourceMapConsumer\r\n\t*\r\n\t* @param aSourceMapConsumer The SourceMap.\r\n\t*/\r\n\tSourceMapGenerator.fromSourceMap =\r\n\t\tfunction SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\r\n\t\tvar sourceRoot = aSourceMapConsumer.sourceRoot;\r\n\t\tvar generator = new SourceMapGenerator({\r\n\t\t\tfile: aSourceMapConsumer.file,\r\n\t\t\tsourceRoot: sourceRoot\r\n\t\t});\r\n\t\taSourceMapConsumer.eachMapping(function (mapping) {\r\n\t\t\tvar newMapping = {\r\n\t\t\tgenerated: {\r\n\t\t\t\tline: mapping.generatedLine,\r\n\t\t\t\tcolumn: mapping.generatedColumn\r\n\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (mapping.source != null) {\r\n\t\t\tnewMapping.source = mapping.source;\r\n\t\t\tif (sourceRoot != null) {\r\n\t\t\t\tnewMapping.source = util.relative(sourceRoot, newMapping.source);\r\n\t\t\t}\r\n\r\n\t\t\tnewMapping.original = {\r\n\t\t\t\tline: mapping.originalLine,\r\n\t\t\t\tcolumn: mapping.originalColumn\r\n\t\t\t};\r\n\r\n\t\t\tif (mapping.name != null) {\r\n\t\t\t\tnewMapping.name = mapping.name;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgenerator.addMapping(newMapping);\r\n\t\t});\r\n\t\taSourceMapConsumer.sources.forEach(function (sourceFile) {\r\n\t\t\tvar content = aSourceMapConsumer.sourceContentFor(sourceFile);\r\n\t\t\tif (content != null) {\r\n\t\t\tgenerator.setSourceContent(sourceFile, content);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn generator;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Add a single mapping from original source line and column to the generated\r\n\t* source's line and column for this source map being created. The mapping\r\n\t* object should have the following properties:\r\n\t*\r\n\t*   - generated: An object with the generated line and column positions.\r\n\t*   - original: An object with the original line and column positions.\r\n\t*   - source: The original source file (relative to the sourceRoot).\r\n\t*   - name: An optional original token name for this mapping.\r\n\t*/\r\n\tSourceMapGenerator.prototype.addMapping =\r\n\t\tfunction SourceMapGenerator_addMapping(aArgs) {\r\n\t\tvar generated = util.getArg(aArgs, 'generated');\r\n\t\tvar original = util.getArg(aArgs, 'original', null);\r\n\t\tvar source = util.getArg(aArgs, 'source', null);\r\n\t\tvar name = util.getArg(aArgs, 'name', null);\r\n\r\n\t\tif (!this._skipValidation) {\r\n\t\t\tthis._validateMapping(generated, original, source, name);\r\n\t\t}\r\n\r\n\t\tif (source != null) {\r\n\t\t\tsource = String(source);\r\n\t\t\tif (!this._sources.has(source)) {\r\n\t\t\tthis._sources.add(source);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (name != null) {\r\n\t\t\tname = String(name);\r\n\t\t\tif (!this._names.has(name)) {\r\n\t\t\tthis._names.add(name);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._mappings.add({\r\n\t\t\tgeneratedLine: generated.line,\r\n\t\t\tgeneratedColumn: generated.column,\r\n\t\t\toriginalLine: original != null && original.line,\r\n\t\t\toriginalColumn: original != null && original.column,\r\n\t\t\tsource: source,\r\n\t\t\tname: name\r\n\t\t});\r\n\t\t};\r\n\r\n\t/**\r\n\t* Set the source content for a source file.\r\n\t*/\r\n\tSourceMapGenerator.prototype.setSourceContent =\r\n\t\tfunction SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\r\n\t\tvar source = aSourceFile;\r\n\t\tif (this._sourceRoot != null) {\r\n\t\t\tsource = util.relative(this._sourceRoot, source);\r\n\t\t}\r\n\r\n\t\tif (aSourceContent != null) {\r\n\t\t\t// Add the source content to the _sourcesContents map.\r\n\t\t\t// Create a new _sourcesContents map if the property is null.\r\n\t\t\tif (!this._sourcesContents) {\r\n\t\t\tthis._sourcesContents = Object.create(null);\r\n\t\t\t}\r\n\t\t\tthis._sourcesContents[util.toSetString(source)] = aSourceContent;\r\n\t\t} else if (this._sourcesContents) {\r\n\t\t\t// Remove the source file from the _sourcesContents map.\r\n\t\t\t// If the _sourcesContents map is empty, set the property to null.\r\n\t\t\tdelete this._sourcesContents[util.toSetString(source)];\r\n\t\t\tif (Object.keys(this._sourcesContents).length === 0) {\r\n\t\t\tthis._sourcesContents = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Applies the mappings of a sub-source-map for a specific source file to the\r\n\t* source map being generated. Each mapping to the supplied source file is\r\n\t* rewritten using the supplied source map. Note: The resolution for the\r\n\t* resulting mappings is the minimium of this map and the supplied map.\r\n\t*\r\n\t* @param aSourceMapConsumer The source map to be applied.\r\n\t* @param aSourceFile Optional. The filename of the source file.\r\n\t*        If omitted, SourceMapConsumer's file property will be used.\r\n\t* @param aSourceMapPath Optional. The dirname of the path to the source map\r\n\t*        to be applied. If relative, it is relative to the SourceMapConsumer.\r\n\t*        This parameter is needed when the two source maps aren't in the same\r\n\t*        directory, and the source map to be applied contains relative source\r\n\t*        paths. If so, those relative source paths need to be rewritten\r\n\t*        relative to the SourceMapGenerator.\r\n\t*/\r\n\tSourceMapGenerator.prototype.applySourceMap =\r\n\t\tfunction SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\r\n\t\tvar sourceFile = aSourceFile;\r\n\t\t// If aSourceFile is omitted, we will use the file property of the SourceMap\r\n\t\tif (aSourceFile == null) {\r\n\t\t\tif (aSourceMapConsumer.file == null) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\r\n\t\t\t\t'or the source map\\'s \"file\" property. Both were omitted.'\r\n\t\t\t);\r\n\t\t\t}\r\n\t\t\tsourceFile = aSourceMapConsumer.file;\r\n\t\t}\r\n\t\tvar sourceRoot = this._sourceRoot;\r\n\t\t// Make \"sourceFile\" relative if an absolute Url is passed.\r\n\t\tif (sourceRoot != null) {\r\n\t\t\tsourceFile = util.relative(sourceRoot, sourceFile);\r\n\t\t}\r\n\t\t// Applying the SourceMap can add and remove items from the sources and\r\n\t\t// the names array.\r\n\t\tvar newSources = new ArraySet();\r\n\t\tvar newNames = new ArraySet();\r\n\r\n\t\t// Find mappings for the \"sourceFile\"\r\n\t\tthis._mappings.unsortedForEach(function (mapping) {\r\n\t\t\tif (mapping.source === sourceFile && mapping.originalLine != null) {\r\n\t\t\t// Check if it can be mapped by the source map, then update the mapping.\r\n\t\t\tvar original = aSourceMapConsumer.originalPositionFor({\r\n\t\t\t\tline: mapping.originalLine,\r\n\t\t\t\tcolumn: mapping.originalColumn\r\n\t\t\t});\r\n\t\t\tif (original.source != null) {\r\n\t\t\t\t// Copy mapping\r\n\t\t\t\tmapping.source = original.source;\r\n\t\t\t\tif (aSourceMapPath != null) {\r\n\t\t\t\tmapping.source = util.join(aSourceMapPath, mapping.source)\r\n\t\t\t\t}\r\n\t\t\t\tif (sourceRoot != null) {\r\n\t\t\t\tmapping.source = util.relative(sourceRoot, mapping.source);\r\n\t\t\t\t}\r\n\t\t\t\tmapping.originalLine = original.line;\r\n\t\t\t\tmapping.originalColumn = original.column;\r\n\t\t\t\tif (original.name != null) {\r\n\t\t\t\tmapping.name = original.name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar source = mapping.source;\r\n\t\t\tif (source != null && !newSources.has(source)) {\r\n\t\t\tnewSources.add(source);\r\n\t\t\t}\r\n\r\n\t\t\tvar name = mapping.name;\r\n\t\t\tif (name != null && !newNames.has(name)) {\r\n\t\t\tnewNames.add(name);\r\n\t\t\t}\r\n\r\n\t\t}, this);\r\n\t\tthis._sources = newSources;\r\n\t\tthis._names = newNames;\r\n\r\n\t\t// Copy sourcesContents of applied map.\r\n\t\taSourceMapConsumer.sources.forEach(function (sourceFile) {\r\n\t\t\tvar content = aSourceMapConsumer.sourceContentFor(sourceFile);\r\n\t\t\tif (content != null) {\r\n\t\t\tif (aSourceMapPath != null) {\r\n\t\t\t\tsourceFile = util.join(aSourceMapPath, sourceFile);\r\n\t\t\t}\r\n\t\t\tif (sourceRoot != null) {\r\n\t\t\t\tsourceFile = util.relative(sourceRoot, sourceFile);\r\n\t\t\t}\r\n\t\t\tthis.setSourceContent(sourceFile, content);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t\t};\r\n\r\n\t/**\r\n\t* A mapping can have one of the three levels of data:\r\n\t*\r\n\t*   1. Just the generated position.\r\n\t*   2. The Generated position, original position, and original source.\r\n\t*   3. Generated and original position, original source, as well as a name\r\n\t*      token.\r\n\t*\r\n\t* To maintain consistency, we validate that any new mapping being added falls\r\n\t* in to one of these categories.\r\n\t*/\r\n\tSourceMapGenerator.prototype._validateMapping =\r\n\t\tfunction SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taName) {\r\n\t\tif (aGenerated && 'line' in aGenerated && 'column' in aGenerated\r\n\t\t\t&& aGenerated.line > 0 && aGenerated.column >= 0\r\n\t\t\t&& !aOriginal && !aSource && !aName) {\r\n\t\t\t// Case 1.\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\r\n\t\t\t\t&& aOriginal && 'line' in aOriginal && 'column' in aOriginal\r\n\t\t\t\t&& aGenerated.line > 0 && aGenerated.column >= 0\r\n\t\t\t\t&& aOriginal.line > 0 && aOriginal.column >= 0\r\n\t\t\t\t&& aSource) {\r\n\t\t\t// Cases 2 and 3.\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('Invalid mapping: ' + JSON.stringify({\r\n\t\t\tgenerated: aGenerated,\r\n\t\t\tsource: aSource,\r\n\t\t\toriginal: aOriginal,\r\n\t\t\tname: aName\r\n\t\t\t}));\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Serialize the accumulated mappings in to the stream of base 64 VLQs\r\n\t* specified by the source map format.\r\n\t*/\r\n\tSourceMapGenerator.prototype._serializeMappings =\r\n\t\tfunction SourceMapGenerator_serializeMappings() {\r\n\t\tvar previousGeneratedColumn = 0;\r\n\t\tvar previousGeneratedLine = 1;\r\n\t\tvar previousOriginalColumn = 0;\r\n\t\tvar previousOriginalLine = 0;\r\n\t\tvar previousName = 0;\r\n\t\tvar previousSource = 0;\r\n\t\tvar result = '';\r\n\t\tvar next;\r\n\t\tvar mapping;\r\n\t\tvar nameIdx;\r\n\t\tvar sourceIdx;\r\n\r\n\t\tvar mappings = this._mappings.toArray();\r\n\t\tfor (var i = 0, len = mappings.length; i < len; i++) {\r\n\t\t\tmapping = mappings[i];\r\n\t\t\tnext = ''\r\n\r\n\t\t\tif (mapping.generatedLine !== previousGeneratedLine) {\r\n\t\t\tpreviousGeneratedColumn = 0;\r\n\t\t\twhile (mapping.generatedLine !== previousGeneratedLine) {\r\n\t\t\t\tnext += ';';\r\n\t\t\t\tpreviousGeneratedLine++;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tif (i > 0) {\r\n\t\t\t\tif (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\r\n\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tnext += ',';\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tnext += base64VLQ.encode(mapping.generatedColumn\r\n\t\t\t\t\t\t\t\t\t- previousGeneratedColumn);\r\n\t\t\tpreviousGeneratedColumn = mapping.generatedColumn;\r\n\r\n\t\t\tif (mapping.source != null) {\r\n\t\t\tsourceIdx = this._sources.indexOf(mapping.source);\r\n\t\t\tnext += base64VLQ.encode(sourceIdx - previousSource);\r\n\t\t\tpreviousSource = sourceIdx;\r\n\r\n\t\t\t// lines are stored 0-based in SourceMap spec version 3\r\n\t\t\tnext += base64VLQ.encode(mapping.originalLine - 1\r\n\t\t\t\t\t\t\t\t\t\t- previousOriginalLine);\r\n\t\t\tpreviousOriginalLine = mapping.originalLine - 1;\r\n\r\n\t\t\tnext += base64VLQ.encode(mapping.originalColumn\r\n\t\t\t\t\t\t\t\t\t\t- previousOriginalColumn);\r\n\t\t\tpreviousOriginalColumn = mapping.originalColumn;\r\n\r\n\t\t\tif (mapping.name != null) {\r\n\t\t\t\tnameIdx = this._names.indexOf(mapping.name);\r\n\t\t\t\tnext += base64VLQ.encode(nameIdx - previousName);\r\n\t\t\t\tpreviousName = nameIdx;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tresult += next;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t\t};\r\n\r\n\tSourceMapGenerator.prototype._generateSourcesContent =\r\n\t\tfunction SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\r\n\t\treturn aSources.map(function (source) {\r\n\t\t\tif (!this._sourcesContents) {\r\n\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (aSourceRoot != null) {\r\n\t\t\tsource = util.relative(aSourceRoot, source);\r\n\t\t\t}\r\n\t\t\tvar key = util.toSetString(source);\r\n\t\t\treturn Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\r\n\t\t\t? this._sourcesContents[key]\r\n\t\t\t: null;\r\n\t\t}, this);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Externalize the source map.\r\n\t*/\r\n\tSourceMapGenerator.prototype.toJSON =\r\n\t\tfunction SourceMapGenerator_toJSON() {\r\n\t\tvar map = {\r\n\t\t\tversion: this._version,\r\n\t\t\tsources: this._sources.toArray(),\r\n\t\t\tnames: this._names.toArray(),\r\n\t\t\tmappings: this._serializeMappings()\r\n\t\t};\r\n\t\tif (this._file != null) {\r\n\t\t\tmap.file = this._file;\r\n\t\t}\r\n\t\tif (this._sourceRoot != null) {\r\n\t\t\tmap.sourceRoot = this._sourceRoot;\r\n\t\t}\r\n\t\tif (this._sourcesContents) {\r\n\t\t\tmap.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Render the source map being generated to a string.\r\n\t*/\r\n\tSourceMapGenerator.prototype.toString =\r\n\t\tfunction SourceMapGenerator_toString() {\r\n\t\treturn JSON.stringify(this.toJSON());\r\n\t\t};\r\n\r\n\texports.SourceMapGenerator = SourceMapGenerator;\r\n\r\n\r\n/***/ },\r\n/* 2 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*\r\n\t* Based on the Base 64 VLQ implementation in Closure Compiler:\r\n\t* https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\r\n\t*\r\n\t* Copyright 2011 The Closure Compiler Authors. All rights reserved.\r\n\t* Redistribution and use in source and binary forms, with or without\r\n\t* modification, are permitted provided that the following conditions are\r\n\t* met:\r\n\t*\r\n\t*  * Redistributions of source code must retain the above copyright\r\n\t*    notice, this list of conditions and the following disclaimer.\r\n\t*  * Redistributions in binary form must reproduce the above\r\n\t*    copyright notice, this list of conditions and the following\r\n\t*    disclaimer in the documentation and/or other materials provided\r\n\t*    with the distribution.\r\n\t*  * Neither the name of Google Inc. nor the names of its\r\n\t*    contributors may be used to endorse or promote products derived\r\n\t*    from this software without specific prior written permission.\r\n\t*\r\n\t* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n\t* \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n\t* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n\t* A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n\t* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n\t* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n\t* LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n\t* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n\t* THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n\t* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n\t* OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\t*/\r\n\r\n\tvar base64 = __webpack_require__(3);\r\n\r\n\t// A single base 64 digit can contain 6 bits of data. For the base 64 variable\r\n\t// length quantities we use in the source map spec, the first bit is the sign,\r\n\t// the next four bits are the actual value, and the 6th bit is the\r\n\t// continuation bit. The continuation bit tells us whether there are more\r\n\t// digits in this value following this digit.\r\n\t//\r\n\t//   Continuation\r\n\t//   |    Sign\r\n\t//   |    |\r\n\t//   V    V\r\n\t//   101011\r\n\r\n\tvar VLQ_BASE_SHIFT = 5;\r\n\r\n\t// binary: 100000\r\n\tvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\r\n\r\n\t// binary: 011111\r\n\tvar VLQ_BASE_MASK = VLQ_BASE - 1;\r\n\r\n\t// binary: 100000\r\n\tvar VLQ_CONTINUATION_BIT = VLQ_BASE;\r\n\r\n\t/**\r\n\t* Converts from a two-complement value to a value where the sign bit is\r\n\t* placed in the least significant bit.  For example, as decimals:\r\n\t*   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\r\n\t*   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\r\n\t*/\r\n\tfunction toVLQSigned(aValue) {\r\n\t\treturn aValue < 0\r\n\t\t? ((-aValue) << 1) + 1\r\n\t\t: (aValue << 1) + 0;\r\n\t}\r\n\r\n\t/**\r\n\t* Converts to a two-complement value from a value where the sign bit is\r\n\t* placed in the least significant bit.  For example, as decimals:\r\n\t*   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\r\n\t*   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\r\n\t*/\r\n\tfunction fromVLQSigned(aValue) {\r\n\t\tvar isNegative = (aValue & 1) === 1;\r\n\t\tvar shifted = aValue >> 1;\r\n\t\treturn isNegative\r\n\t\t? -shifted\r\n\t\t: shifted;\r\n\t}\r\n\r\n\t/**\r\n\t* Returns the base 64 VLQ encoded value.\r\n\t*/\r\n\texports.encode = function base64VLQ_encode(aValue) {\r\n\t\tvar encoded = \"\";\r\n\t\tvar digit;\r\n\r\n\t\tvar vlq = toVLQSigned(aValue);\r\n\r\n\t\tdo {\r\n\t\tdigit = vlq & VLQ_BASE_MASK;\r\n\t\tvlq >>>= VLQ_BASE_SHIFT;\r\n\t\tif (vlq > 0) {\r\n\t\t\t// There are still more digits in this value, so we must make sure the\r\n\t\t\t// continuation bit is marked.\r\n\t\t\tdigit |= VLQ_CONTINUATION_BIT;\r\n\t\t}\r\n\t\tencoded += base64.encode(digit);\r\n\t\t} while (vlq > 0);\r\n\r\n\t\treturn encoded;\r\n\t};\r\n\r\n\t/**\r\n\t* Decodes the next base 64 VLQ value from the given string and returns the\r\n\t* value and the rest of the string via the out parameter.\r\n\t*/\r\n\texports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\r\n\t\tvar strLen = aStr.length;\r\n\t\tvar result = 0;\r\n\t\tvar shift = 0;\r\n\t\tvar continuation, digit;\r\n\r\n\t\tdo {\r\n\t\tif (aIndex >= strLen) {\r\n\t\t\tthrow new Error(\"Expected more digits in base 64 VLQ value.\");\r\n\t\t}\r\n\r\n\t\tdigit = base64.decode(aStr.charCodeAt(aIndex++));\r\n\t\tif (digit === -1) {\r\n\t\t\tthrow new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\r\n\t\t}\r\n\r\n\t\tcontinuation = !!(digit & VLQ_CONTINUATION_BIT);\r\n\t\tdigit &= VLQ_BASE_MASK;\r\n\t\tresult = result + (digit << shift);\r\n\t\tshift += VLQ_BASE_SHIFT;\r\n\t\t} while (continuation);\r\n\r\n\t\taOutParam.value = fromVLQSigned(result);\r\n\t\taOutParam.rest = aIndex;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 3 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\r\n\r\n\t/**\r\n\t* Encode an integer in the range of 0 to 63 to a single base 64 digit.\r\n\t*/\r\n\texports.encode = function (number) {\r\n\t\tif (0 <= number && number < intToCharMap.length) {\r\n\t\treturn intToCharMap[number];\r\n\t\t}\r\n\t\tthrow new TypeError(\"Must be between 0 and 63: \" + number);\r\n\t};\r\n\r\n\t/**\r\n\t* Decode a single base 64 character code digit to an integer. Returns -1 on\r\n\t* failure.\r\n\t*/\r\n\texports.decode = function (charCode) {\r\n\t\tvar bigA = 65;     // 'A'\r\n\t\tvar bigZ = 90;     // 'Z'\r\n\r\n\t\tvar littleA = 97;  // 'a'\r\n\t\tvar littleZ = 122; // 'z'\r\n\r\n\t\tvar zero = 48;     // '0'\r\n\t\tvar nine = 57;     // '9'\r\n\r\n\t\tvar plus = 43;     // '+'\r\n\t\tvar slash = 47;    // '/'\r\n\r\n\t\tvar littleOffset = 26;\r\n\t\tvar numberOffset = 52;\r\n\r\n\t\t// 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\r\n\t\tif (bigA <= charCode && charCode <= bigZ) {\r\n\t\treturn (charCode - bigA);\r\n\t\t}\r\n\r\n\t\t// 26 - 51: abcdefghijklmnopqrstuvwxyz\r\n\t\tif (littleA <= charCode && charCode <= littleZ) {\r\n\t\treturn (charCode - littleA + littleOffset);\r\n\t\t}\r\n\r\n\t\t// 52 - 61: 0123456789\r\n\t\tif (zero <= charCode && charCode <= nine) {\r\n\t\treturn (charCode - zero + numberOffset);\r\n\t\t}\r\n\r\n\t\t// 62: +\r\n\t\tif (charCode == plus) {\r\n\t\treturn 62;\r\n\t\t}\r\n\r\n\t\t// 63: /\r\n\t\tif (charCode == slash) {\r\n\t\treturn 63;\r\n\t\t}\r\n\r\n\t\t// Invalid base64 digit.\r\n\t\treturn -1;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 4 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\t/**\r\n\t* This is a helper function for getting values from parameter/options\r\n\t* objects.\r\n\t*\r\n\t* @param args The object we are extracting values from\r\n\t* @param name The name of the property we are getting.\r\n\t* @param defaultValue An optional value to return if the property is missing\r\n\t* from the object. If this is not specified and the property is missing, an\r\n\t* error will be thrown.\r\n\t*/\r\n\tfunction getArg(aArgs, aName, aDefaultValue) {\r\n\t\tif (aName in aArgs) {\r\n\t\treturn aArgs[aName];\r\n\t\t} else if (arguments.length === 3) {\r\n\t\treturn aDefaultValue;\r\n\t\t} else {\r\n\t\tthrow new Error('\"' + aName + '\" is a required argument.');\r\n\t\t}\r\n\t}\r\n\texports.getArg = getArg;\r\n\r\n\tvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\r\n\tvar dataUrlRegexp = /^data:.+\\,.+$/;\r\n\r\n\tfunction urlParse(aUrl) {\r\n\t\tvar match = aUrl.match(urlRegexp);\r\n\t\tif (!match) {\r\n\t\treturn null;\r\n\t\t}\r\n\t\treturn {\r\n\t\tscheme: match[1],\r\n\t\tauth: match[2],\r\n\t\thost: match[3],\r\n\t\tport: match[4],\r\n\t\tpath: match[5]\r\n\t\t};\r\n\t}\r\n\texports.urlParse = urlParse;\r\n\r\n\tfunction urlGenerate(aParsedUrl) {\r\n\t\tvar url = '';\r\n\t\tif (aParsedUrl.scheme) {\r\n\t\turl += aParsedUrl.scheme + ':';\r\n\t\t}\r\n\t\turl += '//';\r\n\t\tif (aParsedUrl.auth) {\r\n\t\turl += aParsedUrl.auth + '@';\r\n\t\t}\r\n\t\tif (aParsedUrl.host) {\r\n\t\turl += aParsedUrl.host;\r\n\t\t}\r\n\t\tif (aParsedUrl.port) {\r\n\t\turl += \":\" + aParsedUrl.port\r\n\t\t}\r\n\t\tif (aParsedUrl.path) {\r\n\t\turl += aParsedUrl.path;\r\n\t\t}\r\n\t\treturn url;\r\n\t}\r\n\texports.urlGenerate = urlGenerate;\r\n\r\n\t/**\r\n\t* Normalizes a path, or the path portion of a URL:\r\n\t*\r\n\t* - Replaces consequtive slashes with one slash.\r\n\t* - Removes unnecessary '.' parts.\r\n\t* - Removes unnecessary '<dir>/..' parts.\r\n\t*\r\n\t* Based on code in the Node.js 'path' core module.\r\n\t*\r\n\t* @param aPath The path or url to normalize.\r\n\t*/\r\n\tfunction normalize(aPath) {\r\n\t\tvar path = aPath;\r\n\t\tvar url = urlParse(aPath);\r\n\t\tif (url) {\r\n\t\tif (!url.path) {\r\n\t\t\treturn aPath;\r\n\t\t}\r\n\t\tpath = url.path;\r\n\t\t}\r\n\t\tvar isAbsolute = exports.isAbsolute(path);\r\n\r\n\t\tvar parts = path.split(/\\/+/);\r\n\t\tfor (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\r\n\t\tpart = parts[i];\r\n\t\tif (part === '.') {\r\n\t\t\tparts.splice(i, 1);\r\n\t\t} else if (part === '..') {\r\n\t\t\tup++;\r\n\t\t} else if (up > 0) {\r\n\t\t\tif (part === '') {\r\n\t\t\t// The first part is blank if the path is absolute. Trying to go\r\n\t\t\t// above the root is a no-op. Therefore we can remove all '..' parts\r\n\t\t\t// directly after the root.\r\n\t\t\tparts.splice(i + 1, up);\r\n\t\t\tup = 0;\r\n\t\t\t} else {\r\n\t\t\tparts.splice(i, 2);\r\n\t\t\tup--;\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t\tpath = parts.join('/');\r\n\r\n\t\tif (path === '') {\r\n\t\tpath = isAbsolute ? '/' : '.';\r\n\t\t}\r\n\r\n\t\tif (url) {\r\n\t\turl.path = path;\r\n\t\treturn urlGenerate(url);\r\n\t\t}\r\n\t\treturn path;\r\n\t}\r\n\texports.normalize = normalize;\r\n\r\n\t/**\r\n\t* Joins two paths/URLs.\r\n\t*\r\n\t* @param aRoot The root path or URL.\r\n\t* @param aPath The path or URL to be joined with the root.\r\n\t*\r\n\t* - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\r\n\t*   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\r\n\t*   first.\r\n\t* - Otherwise aPath is a path. If aRoot is a URL, then its path portion\r\n\t*   is updated with the result and aRoot is returned. Otherwise the result\r\n\t*   is returned.\r\n\t*   - If aPath is absolute, the result is aPath.\r\n\t*   - Otherwise the two paths are joined with a slash.\r\n\t* - Joining for example 'http://' and 'www.example.com' is also supported.\r\n\t*/\r\n\tfunction join(aRoot, aPath) {\r\n\t\tif (aRoot === \"\") {\r\n\t\taRoot = \".\";\r\n\t\t}\r\n\t\tif (aPath === \"\") {\r\n\t\taPath = \".\";\r\n\t\t}\r\n\t\tvar aPathUrl = urlParse(aPath);\r\n\t\tvar aRootUrl = urlParse(aRoot);\r\n\t\tif (aRootUrl) {\r\n\t\taRoot = aRootUrl.path || '/';\r\n\t\t}\r\n\r\n\t\t// `join(foo, '//www.example.org')`\r\n\t\tif (aPathUrl && !aPathUrl.scheme) {\r\n\t\tif (aRootUrl) {\r\n\t\t\taPathUrl.scheme = aRootUrl.scheme;\r\n\t\t}\r\n\t\treturn urlGenerate(aPathUrl);\r\n\t\t}\r\n\r\n\t\tif (aPathUrl || aPath.match(dataUrlRegexp)) {\r\n\t\treturn aPath;\r\n\t\t}\r\n\r\n\t\t// `join('http://', 'www.example.com')`\r\n\t\tif (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\r\n\t\taRootUrl.host = aPath;\r\n\t\treturn urlGenerate(aRootUrl);\r\n\t\t}\r\n\r\n\t\tvar joined = aPath.charAt(0) === '/'\r\n\t\t? aPath\r\n\t\t: normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\r\n\r\n\t\tif (aRootUrl) {\r\n\t\taRootUrl.path = joined;\r\n\t\treturn urlGenerate(aRootUrl);\r\n\t\t}\r\n\t\treturn joined;\r\n\t}\r\n\texports.join = join;\r\n\r\n\texports.isAbsolute = function (aPath) {\r\n\t\treturn aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\r\n\t};\r\n\r\n\t/**\r\n\t* Make a path relative to a URL or another path.\r\n\t*\r\n\t* @param aRoot The root path or URL.\r\n\t* @param aPath The path or URL to be made relative to aRoot.\r\n\t*/\r\n\tfunction relative(aRoot, aPath) {\r\n\t\tif (aRoot === \"\") {\r\n\t\taRoot = \".\";\r\n\t\t}\r\n\r\n\t\taRoot = aRoot.replace(/\\/$/, '');\r\n\r\n\t\t// It is possible for the path to be above the root. In this case, simply\r\n\t\t// checking whether the root is a prefix of the path won't work. Instead, we\r\n\t\t// need to remove components from the root one by one, until either we find\r\n\t\t// a prefix that fits, or we run out of components to remove.\r\n\t\tvar level = 0;\r\n\t\twhile (aPath.indexOf(aRoot + '/') !== 0) {\r\n\t\tvar index = aRoot.lastIndexOf(\"/\");\r\n\t\tif (index < 0) {\r\n\t\t\treturn aPath;\r\n\t\t}\r\n\r\n\t\t// If the only part of the root that is left is the scheme (i.e. http://,\r\n\t\t// file:///, etc.), one or more slashes (/), or simply nothing at all, we\r\n\t\t// have exhausted all components, so the path is not relative to the root.\r\n\t\taRoot = aRoot.slice(0, index);\r\n\t\tif (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\r\n\t\t\treturn aPath;\r\n\t\t}\r\n\r\n\t\t++level;\r\n\t\t}\r\n\r\n\t\t// Make sure we add a \"../\" for each component we removed from the root.\r\n\t\treturn Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\r\n\t}\r\n\texports.relative = relative;\r\n\r\n\tvar supportsNullProto = (function () {\r\n\t\tvar obj = Object.create(null);\r\n\t\treturn !('__proto__' in obj);\r\n\t}());\r\n\r\n\tfunction identity (s) {\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t* Because behavior goes wacky when you set `__proto__` on objects, we\r\n\t* have to prefix all the strings in our set with an arbitrary character.\r\n\t*\r\n\t* See https://github.com/mozilla/source-map/pull/31 and\r\n\t* https://github.com/mozilla/source-map/issues/30\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tfunction toSetString(aStr) {\r\n\t\tif (isProtoString(aStr)) {\r\n\t\treturn '$' + aStr;\r\n\t\t}\r\n\r\n\t\treturn aStr;\r\n\t}\r\n\texports.toSetString = supportsNullProto ? identity : toSetString;\r\n\r\n\tfunction fromSetString(aStr) {\r\n\t\tif (isProtoString(aStr)) {\r\n\t\treturn aStr.slice(1);\r\n\t\t}\r\n\r\n\t\treturn aStr;\r\n\t}\r\n\texports.fromSetString = supportsNullProto ? identity : fromSetString;\r\n\r\n\tfunction isProtoString(s) {\r\n\t\tif (!s) {\r\n\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar length = s.length;\r\n\r\n\t\tif (length < 9 /* \"__proto__\".length */) {\r\n\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\r\n\t\t\ts.charCodeAt(length - 2) !== 95  /* '_' */ ||\r\n\t\t\ts.charCodeAt(length - 3) !== 111 /* 'o' */ ||\r\n\t\t\ts.charCodeAt(length - 4) !== 116 /* 't' */ ||\r\n\t\t\ts.charCodeAt(length - 5) !== 111 /* 'o' */ ||\r\n\t\t\ts.charCodeAt(length - 6) !== 114 /* 'r' */ ||\r\n\t\t\ts.charCodeAt(length - 7) !== 112 /* 'p' */ ||\r\n\t\t\ts.charCodeAt(length - 8) !== 95  /* '_' */ ||\r\n\t\t\ts.charCodeAt(length - 9) !== 95  /* '_' */) {\r\n\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (var i = length - 10; i >= 0; i--) {\r\n\t\tif (s.charCodeAt(i) !== 36 /* '$' */) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t* Comparator between two mappings where the original positions are compared.\r\n\t*\r\n\t* Optionally pass in `true` as `onlyCompareGenerated` to consider two\r\n\t* mappings with the same original source/line/column, but different generated\r\n\t* line and column the same. Useful when searching for a mapping with a\r\n\t* stubbed out mapping.\r\n\t*/\r\n\tfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\r\n\t\tvar cmp = mappingA.source - mappingB.source;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalLine - mappingB.originalLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalColumn - mappingB.originalColumn;\r\n\t\tif (cmp !== 0 || onlyCompareOriginal) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedColumn - mappingB.generatedColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedLine - mappingB.generatedLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\treturn mappingA.name - mappingB.name;\r\n\t}\r\n\texports.compareByOriginalPositions = compareByOriginalPositions;\r\n\r\n\t/**\r\n\t* Comparator between two mappings with deflated source and name indices where\r\n\t* the generated positions are compared.\r\n\t*\r\n\t* Optionally pass in `true` as `onlyCompareGenerated` to consider two\r\n\t* mappings with the same generated line and column, but different\r\n\t* source/name/original line and column the same. Useful when searching for a\r\n\t* mapping with a stubbed out mapping.\r\n\t*/\r\n\tfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\r\n\t\tvar cmp = mappingA.generatedLine - mappingB.generatedLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedColumn - mappingB.generatedColumn;\r\n\t\tif (cmp !== 0 || onlyCompareGenerated) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.source - mappingB.source;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalLine - mappingB.originalLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalColumn - mappingB.originalColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\treturn mappingA.name - mappingB.name;\r\n\t}\r\n\texports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\r\n\r\n\tfunction strcmp(aStr1, aStr2) {\r\n\t\tif (aStr1 === aStr2) {\r\n\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tif (aStr1 > aStr2) {\r\n\t\treturn 1;\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t/**\r\n\t* Comparator between two mappings with inflated source and name strings where\r\n\t* the generated positions are compared.\r\n\t*/\r\n\tfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\r\n\t\tvar cmp = mappingA.generatedLine - mappingB.generatedLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.generatedColumn - mappingB.generatedColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = strcmp(mappingA.source, mappingB.source);\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalLine - mappingB.originalLine;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\tcmp = mappingA.originalColumn - mappingB.originalColumn;\r\n\t\tif (cmp !== 0) {\r\n\t\treturn cmp;\r\n\t\t}\r\n\r\n\t\treturn strcmp(mappingA.name, mappingB.name);\r\n\t}\r\n\texports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\r\n\r\n\r\n/***/ },\r\n/* 5 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar util = __webpack_require__(4);\r\n\tvar has = Object.prototype.hasOwnProperty;\r\n\r\n\t/**\r\n\t* A data structure which is a combination of an array and a set. Adding a new\r\n\t* member is O(1), testing for membership is O(1), and finding the index of an\r\n\t* element is O(1). Removing elements from the set is not supported. Only\r\n\t* strings are supported for membership.\r\n\t*/\r\n\tfunction ArraySet() {\r\n\t\tthis._array = [];\r\n\t\tthis._set = Object.create(null);\r\n\t}\r\n\r\n\t/**\r\n\t* Static method for creating ArraySet instances from an existing array.\r\n\t*/\r\n\tArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\r\n\t\tvar set = new ArraySet();\r\n\t\tfor (var i = 0, len = aArray.length; i < len; i++) {\r\n\t\tset.add(aArray[i], aAllowDuplicates);\r\n\t\t}\r\n\t\treturn set;\r\n\t};\r\n\r\n\t/**\r\n\t* Return how many unique items are in this ArraySet. If duplicates have been\r\n\t* added, than those do not count towards the size.\r\n\t*\r\n\t* @returns Number\r\n\t*/\r\n\tArraySet.prototype.size = function ArraySet_size() {\r\n\t\treturn Object.getOwnPropertyNames(this._set).length;\r\n\t};\r\n\r\n\t/**\r\n\t* Add the given string to this set.\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\r\n\t\tvar sStr = util.toSetString(aStr);\r\n\t\tvar isDuplicate = has.call(this._set, sStr);\r\n\t\tvar idx = this._array.length;\r\n\t\tif (!isDuplicate || aAllowDuplicates) {\r\n\t\tthis._array.push(aStr);\r\n\t\t}\r\n\t\tif (!isDuplicate) {\r\n\t\tthis._set[sStr] = idx;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Is the given string a member of this set?\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tArraySet.prototype.has = function ArraySet_has(aStr) {\r\n\t\tvar sStr = util.toSetString(aStr);\r\n\t\treturn has.call(this._set, sStr);\r\n\t};\r\n\r\n\t/**\r\n\t* What is the index of the given string in the array?\r\n\t*\r\n\t* @param String aStr\r\n\t*/\r\n\tArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\r\n\t\tvar sStr = util.toSetString(aStr);\r\n\t\tif (has.call(this._set, sStr)) {\r\n\t\treturn this._set[sStr];\r\n\t\t}\r\n\t\tthrow new Error('\"' + aStr + '\" is not in the set.');\r\n\t};\r\n\r\n\t/**\r\n\t* What is the element at the given index?\r\n\t*\r\n\t* @param Number aIdx\r\n\t*/\r\n\tArraySet.prototype.at = function ArraySet_at(aIdx) {\r\n\t\tif (aIdx >= 0 && aIdx < this._array.length) {\r\n\t\treturn this._array[aIdx];\r\n\t\t}\r\n\t\tthrow new Error('No element indexed by ' + aIdx);\r\n\t};\r\n\r\n\t/**\r\n\t* Returns the array representation of this set (which has the proper indices\r\n\t* indicated by indexOf). Note that this is a copy of the internal array used\r\n\t* for storing the members so that no one can mess with internal state.\r\n\t*/\r\n\tArraySet.prototype.toArray = function ArraySet_toArray() {\r\n\t\treturn this._array.slice();\r\n\t};\r\n\r\n\texports.ArraySet = ArraySet;\r\n\r\n\r\n/***/ },\r\n/* 6 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2014 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar util = __webpack_require__(4);\r\n\r\n\t/**\r\n\t* Determine whether mappingB is after mappingA with respect to generated\r\n\t* position.\r\n\t*/\r\n\tfunction generatedPositionAfter(mappingA, mappingB) {\r\n\t\t// Optimized for most common case\r\n\t\tvar lineA = mappingA.generatedLine;\r\n\t\tvar lineB = mappingB.generatedLine;\r\n\t\tvar columnA = mappingA.generatedColumn;\r\n\t\tvar columnB = mappingB.generatedColumn;\r\n\t\treturn lineB > lineA || lineB == lineA && columnB >= columnA ||\r\n\t\t\tutil.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\r\n\t}\r\n\r\n\t/**\r\n\t* A data structure to provide a sorted view of accumulated mappings in a\r\n\t* performance conscious manner. It trades a neglibable overhead in general\r\n\t* case for a large speedup in case of mappings being added in order.\r\n\t*/\r\n\tfunction MappingList() {\r\n\t\tthis._array = [];\r\n\t\tthis._sorted = true;\r\n\t\t// Serves as infimum\r\n\t\tthis._last = {generatedLine: -1, generatedColumn: 0};\r\n\t}\r\n\r\n\t/**\r\n\t* Iterate through internal items. This method takes the same arguments that\r\n\t* `Array.prototype.forEach` takes.\r\n\t*\r\n\t* NOTE: The order of the mappings is NOT guaranteed.\r\n\t*/\r\n\tMappingList.prototype.unsortedForEach =\r\n\t\tfunction MappingList_forEach(aCallback, aThisArg) {\r\n\t\tthis._array.forEach(aCallback, aThisArg);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Add the given source mapping.\r\n\t*\r\n\t* @param Object aMapping\r\n\t*/\r\n\tMappingList.prototype.add = function MappingList_add(aMapping) {\r\n\t\tif (generatedPositionAfter(this._last, aMapping)) {\r\n\t\tthis._last = aMapping;\r\n\t\tthis._array.push(aMapping);\r\n\t\t} else {\r\n\t\tthis._sorted = false;\r\n\t\tthis._array.push(aMapping);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Returns the flat, sorted array of mappings. The mappings are sorted by\r\n\t* generated position.\r\n\t*\r\n\t* WARNING: This method returns internal data without copying, for\r\n\t* performance. The return value must NOT be mutated, and should be treated as\r\n\t* an immutable borrow. If you want to take ownership, you must make your own\r\n\t* copy.\r\n\t*/\r\n\tMappingList.prototype.toArray = function MappingList_toArray() {\r\n\t\tif (!this._sorted) {\r\n\t\tthis._array.sort(util.compareByGeneratedPositionsInflated);\r\n\t\tthis._sorted = true;\r\n\t\t}\r\n\t\treturn this._array;\r\n\t};\r\n\r\n\texports.MappingList = MappingList;\r\n\r\n\r\n/***/ },\r\n/* 7 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar util = __webpack_require__(4);\r\n\tvar binarySearch = __webpack_require__(8);\r\n\tvar ArraySet = __webpack_require__(5).ArraySet;\r\n\tvar base64VLQ = __webpack_require__(2);\r\n\tvar quickSort = __webpack_require__(9).quickSort;\r\n\r\n\tfunction SourceMapConsumer(aSourceMap) {\r\n\t\tvar sourceMap = aSourceMap;\r\n\t\tif (typeof aSourceMap === 'string') {\r\n\t\tsourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\r\n\t\t}\r\n\r\n\t\treturn sourceMap.sections != null\r\n\t\t? new IndexedSourceMapConsumer(sourceMap)\r\n\t\t: new BasicSourceMapConsumer(sourceMap);\r\n\t}\r\n\r\n\tSourceMapConsumer.fromSourceMap = function(aSourceMap) {\r\n\t\treturn BasicSourceMapConsumer.fromSourceMap(aSourceMap);\r\n\t}\r\n\r\n\t/**\r\n\t* The version of the source mapping spec that we are consuming.\r\n\t*/\r\n\tSourceMapConsumer.prototype._version = 3;\r\n\r\n\t// `__generatedMappings` and `__originalMappings` are arrays that hold the\r\n\t// parsed mapping coordinates from the source map's \"mappings\" attribute. They\r\n\t// are lazily instantiated, accessed via the `_generatedMappings` and\r\n\t// `_originalMappings` getters respectively, and we only parse the mappings\r\n\t// and create these arrays once queried for a source location. We jump through\r\n\t// these hoops because there can be many thousands of mappings, and parsing\r\n\t// them is expensive, so we only want to do it if we must.\r\n\t//\r\n\t// Each object in the arrays is of the form:\r\n\t//\r\n\t//     {\r\n\t//       generatedLine: The line number in the generated code,\r\n\t//       generatedColumn: The column number in the generated code,\r\n\t//       source: The path to the original source file that generated this\r\n\t//               chunk of code,\r\n\t//       originalLine: The line number in the original source that\r\n\t//                     corresponds to this chunk of generated code,\r\n\t//       originalColumn: The column number in the original source that\r\n\t//                       corresponds to this chunk of generated code,\r\n\t//       name: The name of the original symbol which generated this chunk of\r\n\t//             code.\r\n\t//     }\r\n\t//\r\n\t// All properties except for `generatedLine` and `generatedColumn` can be\r\n\t// `null`.\r\n\t//\r\n\t// `_generatedMappings` is ordered by the generated positions.\r\n\t//\r\n\t// `_originalMappings` is ordered by the original positions.\r\n\r\n\tSourceMapConsumer.prototype.__generatedMappings = null;\r\n\tObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\r\n\t\tget: function () {\r\n\t\tif (!this.__generatedMappings) {\r\n\t\t\tthis._parseMappings(this._mappings, this.sourceRoot);\r\n\t\t}\r\n\r\n\t\treturn this.__generatedMappings;\r\n\t\t}\r\n\t});\r\n\r\n\tSourceMapConsumer.prototype.__originalMappings = null;\r\n\tObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\r\n\t\tget: function () {\r\n\t\tif (!this.__originalMappings) {\r\n\t\t\tthis._parseMappings(this._mappings, this.sourceRoot);\r\n\t\t}\r\n\r\n\t\treturn this.__originalMappings;\r\n\t\t}\r\n\t});\r\n\r\n\tSourceMapConsumer.prototype._charIsMappingSeparator =\r\n\t\tfunction SourceMapConsumer_charIsMappingSeparator(aStr, index) {\r\n\t\tvar c = aStr.charAt(index);\r\n\t\treturn c === \";\" || c === \",\";\r\n\t\t};\r\n\r\n\t/**\r\n\t* Parse the mappings in a string in to a data structure which we can easily\r\n\t* query (the ordered arrays in the `this.__generatedMappings` and\r\n\t* `this.__originalMappings` properties).\r\n\t*/\r\n\tSourceMapConsumer.prototype._parseMappings =\r\n\t\tfunction SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\r\n\t\tthrow new Error(\"Subclasses must implement _parseMappings\");\r\n\t\t};\r\n\r\n\tSourceMapConsumer.GENERATED_ORDER = 1;\r\n\tSourceMapConsumer.ORIGINAL_ORDER = 2;\r\n\r\n\tSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\r\n\tSourceMapConsumer.LEAST_UPPER_BOUND = 2;\r\n\r\n\t/**\r\n\t* Iterate over each mapping between an original source/line/column and a\r\n\t* generated line/column in this source map.\r\n\t*\r\n\t* @param Function aCallback\r\n\t*        The function that is called with each mapping.\r\n\t* @param Object aContext\r\n\t*        Optional. If specified, this object will be the value of `this` every\r\n\t*        time that `aCallback` is called.\r\n\t* @param aOrder\r\n\t*        Either `SourceMapConsumer.GENERATED_ORDER` or\r\n\t*        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\r\n\t*        iterate over the mappings sorted by the generated file's line/column\r\n\t*        order or the original's source/line/column order, respectively. Defaults to\r\n\t*        `SourceMapConsumer.GENERATED_ORDER`.\r\n\t*/\r\n\tSourceMapConsumer.prototype.eachMapping =\r\n\t\tfunction SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\r\n\t\tvar context = aContext || null;\r\n\t\tvar order = aOrder || SourceMapConsumer.GENERATED_ORDER;\r\n\r\n\t\tvar mappings;\r\n\t\tswitch (order) {\r\n\t\tcase SourceMapConsumer.GENERATED_ORDER:\r\n\t\t\tmappings = this._generatedMappings;\r\n\t\t\tbreak;\r\n\t\tcase SourceMapConsumer.ORIGINAL_ORDER:\r\n\t\t\tmappings = this._originalMappings;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"Unknown order of iteration.\");\r\n\t\t}\r\n\r\n\t\tvar sourceRoot = this.sourceRoot;\r\n\t\tmappings.map(function (mapping) {\r\n\t\t\tvar source = mapping.source === null ? null : this._sources.at(mapping.source);\r\n\t\t\tif (source != null && sourceRoot != null) {\r\n\t\t\tsource = util.join(sourceRoot, source);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\tsource: source,\r\n\t\t\tgeneratedLine: mapping.generatedLine,\r\n\t\t\tgeneratedColumn: mapping.generatedColumn,\r\n\t\t\toriginalLine: mapping.originalLine,\r\n\t\t\toriginalColumn: mapping.originalColumn,\r\n\t\t\tname: mapping.name === null ? null : this._names.at(mapping.name)\r\n\t\t\t};\r\n\t\t}, this).forEach(aCallback, context);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns all generated line and column information for the original source,\r\n\t* line, and column provided. If no column is provided, returns all mappings\r\n\t* corresponding to a either the line we are searching for or the next\r\n\t* closest line that has any mappings. Otherwise, returns all mappings\r\n\t* corresponding to the given line and either the column we are searching for\r\n\t* or the next closest column that has any offsets.\r\n\t*\r\n\t* The only argument is an object with the following properties:\r\n\t*\r\n\t*   - source: The filename of the original source.\r\n\t*   - line: The line number in the original source.\r\n\t*   - column: Optional. the column number in the original source.\r\n\t*\r\n\t* and an array of objects is returned, each with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source, or null.\r\n\t*   - column: The column number in the generated source, or null.\r\n\t*/\r\n\tSourceMapConsumer.prototype.allGeneratedPositionsFor =\r\n\t\tfunction SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\r\n\t\tvar line = util.getArg(aArgs, 'line');\r\n\r\n\t\t// When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\r\n\t\t// returns the index of the closest mapping less than the needle. By\r\n\t\t// setting needle.originalColumn to 0, we thus find the last mapping for\r\n\t\t// the given line, provided such a mapping exists.\r\n\t\tvar needle = {\r\n\t\t\tsource: util.getArg(aArgs, 'source'),\r\n\t\t\toriginalLine: line,\r\n\t\t\toriginalColumn: util.getArg(aArgs, 'column', 0)\r\n\t\t};\r\n\r\n\t\tif (this.sourceRoot != null) {\r\n\t\t\tneedle.source = util.relative(this.sourceRoot, needle.source);\r\n\t\t}\r\n\t\tif (!this._sources.has(needle.source)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tneedle.source = this._sources.indexOf(needle.source);\r\n\r\n\t\tvar mappings = [];\r\n\r\n\t\tvar index = this._findMapping(needle,\r\n\t\t\t\t\t\t\t\t\t\tthis._originalMappings,\r\n\t\t\t\t\t\t\t\t\t\t\"originalLine\",\r\n\t\t\t\t\t\t\t\t\t\t\"originalColumn\",\r\n\t\t\t\t\t\t\t\t\t\tutil.compareByOriginalPositions,\r\n\t\t\t\t\t\t\t\t\t\tbinarySearch.LEAST_UPPER_BOUND);\r\n\t\tif (index >= 0) {\r\n\t\t\tvar mapping = this._originalMappings[index];\r\n\r\n\t\t\tif (aArgs.column === undefined) {\r\n\t\t\tvar originalLine = mapping.originalLine;\r\n\r\n\t\t\t// Iterate until either we run out of mappings, or we run into\r\n\t\t\t// a mapping for a different line than the one we found. Since\r\n\t\t\t// mappings are sorted, this is guaranteed to find all mappings for\r\n\t\t\t// the line we found.\r\n\t\t\twhile (mapping && mapping.originalLine === originalLine) {\r\n\t\t\t\tmappings.push({\r\n\t\t\t\tline: util.getArg(mapping, 'generatedLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'generatedColumn', null),\r\n\t\t\t\tlastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmapping = this._originalMappings[++index];\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\tvar originalColumn = mapping.originalColumn;\r\n\r\n\t\t\t// Iterate until either we run out of mappings, or we run into\r\n\t\t\t// a mapping for a different line than the one we were searching for.\r\n\t\t\t// Since mappings are sorted, this is guaranteed to find all mappings for\r\n\t\t\t// the line we are searching for.\r\n\t\t\twhile (mapping &&\r\n\t\t\t\t\tmapping.originalLine === line &&\r\n\t\t\t\t\tmapping.originalColumn == originalColumn) {\r\n\t\t\t\tmappings.push({\r\n\t\t\t\tline: util.getArg(mapping, 'generatedLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'generatedColumn', null),\r\n\t\t\t\tlastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmapping = this._originalMappings[++index];\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn mappings;\r\n\t\t};\r\n\r\n\texports.SourceMapConsumer = SourceMapConsumer;\r\n\r\n\t/**\r\n\t* A BasicSourceMapConsumer instance represents a parsed source map which we can\r\n\t* query for information about the original file positions by giving it a file\r\n\t* position in the generated source.\r\n\t*\r\n\t* The only parameter is the raw source map (either as a JSON string, or\r\n\t* already parsed to an object). According to the spec, source maps have the\r\n\t* following attributes:\r\n\t*\r\n\t*   - version: Which version of the source map spec this map is following.\r\n\t*   - sources: An array of URLs to the original source files.\r\n\t*   - names: An array of identifiers which can be referrenced by individual mappings.\r\n\t*   - sourceRoot: Optional. The URL root from which all sources are relative.\r\n\t*   - sourcesContent: Optional. An array of contents of the original source files.\r\n\t*   - mappings: A string of base64 VLQs which contain the actual mappings.\r\n\t*   - file: Optional. The generated file this source map is associated with.\r\n\t*\r\n\t* Here is an example source map, taken from the source map spec[0]:\r\n\t*\r\n\t*     {\r\n\t*       version : 3,\r\n\t*       file: \"out.js\",\r\n\t*       sourceRoot : \"\",\r\n\t*       sources: [\"foo.js\", \"bar.js\"],\r\n\t*       names: [\"src\", \"maps\", \"are\", \"fun\"],\r\n\t*       mappings: \"AA,AB;;ABCDE;\"\r\n\t*     }\r\n\t*\r\n\t* [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\r\n\t*/\r\n\tfunction BasicSourceMapConsumer(aSourceMap) {\r\n\t\tvar sourceMap = aSourceMap;\r\n\t\tif (typeof aSourceMap === 'string') {\r\n\t\tsourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\r\n\t\t}\r\n\r\n\t\tvar version = util.getArg(sourceMap, 'version');\r\n\t\tvar sources = util.getArg(sourceMap, 'sources');\r\n\t\t// Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\r\n\t\t// requires the array) to play nice here.\r\n\t\tvar names = util.getArg(sourceMap, 'names', []);\r\n\t\tvar sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\r\n\t\tvar sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\r\n\t\tvar mappings = util.getArg(sourceMap, 'mappings');\r\n\t\tvar file = util.getArg(sourceMap, 'file', null);\r\n\r\n\t\t// Once again, Sass deviates from the spec and supplies the version as a\r\n\t\t// string rather than a number, so we use loose equality checking here.\r\n\t\tif (version != this._version) {\r\n\t\tthrow new Error('Unsupported version: ' + version);\r\n\t\t}\r\n\r\n\t\tsources = sources\r\n\t\t.map(String)\r\n\t\t// Some source maps produce relative source paths like \"./foo.js\" instead of\r\n\t\t// \"foo.js\".  Normalize these first so that future comparisons will succeed.\r\n\t\t// See bugzil.la/1090768.\r\n\t\t.map(util.normalize)\r\n\t\t// Always ensure that absolute sources are internally stored relative to\r\n\t\t// the source root, if the source root is absolute. Not doing this would\r\n\t\t// be particularly problematic when the source root is a prefix of the\r\n\t\t// source (valid, but why??). See github issue #199 and bugzil.la/1188982.\r\n\t\t.map(function (source) {\r\n\t\t\treturn sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\r\n\t\t\t? util.relative(sourceRoot, source)\r\n\t\t\t: source;\r\n\t\t});\r\n\r\n\t\t// Pass `true` below to allow duplicate names and sources. While source maps\r\n\t\t// are intended to be compressed and deduplicated, the TypeScript compiler\r\n\t\t// sometimes generates source maps with duplicates in them. See Github issue\r\n\t\t// #72 and bugzil.la/889492.\r\n\t\tthis._names = ArraySet.fromArray(names.map(String), true);\r\n\t\tthis._sources = ArraySet.fromArray(sources, true);\r\n\r\n\t\tthis.sourceRoot = sourceRoot;\r\n\t\tthis.sourcesContent = sourcesContent;\r\n\t\tthis._mappings = mappings;\r\n\t\tthis.file = file;\r\n\t}\r\n\r\n\tBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\r\n\tBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\r\n\r\n\t/**\r\n\t* Create a BasicSourceMapConsumer from a SourceMapGenerator.\r\n\t*\r\n\t* @param SourceMapGenerator aSourceMap\r\n\t*        The source map that will be consumed.\r\n\t* @returns BasicSourceMapConsumer\r\n\t*/\r\n\tBasicSourceMapConsumer.fromSourceMap =\r\n\t\tfunction SourceMapConsumer_fromSourceMap(aSourceMap) {\r\n\t\tvar smc = Object.create(BasicSourceMapConsumer.prototype);\r\n\r\n\t\tvar names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\r\n\t\tvar sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\r\n\t\tsmc.sourceRoot = aSourceMap._sourceRoot;\r\n\t\tsmc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmc.sourceRoot);\r\n\t\tsmc.file = aSourceMap._file;\r\n\r\n\t\t// Because we are modifying the entries (by converting string sources and\r\n\t\t// names to indices into the sources and names ArraySets), we have to make\r\n\t\t// a copy of the entry or else bad things happen. Shared mutable state\r\n\t\t// strikes again! See github issue #191.\r\n\r\n\t\tvar generatedMappings = aSourceMap._mappings.toArray().slice();\r\n\t\tvar destGeneratedMappings = smc.__generatedMappings = [];\r\n\t\tvar destOriginalMappings = smc.__originalMappings = [];\r\n\r\n\t\tfor (var i = 0, length = generatedMappings.length; i < length; i++) {\r\n\t\t\tvar srcMapping = generatedMappings[i];\r\n\t\t\tvar destMapping = new Mapping;\r\n\t\t\tdestMapping.generatedLine = srcMapping.generatedLine;\r\n\t\t\tdestMapping.generatedColumn = srcMapping.generatedColumn;\r\n\r\n\t\t\tif (srcMapping.source) {\r\n\t\t\tdestMapping.source = sources.indexOf(srcMapping.source);\r\n\t\t\tdestMapping.originalLine = srcMapping.originalLine;\r\n\t\t\tdestMapping.originalColumn = srcMapping.originalColumn;\r\n\r\n\t\t\tif (srcMapping.name) {\r\n\t\t\t\tdestMapping.name = names.indexOf(srcMapping.name);\r\n\t\t\t}\r\n\r\n\t\t\tdestOriginalMappings.push(destMapping);\r\n\t\t\t}\r\n\r\n\t\t\tdestGeneratedMappings.push(destMapping);\r\n\t\t}\r\n\r\n\t\tquickSort(smc.__originalMappings, util.compareByOriginalPositions);\r\n\r\n\t\treturn smc;\r\n\t\t};\r\n\r\n\t/**\r\n\t* The version of the source mapping spec that we are consuming.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype._version = 3;\r\n\r\n\t/**\r\n\t* The list of original sources.\r\n\t*/\r\n\tObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\r\n\t\tget: function () {\r\n\t\treturn this._sources.toArray().map(function (s) {\r\n\t\t\treturn this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\r\n\t\t}, this);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Provide the JIT with a nice shape / hidden class.\r\n\t*/\r\n\tfunction Mapping() {\r\n\t\tthis.generatedLine = 0;\r\n\t\tthis.generatedColumn = 0;\r\n\t\tthis.source = null;\r\n\t\tthis.originalLine = null;\r\n\t\tthis.originalColumn = null;\r\n\t\tthis.name = null;\r\n\t}\r\n\r\n\t/**\r\n\t* Parse the mappings in a string in to a data structure which we can easily\r\n\t* query (the ordered arrays in the `this.__generatedMappings` and\r\n\t* `this.__originalMappings` properties).\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype._parseMappings =\r\n\t\tfunction SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\r\n\t\tvar generatedLine = 1;\r\n\t\tvar previousGeneratedColumn = 0;\r\n\t\tvar previousOriginalLine = 0;\r\n\t\tvar previousOriginalColumn = 0;\r\n\t\tvar previousSource = 0;\r\n\t\tvar previousName = 0;\r\n\t\tvar length = aStr.length;\r\n\t\tvar index = 0;\r\n\t\tvar cachedSegments = {};\r\n\t\tvar temp = {};\r\n\t\tvar originalMappings = [];\r\n\t\tvar generatedMappings = [];\r\n\t\tvar mapping, str, segment, end, value;\r\n\r\n\t\twhile (index < length) {\r\n\t\t\tif (aStr.charAt(index) === ';') {\r\n\t\t\tgeneratedLine++;\r\n\t\t\tindex++;\r\n\t\t\tpreviousGeneratedColumn = 0;\r\n\t\t\t}\r\n\t\t\telse if (aStr.charAt(index) === ',') {\r\n\t\t\tindex++;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tmapping = new Mapping();\r\n\t\t\tmapping.generatedLine = generatedLine;\r\n\r\n\t\t\t// Because each offset is encoded relative to the previous one,\r\n\t\t\t// many segments often have the same encoding. We can exploit this\r\n\t\t\t// fact by caching the parsed variable length fields of each segment,\r\n\t\t\t// allowing us to avoid a second parse if we encounter the same\r\n\t\t\t// segment again.\r\n\t\t\tfor (end = index; end < length; end++) {\r\n\t\t\t\tif (this._charIsMappingSeparator(aStr, end)) {\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstr = aStr.slice(index, end);\r\n\r\n\t\t\tsegment = cachedSegments[str];\r\n\t\t\tif (segment) {\r\n\t\t\t\tindex += str.length;\r\n\t\t\t} else {\r\n\t\t\t\tsegment = [];\r\n\t\t\t\twhile (index < end) {\r\n\t\t\t\tbase64VLQ.decode(aStr, index, temp);\r\n\t\t\t\tvalue = temp.value;\r\n\t\t\t\tindex = temp.rest;\r\n\t\t\t\tsegment.push(value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (segment.length === 2) {\r\n\t\t\t\tthrow new Error('Found a source, but no line and column');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (segment.length === 3) {\r\n\t\t\t\tthrow new Error('Found a source and line, but no column');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcachedSegments[str] = segment;\r\n\t\t\t}\r\n\r\n\t\t\t// Generated column.\r\n\t\t\tmapping.generatedColumn = previousGeneratedColumn + segment[0];\r\n\t\t\tpreviousGeneratedColumn = mapping.generatedColumn;\r\n\r\n\t\t\tif (segment.length > 1) {\r\n\t\t\t\t// Original source.\r\n\t\t\t\tmapping.source = previousSource + segment[1];\r\n\t\t\t\tpreviousSource += segment[1];\r\n\r\n\t\t\t\t// Original line.\r\n\t\t\t\tmapping.originalLine = previousOriginalLine + segment[2];\r\n\t\t\t\tpreviousOriginalLine = mapping.originalLine;\r\n\t\t\t\t// Lines are stored 0-based\r\n\t\t\t\tmapping.originalLine += 1;\r\n\r\n\t\t\t\t// Original column.\r\n\t\t\t\tmapping.originalColumn = previousOriginalColumn + segment[3];\r\n\t\t\t\tpreviousOriginalColumn = mapping.originalColumn;\r\n\r\n\t\t\t\tif (segment.length > 4) {\r\n\t\t\t\t// Original name.\r\n\t\t\t\tmapping.name = previousName + segment[4];\r\n\t\t\t\tpreviousName += segment[4];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgeneratedMappings.push(mapping);\r\n\t\t\tif (typeof mapping.originalLine === 'number') {\r\n\t\t\t\toriginalMappings.push(mapping);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tquickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\r\n\t\tthis.__generatedMappings = generatedMappings;\r\n\r\n\t\tquickSort(originalMappings, util.compareByOriginalPositions);\r\n\t\tthis.__originalMappings = originalMappings;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Find the mapping that best matches the hypothetical \"needle\" mapping that\r\n\t* we are searching for in the given \"haystack\" of mappings.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype._findMapping =\r\n\t\tfunction SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\r\n\t\t\t\t\t\t\t\t\t\t\taColumnName, aComparator, aBias) {\r\n\t\t// To return the position we are searching for, we must first find the\r\n\t\t// mapping for the given position and then return the opposite position it\r\n\t\t// points to. Because the mappings are sorted, we can use binary search to\r\n\t\t// find the best mapping.\r\n\r\n\t\tif (aNeedle[aLineName] <= 0) {\r\n\t\t\tthrow new TypeError('Line must be greater than or equal to 1, got '\r\n\t\t\t\t\t\t\t\t+ aNeedle[aLineName]);\r\n\t\t}\r\n\t\tif (aNeedle[aColumnName] < 0) {\r\n\t\t\tthrow new TypeError('Column must be greater than or equal to 0, got '\r\n\t\t\t\t\t\t\t\t+ aNeedle[aColumnName]);\r\n\t\t}\r\n\r\n\t\treturn binarySearch.search(aNeedle, aMappings, aComparator, aBias);\r\n\t\t};\r\n\r\n\t/**\r\n\t* Compute the last column for each generated mapping. The last column is\r\n\t* inclusive.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.computeColumnSpans =\r\n\t\tfunction SourceMapConsumer_computeColumnSpans() {\r\n\t\tfor (var index = 0; index < this._generatedMappings.length; ++index) {\r\n\t\t\tvar mapping = this._generatedMappings[index];\r\n\r\n\t\t\t// Mappings do not contain a field for the last generated columnt. We\r\n\t\t\t// can come up with an optimistic estimate, however, by assuming that\r\n\t\t\t// mappings are contiguous (i.e. given two consecutive mappings, the\r\n\t\t\t// first mapping ends where the second one starts).\r\n\t\t\tif (index + 1 < this._generatedMappings.length) {\r\n\t\t\tvar nextMapping = this._generatedMappings[index + 1];\r\n\r\n\t\t\tif (mapping.generatedLine === nextMapping.generatedLine) {\r\n\t\t\t\tmapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// The last mapping for each line spans the entire line.\r\n\t\t\tmapping.lastGeneratedColumn = Infinity;\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the original source, line, and column information for the generated\r\n\t* source's line and column positions provided. The only argument is an object\r\n\t* with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source.\r\n\t*   - column: The column number in the generated source.\r\n\t*   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\r\n\t*     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - source: The original source file, or null.\r\n\t*   - line: The line number in the original source, or null.\r\n\t*   - column: The column number in the original source, or null.\r\n\t*   - name: The original identifier, or null.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.originalPositionFor =\r\n\t\tfunction SourceMapConsumer_originalPositionFor(aArgs) {\r\n\t\tvar needle = {\r\n\t\t\tgeneratedLine: util.getArg(aArgs, 'line'),\r\n\t\t\tgeneratedColumn: util.getArg(aArgs, 'column')\r\n\t\t};\r\n\r\n\t\tvar index = this._findMapping(\r\n\t\t\tneedle,\r\n\t\t\tthis._generatedMappings,\r\n\t\t\t\"generatedLine\",\r\n\t\t\t\"generatedColumn\",\r\n\t\t\tutil.compareByGeneratedPositionsDeflated,\r\n\t\t\tutil.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\r\n\t\t);\r\n\r\n\t\tif (index >= 0) {\r\n\t\t\tvar mapping = this._generatedMappings[index];\r\n\r\n\t\t\tif (mapping.generatedLine === needle.generatedLine) {\r\n\t\t\tvar source = util.getArg(mapping, 'source', null);\r\n\t\t\tif (source !== null) {\r\n\t\t\t\tsource = this._sources.at(source);\r\n\t\t\t\tif (this.sourceRoot != null) {\r\n\t\t\t\tsource = util.join(this.sourceRoot, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar name = util.getArg(mapping, 'name', null);\r\n\t\t\tif (name !== null) {\r\n\t\t\t\tname = this._names.at(name);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tsource: source,\r\n\t\t\t\tline: util.getArg(mapping, 'originalLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'originalColumn', null),\r\n\t\t\t\tname: name\r\n\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsource: null,\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tname: null\r\n\t\t};\r\n\t\t};\r\n\r\n\t/**\r\n\t* Return true if we have the source content for every source in the source\r\n\t* map, false otherwise.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\r\n\t\tfunction BasicSourceMapConsumer_hasContentsOfAllSources() {\r\n\t\tif (!this.sourcesContent) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn this.sourcesContent.length >= this._sources.size() &&\r\n\t\t\t!this.sourcesContent.some(function (sc) { return sc == null; });\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the original source content. The only argument is the url of the\r\n\t* original source file. Returns null if no original source content is\r\n\t* available.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.sourceContentFor =\r\n\t\tfunction SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\r\n\t\tif (!this.sourcesContent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (this.sourceRoot != null) {\r\n\t\t\taSource = util.relative(this.sourceRoot, aSource);\r\n\t\t}\r\n\r\n\t\tif (this._sources.has(aSource)) {\r\n\t\t\treturn this.sourcesContent[this._sources.indexOf(aSource)];\r\n\t\t}\r\n\r\n\t\tvar url;\r\n\t\tif (this.sourceRoot != null\r\n\t\t\t&& (url = util.urlParse(this.sourceRoot))) {\r\n\t\t\t// XXX: file:// URIs and absolute paths lead to unexpected behavior for\r\n\t\t\t// many users. We can help them out when they expect file:// URIs to\r\n\t\t\t// behave like it would if they were running a local HTTP server. See\r\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\r\n\t\t\tvar fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\r\n\t\t\tif (url.scheme == \"file\"\r\n\t\t\t\t&& this._sources.has(fileUriAbsPath)) {\r\n\t\t\treturn this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\r\n\t\t\t}\r\n\r\n\t\t\tif ((!url.path || url.path == \"/\")\r\n\t\t\t\t&& this._sources.has(\"/\" + aSource)) {\r\n\t\t\treturn this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// This function is used recursively from\r\n\t\t// IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\r\n\t\t// don't want to throw if we can't find the source - we just want to\r\n\t\t// return null, so we provide a flag to exit gracefully.\r\n\t\tif (nullOnMissing) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('\"' + aSource + '\" is not in the SourceMap.');\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the generated line and column information for the original source,\r\n\t* line, and column positions provided. The only argument is an object with\r\n\t* the following properties:\r\n\t*\r\n\t*   - source: The filename of the original source.\r\n\t*   - line: The line number in the original source.\r\n\t*   - column: The column number in the original source.\r\n\t*   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\r\n\t*     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source, or null.\r\n\t*   - column: The column number in the generated source, or null.\r\n\t*/\r\n\tBasicSourceMapConsumer.prototype.generatedPositionFor =\r\n\t\tfunction SourceMapConsumer_generatedPositionFor(aArgs) {\r\n\t\tvar source = util.getArg(aArgs, 'source');\r\n\t\tif (this.sourceRoot != null) {\r\n\t\t\tsource = util.relative(this.sourceRoot, source);\r\n\t\t}\r\n\t\tif (!this._sources.has(source)) {\r\n\t\t\treturn {\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tlastColumn: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tsource = this._sources.indexOf(source);\r\n\r\n\t\tvar needle = {\r\n\t\t\tsource: source,\r\n\t\t\toriginalLine: util.getArg(aArgs, 'line'),\r\n\t\t\toriginalColumn: util.getArg(aArgs, 'column')\r\n\t\t};\r\n\r\n\t\tvar index = this._findMapping(\r\n\t\t\tneedle,\r\n\t\t\tthis._originalMappings,\r\n\t\t\t\"originalLine\",\r\n\t\t\t\"originalColumn\",\r\n\t\t\tutil.compareByOriginalPositions,\r\n\t\t\tutil.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\r\n\t\t);\r\n\r\n\t\tif (index >= 0) {\r\n\t\t\tvar mapping = this._originalMappings[index];\r\n\r\n\t\t\tif (mapping.source === needle.source) {\r\n\t\t\treturn {\r\n\t\t\t\tline: util.getArg(mapping, 'generatedLine', null),\r\n\t\t\t\tcolumn: util.getArg(mapping, 'generatedColumn', null),\r\n\t\t\t\tlastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\r\n\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tlastColumn: null\r\n\t\t};\r\n\t\t};\r\n\r\n\texports.BasicSourceMapConsumer = BasicSourceMapConsumer;\r\n\r\n\t/**\r\n\t* An IndexedSourceMapConsumer instance represents a parsed source map which\r\n\t* we can query for information. It differs from BasicSourceMapConsumer in\r\n\t* that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\r\n\t* input.\r\n\t*\r\n\t* The only parameter is a raw source map (either as a JSON string, or already\r\n\t* parsed to an object). According to the spec for indexed source maps, they\r\n\t* have the following attributes:\r\n\t*\r\n\t*   - version: Which version of the source map spec this map is following.\r\n\t*   - file: Optional. The generated file this source map is associated with.\r\n\t*   - sections: A list of section definitions.\r\n\t*\r\n\t* Each value under the \"sections\" field has two fields:\r\n\t*   - offset: The offset into the original specified at which this section\r\n\t*       begins to apply, defined as an object with a \"line\" and \"column\"\r\n\t*       field.\r\n\t*   - map: A source map definition. This source map could also be indexed,\r\n\t*       but doesn't have to be.\r\n\t*\r\n\t* Instead of the \"map\" field, it's also possible to have a \"url\" field\r\n\t* specifying a URL to retrieve a source map from, but that's currently\r\n\t* unsupported.\r\n\t*\r\n\t* Here's an example source map, taken from the source map spec[0], but\r\n\t* modified to omit a section which uses the \"url\" field.\r\n\t*\r\n\t*  {\r\n\t*    version : 3,\r\n\t*    file: \"app.js\",\r\n\t*    sections: [{\r\n\t*      offset: {line:100, column:10},\r\n\t*      map: {\r\n\t*        version : 3,\r\n\t*        file: \"section.js\",\r\n\t*        sources: [\"foo.js\", \"bar.js\"],\r\n\t*        names: [\"src\", \"maps\", \"are\", \"fun\"],\r\n\t*        mappings: \"AAAA,E;;ABCDE;\"\r\n\t*      }\r\n\t*    }],\r\n\t*  }\r\n\t*\r\n\t* [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\r\n\t*/\r\n\tfunction IndexedSourceMapConsumer(aSourceMap) {\r\n\t\tvar sourceMap = aSourceMap;\r\n\t\tif (typeof aSourceMap === 'string') {\r\n\t\tsourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\r\n\t\t}\r\n\r\n\t\tvar version = util.getArg(sourceMap, 'version');\r\n\t\tvar sections = util.getArg(sourceMap, 'sections');\r\n\r\n\t\tif (version != this._version) {\r\n\t\tthrow new Error('Unsupported version: ' + version);\r\n\t\t}\r\n\r\n\t\tthis._sources = new ArraySet();\r\n\t\tthis._names = new ArraySet();\r\n\r\n\t\tvar lastOffset = {\r\n\t\tline: -1,\r\n\t\tcolumn: 0\r\n\t\t};\r\n\t\tthis._sections = sections.map(function (s) {\r\n\t\tif (s.url) {\r\n\t\t\t// The url field will require support for asynchronicity.\r\n\t\t\t// See https://github.com/mozilla/source-map/issues/16\r\n\t\t\tthrow new Error('Support for url field in sections not implemented.');\r\n\t\t}\r\n\t\tvar offset = util.getArg(s, 'offset');\r\n\t\tvar offsetLine = util.getArg(offset, 'line');\r\n\t\tvar offsetColumn = util.getArg(offset, 'column');\r\n\r\n\t\tif (offsetLine < lastOffset.line ||\r\n\t\t\t(offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\r\n\t\t\tthrow new Error('Section offsets must be ordered and non-overlapping.');\r\n\t\t}\r\n\t\tlastOffset = offset;\r\n\r\n\t\treturn {\r\n\t\t\tgeneratedOffset: {\r\n\t\t\t// The offset fields are 0-based, but we use 1-based indices when\r\n\t\t\t// encoding/decoding from VLQ.\r\n\t\t\tgeneratedLine: offsetLine + 1,\r\n\t\t\tgeneratedColumn: offsetColumn + 1\r\n\t\t\t},\r\n\t\t\tconsumer: new SourceMapConsumer(util.getArg(s, 'map'))\r\n\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\r\n\tIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\r\n\r\n\t/**\r\n\t* The version of the source mapping spec that we are consuming.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype._version = 3;\r\n\r\n\t/**\r\n\t* The list of original sources.\r\n\t*/\r\n\tObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\r\n\t\tget: function () {\r\n\t\tvar sources = [];\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tfor (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\r\n\t\t\tsources.push(this._sections[i].consumer.sources[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sources;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Returns the original source, line, and column information for the generated\r\n\t* source's line and column positions provided. The only argument is an object\r\n\t* with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source.\r\n\t*   - column: The column number in the generated source.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - source: The original source file, or null.\r\n\t*   - line: The line number in the original source, or null.\r\n\t*   - column: The column number in the original source, or null.\r\n\t*   - name: The original identifier, or null.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.originalPositionFor =\r\n\t\tfunction IndexedSourceMapConsumer_originalPositionFor(aArgs) {\r\n\t\tvar needle = {\r\n\t\t\tgeneratedLine: util.getArg(aArgs, 'line'),\r\n\t\t\tgeneratedColumn: util.getArg(aArgs, 'column')\r\n\t\t};\r\n\r\n\t\t// Find the section containing the generated position we're trying to map\r\n\t\t// to an original position.\r\n\t\tvar sectionIndex = binarySearch.search(needle, this._sections,\r\n\t\t\tfunction(needle, section) {\r\n\t\t\tvar cmp = needle.generatedLine - section.generatedOffset.generatedLine;\r\n\t\t\tif (cmp) {\r\n\t\t\t\treturn cmp;\r\n\t\t\t}\r\n\r\n\t\t\treturn (needle.generatedColumn -\r\n\t\t\t\t\tsection.generatedOffset.generatedColumn);\r\n\t\t\t});\r\n\t\tvar section = this._sections[sectionIndex];\r\n\r\n\t\tif (!section) {\r\n\t\t\treturn {\r\n\t\t\tsource: null,\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null,\r\n\t\t\tname: null\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn section.consumer.originalPositionFor({\r\n\t\t\tline: needle.generatedLine -\r\n\t\t\t(section.generatedOffset.generatedLine - 1),\r\n\t\t\tcolumn: needle.generatedColumn -\r\n\t\t\t(section.generatedOffset.generatedLine === needle.generatedLine\r\n\t\t\t? section.generatedOffset.generatedColumn - 1\r\n\t\t\t: 0),\r\n\t\t\tbias: aArgs.bias\r\n\t\t});\r\n\t\t};\r\n\r\n\t/**\r\n\t* Return true if we have the source content for every source in the source\r\n\t* map, false otherwise.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\r\n\t\tfunction IndexedSourceMapConsumer_hasContentsOfAllSources() {\r\n\t\treturn this._sections.every(function (s) {\r\n\t\t\treturn s.consumer.hasContentsOfAllSources();\r\n\t\t});\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the original source content. The only argument is the url of the\r\n\t* original source file. Returns null if no original source content is\r\n\t* available.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.sourceContentFor =\r\n\t\tfunction IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tvar section = this._sections[i];\r\n\r\n\t\t\tvar content = section.consumer.sourceContentFor(aSource, true);\r\n\t\t\tif (content) {\r\n\t\t\treturn content;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (nullOnMissing) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Error('\"' + aSource + '\" is not in the SourceMap.');\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Returns the generated line and column information for the original source,\r\n\t* line, and column positions provided. The only argument is an object with\r\n\t* the following properties:\r\n\t*\r\n\t*   - source: The filename of the original source.\r\n\t*   - line: The line number in the original source.\r\n\t*   - column: The column number in the original source.\r\n\t*\r\n\t* and an object is returned with the following properties:\r\n\t*\r\n\t*   - line: The line number in the generated source, or null.\r\n\t*   - column: The column number in the generated source, or null.\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype.generatedPositionFor =\r\n\t\tfunction IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tvar section = this._sections[i];\r\n\r\n\t\t\t// Only consider this section if the requested source is in the list of\r\n\t\t\t// sources of the consumer.\r\n\t\t\tif (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\r\n\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar generatedPosition = section.consumer.generatedPositionFor(aArgs);\r\n\t\t\tif (generatedPosition) {\r\n\t\t\tvar ret = {\r\n\t\t\t\tline: generatedPosition.line +\r\n\t\t\t\t(section.generatedOffset.generatedLine - 1),\r\n\t\t\t\tcolumn: generatedPosition.column +\r\n\t\t\t\t(section.generatedOffset.generatedLine === generatedPosition.line\r\n\t\t\t\t? section.generatedOffset.generatedColumn - 1\r\n\t\t\t\t: 0)\r\n\t\t\t};\r\n\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tline: null,\r\n\t\t\tcolumn: null\r\n\t\t};\r\n\t\t};\r\n\r\n\t/**\r\n\t* Parse the mappings in a string in to a data structure which we can easily\r\n\t* query (the ordered arrays in the `this.__generatedMappings` and\r\n\t* `this.__originalMappings` properties).\r\n\t*/\r\n\tIndexedSourceMapConsumer.prototype._parseMappings =\r\n\t\tfunction IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\r\n\t\tthis.__generatedMappings = [];\r\n\t\tthis.__originalMappings = [];\r\n\t\tfor (var i = 0; i < this._sections.length; i++) {\r\n\t\t\tvar section = this._sections[i];\r\n\t\t\tvar sectionMappings = section.consumer._generatedMappings;\r\n\t\t\tfor (var j = 0; j < sectionMappings.length; j++) {\r\n\t\t\tvar mapping = sectionMappings[j];\r\n\r\n\t\t\tvar source = section.consumer._sources.at(mapping.source);\r\n\t\t\tif (section.consumer.sourceRoot !== null) {\r\n\t\t\t\tsource = util.join(section.consumer.sourceRoot, source);\r\n\t\t\t}\r\n\t\t\tthis._sources.add(source);\r\n\t\t\tsource = this._sources.indexOf(source);\r\n\r\n\t\t\tvar name = section.consumer._names.at(mapping.name);\r\n\t\t\tthis._names.add(name);\r\n\t\t\tname = this._names.indexOf(name);\r\n\r\n\t\t\t// The mappings coming from the consumer for the section have\r\n\t\t\t// generated positions relative to the start of the section, so we\r\n\t\t\t// need to offset them to be relative to the start of the concatenated\r\n\t\t\t// generated file.\r\n\t\t\tvar adjustedMapping = {\r\n\t\t\t\tsource: source,\r\n\t\t\t\tgeneratedLine: mapping.generatedLine +\r\n\t\t\t\t(section.generatedOffset.generatedLine - 1),\r\n\t\t\t\tgeneratedColumn: mapping.generatedColumn +\r\n\t\t\t\t(section.generatedOffset.generatedLine === mapping.generatedLine\r\n\t\t\t\t? section.generatedOffset.generatedColumn - 1\r\n\t\t\t\t: 0),\r\n\t\t\t\toriginalLine: mapping.originalLine,\r\n\t\t\t\toriginalColumn: mapping.originalColumn,\r\n\t\t\t\tname: name\r\n\t\t\t};\r\n\r\n\t\t\tthis.__generatedMappings.push(adjustedMapping);\r\n\t\t\tif (typeof adjustedMapping.originalLine === 'number') {\r\n\t\t\t\tthis.__originalMappings.push(adjustedMapping);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tquickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\r\n\t\tquickSort(this.__originalMappings, util.compareByOriginalPositions);\r\n\t\t};\r\n\r\n\texports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\r\n\r\n\r\n/***/ },\r\n/* 8 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\texports.GREATEST_LOWER_BOUND = 1;\r\n\texports.LEAST_UPPER_BOUND = 2;\r\n\r\n\t/**\r\n\t* Recursive implementation of binary search.\r\n\t*\r\n\t* @param aLow Indices here and lower do not contain the needle.\r\n\t* @param aHigh Indices here and higher do not contain the needle.\r\n\t* @param aNeedle The element being searched for.\r\n\t* @param aHaystack The non-empty array being searched.\r\n\t* @param aCompare Function which takes two elements and returns -1, 0, or 1.\r\n\t* @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\r\n\t*     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*/\r\n\tfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\r\n\t\t// This function terminates when one of the following is true:\r\n\t\t//\r\n\t\t//   1. We find the exact element we are looking for.\r\n\t\t//\r\n\t\t//   2. We did not find the exact element, but we can return the index of\r\n\t\t//      the next-closest element.\r\n\t\t//\r\n\t\t//   3. We did not find the exact element, and there is no next-closest\r\n\t\t//      element than the one we are searching for, so we return -1.\r\n\t\tvar mid = Math.floor((aHigh - aLow) / 2) + aLow;\r\n\t\tvar cmp = aCompare(aNeedle, aHaystack[mid], true);\r\n\t\tif (cmp === 0) {\r\n\t\t// Found the element we are looking for.\r\n\t\treturn mid;\r\n\t\t}\r\n\t\telse if (cmp > 0) {\r\n\t\t// Our needle is greater than aHaystack[mid].\r\n\t\tif (aHigh - mid > 1) {\r\n\t\t\t// The element is in the upper half.\r\n\t\t\treturn recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\r\n\t\t}\r\n\r\n\t\t// The exact needle element was not found in this haystack. Determine if\r\n\t\t// we are in termination case (3) or (2) and return the appropriate thing.\r\n\t\tif (aBias == exports.LEAST_UPPER_BOUND) {\r\n\t\t\treturn aHigh < aHaystack.length ? aHigh : -1;\r\n\t\t} else {\r\n\t\t\treturn mid;\r\n\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t// Our needle is less than aHaystack[mid].\r\n\t\tif (mid - aLow > 1) {\r\n\t\t\t// The element is in the lower half.\r\n\t\t\treturn recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\r\n\t\t}\r\n\r\n\t\t// we are in termination case (3) or (2) and return the appropriate thing.\r\n\t\tif (aBias == exports.LEAST_UPPER_BOUND) {\r\n\t\t\treturn mid;\r\n\t\t} else {\r\n\t\t\treturn aLow < 0 ? -1 : aLow;\r\n\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* This is an implementation of binary search which will always try and return\r\n\t* the index of the closest element if there is no exact hit. This is because\r\n\t* mappings between original and generated line/col pairs are single points,\r\n\t* and there is an implicit region between each of them, so a miss just means\r\n\t* that you aren't on the very start of a region.\r\n\t*\r\n\t* @param aNeedle The element you are looking for.\r\n\t* @param aHaystack The array that is being searched.\r\n\t* @param aCompare A function which takes the needle and an element in the\r\n\t*     array and returns -1, 0, or 1 depending on whether the needle is less\r\n\t*     than, equal to, or greater than the element, respectively.\r\n\t* @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\r\n\t*     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\r\n\t*     closest element that is smaller than or greater than the one we are\r\n\t*     searching for, respectively, if the exact element cannot be found.\r\n\t*     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\r\n\t*/\r\n\texports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\r\n\t\tif (aHaystack.length === 0) {\r\n\t\treturn -1;\r\n\t\t}\r\n\r\n\t\tvar index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\r\n\t\t\t\t\t\t\t\t\taCompare, aBias || exports.GREATEST_LOWER_BOUND);\r\n\t\tif (index < 0) {\r\n\t\treturn -1;\r\n\t\t}\r\n\r\n\t\t// We have found either the exact element, or the next-closest element than\r\n\t\t// the one we are searching for. However, there may be more than one such\r\n\t\t// element. Make sure we always return the smallest of these.\r\n\t\twhile (index - 1 >= 0) {\r\n\t\tif (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t--index;\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 9 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\t// It turns out that some (most?) JavaScript engines don't self-host\r\n\t// `Array.prototype.sort`. This makes sense because C++ will likely remain\r\n\t// faster than JS when doing raw CPU-intensive sorting. However, when using a\r\n\t// custom comparator function, calling back and forth between the VM's C++ and\r\n\t// JIT'd JS is rather slow *and* loses JIT type information, resulting in\r\n\t// worse generated code for the comparator function than would be optimal. In\r\n\t// fact, when sorting with a comparator, these costs outweigh the benefits of\r\n\t// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\r\n\t// a ~3500ms mean speed-up in `bench/bench.html`.\r\n\r\n\t/**\r\n\t* Swap the elements indexed by `x` and `y` in the array `ary`.\r\n\t*\r\n\t* @param {Array} ary\r\n\t*        The array.\r\n\t* @param {Number} x\r\n\t*        The index of the first item.\r\n\t* @param {Number} y\r\n\t*        The index of the second item.\r\n\t*/\r\n\tfunction swap(ary, x, y) {\r\n\t\tvar temp = ary[x];\r\n\t\tary[x] = ary[y];\r\n\t\tary[y] = temp;\r\n\t}\r\n\r\n\t/**\r\n\t* Returns a random integer within the range `low .. high` inclusive.\r\n\t*\r\n\t* @param {Number} low\r\n\t*        The lower bound on the range.\r\n\t* @param {Number} high\r\n\t*        The upper bound on the range.\r\n\t*/\r\n\tfunction randomIntInRange(low, high) {\r\n\t\treturn Math.round(low + (Math.random() * (high - low)));\r\n\t}\r\n\r\n\t/**\r\n\t* The Quick Sort algorithm.\r\n\t*\r\n\t* @param {Array} ary\r\n\t*        An array to sort.\r\n\t* @param {function} comparator\r\n\t*        Function to use to compare two items.\r\n\t* @param {Number} p\r\n\t*        Start index of the array\r\n\t* @param {Number} r\r\n\t*        End index of the array\r\n\t*/\r\n\tfunction doQuickSort(ary, comparator, p, r) {\r\n\t\t// If our lower bound is less than our upper bound, we (1) partition the\r\n\t\t// array into two pieces and (2) recurse on each half. If it is not, this is\r\n\t\t// the empty array and our base case.\r\n\r\n\t\tif (p < r) {\r\n\t\t// (1) Partitioning.\r\n\t\t//\r\n\t\t// The partitioning chooses a pivot between `p` and `r` and moves all\r\n\t\t// elements that are less than or equal to the pivot to the before it, and\r\n\t\t// all the elements that are greater than it after it. The effect is that\r\n\t\t// once partition is done, the pivot is in the exact place it will be when\r\n\t\t// the array is put in sorted order, and it will not need to be moved\r\n\t\t// again. This runs in O(n) time.\r\n\r\n\t\t// Always choose a random pivot so that an input array which is reverse\r\n\t\t// sorted does not cause O(n^2) running time.\r\n\t\tvar pivotIndex = randomIntInRange(p, r);\r\n\t\tvar i = p - 1;\r\n\r\n\t\tswap(ary, pivotIndex, r);\r\n\t\tvar pivot = ary[r];\r\n\r\n\t\t// Immediately after `j` is incremented in this loop, the following hold\r\n\t\t// true:\r\n\t\t//\r\n\t\t//   * Every element in `ary[p .. i]` is less than or equal to the pivot.\r\n\t\t//\r\n\t\t//   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\r\n\t\tfor (var j = p; j < r; j++) {\r\n\t\t\tif (comparator(ary[j], pivot) <= 0) {\r\n\t\t\ti += 1;\r\n\t\t\tswap(ary, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswap(ary, i + 1, j);\r\n\t\tvar q = i + 1;\r\n\r\n\t\t// (2) Recurse on each half.\r\n\r\n\t\tdoQuickSort(ary, comparator, p, q - 1);\r\n\t\tdoQuickSort(ary, comparator, q + 1, r);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* Sort the given array in-place with the given comparator function.\r\n\t*\r\n\t* @param {Array} ary\r\n\t*        An array to sort.\r\n\t* @param {function} comparator\r\n\t*        Function to use to compare two items.\r\n\t*/\r\n\texports.quickSort = function (ary, comparator) {\r\n\t\tdoQuickSort(ary, comparator, 0, ary.length - 1);\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 10 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* -*- Mode: js; js-indent-level: 2; -*- */\r\n\t/*\r\n\t* Copyright 2011 Mozilla Foundation and contributors\r\n\t* Licensed under the New BSD license. See LICENSE or:\r\n\t* http://opensource.org/licenses/BSD-3-Clause\r\n\t*/\r\n\r\n\tvar SourceMapGenerator = __webpack_require__(1).SourceMapGenerator;\r\n\tvar util = __webpack_require__(4);\r\n\r\n\t// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\r\n\t// operating systems these days (capturing the result).\r\n\tvar REGEX_NEWLINE = /(\\r?\\n)/;\r\n\r\n\t// Newline character code for charCodeAt() comparisons\r\n\tvar NEWLINE_CODE = 10;\r\n\r\n\t// Private symbol for identifying `SourceNode`s when multiple versions of\r\n\t// the source-map library are loaded. This MUST NOT CHANGE across\r\n\t// versions!\r\n\tvar isSourceNode = \"$$$isSourceNode$$$\";\r\n\r\n\t/**\r\n\t* SourceNodes provide a way to abstract over interpolating/concatenating\r\n\t* snippets of generated JavaScript source code while maintaining the line and\r\n\t* column information associated with the original source code.\r\n\t*\r\n\t* @param aLine The original line number.\r\n\t* @param aColumn The original column number.\r\n\t* @param aSource The original source's filename.\r\n\t* @param aChunks Optional. An array of strings which are snippets of\r\n\t*        generated JS, or other SourceNodes.\r\n\t* @param aName The original identifier.\r\n\t*/\r\n\tfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\r\n\t\tthis.children = [];\r\n\t\tthis.sourceContents = {};\r\n\t\tthis.line = aLine == null ? null : aLine;\r\n\t\tthis.column = aColumn == null ? null : aColumn;\r\n\t\tthis.source = aSource == null ? null : aSource;\r\n\t\tthis.name = aName == null ? null : aName;\r\n\t\tthis[isSourceNode] = true;\r\n\t\tif (aChunks != null) this.add(aChunks);\r\n\t}\r\n\r\n\t/**\r\n\t* Creates a SourceNode from generated code and a SourceMapConsumer.\r\n\t*\r\n\t* @param aGeneratedCode The generated code\r\n\t* @param aSourceMapConsumer The SourceMap for the generated code\r\n\t* @param aRelativePath Optional. The path that relative sources in the\r\n\t*        SourceMapConsumer should be relative to.\r\n\t*/\r\n\tSourceNode.fromStringWithSourceMap =\r\n\t\tfunction SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\r\n\t\t// The SourceNode we want to fill with the generated code\r\n\t\t// and the SourceMap\r\n\t\tvar node = new SourceNode();\r\n\r\n\t\t// All even indices of this array are one line of the generated code,\r\n\t\t// while all odd indices are the newlines between two adjacent lines\r\n\t\t// (since `REGEX_NEWLINE` captures its match).\r\n\t\t// Processed fragments are removed from this array, by calling `shiftNextLine`.\r\n\t\tvar remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\r\n\t\tvar shiftNextLine = function() {\r\n\t\t\tvar lineContents = remainingLines.shift();\r\n\t\t\t// The last line of a file might not have a newline.\r\n\t\t\tvar newLine = remainingLines.shift() || \"\";\r\n\t\t\treturn lineContents + newLine;\r\n\t\t};\r\n\r\n\t\t// We need to remember the position of \"remainingLines\"\r\n\t\tvar lastGeneratedLine = 1, lastGeneratedColumn = 0;\r\n\r\n\t\t// The generate SourceNodes we need a code range.\r\n\t\t// To extract it current and last mapping is used.\r\n\t\t// Here we store the last mapping.\r\n\t\tvar lastMapping = null;\r\n\r\n\t\taSourceMapConsumer.eachMapping(function (mapping) {\r\n\t\t\tif (lastMapping !== null) {\r\n\t\t\t// We add the code from \"lastMapping\" to \"mapping\":\r\n\t\t\t// First check if there is a new line in between.\r\n\t\t\tif (lastGeneratedLine < mapping.generatedLine) {\r\n\t\t\t\t// Associate first line with \"lastMapping\"\r\n\t\t\t\taddMappingWithCode(lastMapping, shiftNextLine());\r\n\t\t\t\tlastGeneratedLine++;\r\n\t\t\t\tlastGeneratedColumn = 0;\r\n\t\t\t\t// The remaining code is added without mapping\r\n\t\t\t} else {\r\n\t\t\t\t// There is no new line in between.\r\n\t\t\t\t// Associate the code between \"lastGeneratedColumn\" and\r\n\t\t\t\t// \"mapping.generatedColumn\" with \"lastMapping\"\r\n\t\t\t\tvar nextLine = remainingLines[0];\r\n\t\t\t\tvar code = nextLine.substr(0, mapping.generatedColumn -\r\n\t\t\t\t\t\t\t\t\t\t\tlastGeneratedColumn);\r\n\t\t\t\tremainingLines[0] = nextLine.substr(mapping.generatedColumn -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastGeneratedColumn);\r\n\t\t\t\tlastGeneratedColumn = mapping.generatedColumn;\r\n\t\t\t\taddMappingWithCode(lastMapping, code);\r\n\t\t\t\t// No more remaining code, continue\r\n\t\t\t\tlastMapping = mapping;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\t// We add the generated code until the first mapping\r\n\t\t\t// to the SourceNode without any mapping.\r\n\t\t\t// Each line is added as separate string.\r\n\t\t\twhile (lastGeneratedLine < mapping.generatedLine) {\r\n\t\t\tnode.add(shiftNextLine());\r\n\t\t\tlastGeneratedLine++;\r\n\t\t\t}\r\n\t\t\tif (lastGeneratedColumn < mapping.generatedColumn) {\r\n\t\t\tvar nextLine = remainingLines[0];\r\n\t\t\tnode.add(nextLine.substr(0, mapping.generatedColumn));\r\n\t\t\tremainingLines[0] = nextLine.substr(mapping.generatedColumn);\r\n\t\t\tlastGeneratedColumn = mapping.generatedColumn;\r\n\t\t\t}\r\n\t\t\tlastMapping = mapping;\r\n\t\t}, this);\r\n\t\t// We have processed all mappings.\r\n\t\tif (remainingLines.length > 0) {\r\n\t\t\tif (lastMapping) {\r\n\t\t\t// Associate the remaining code in the current line with \"lastMapping\"\r\n\t\t\taddMappingWithCode(lastMapping, shiftNextLine());\r\n\t\t\t}\r\n\t\t\t// and add the remaining lines without any mapping\r\n\t\t\tnode.add(remainingLines.join(\"\"));\r\n\t\t}\r\n\r\n\t\t// Copy sourcesContent into SourceNode\r\n\t\taSourceMapConsumer.sources.forEach(function (sourceFile) {\r\n\t\t\tvar content = aSourceMapConsumer.sourceContentFor(sourceFile);\r\n\t\t\tif (content != null) {\r\n\t\t\tif (aRelativePath != null) {\r\n\t\t\t\tsourceFile = util.join(aRelativePath, sourceFile);\r\n\t\t\t}\r\n\t\t\tnode.setSourceContent(sourceFile, content);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn node;\r\n\r\n\t\tfunction addMappingWithCode(mapping, code) {\r\n\t\t\tif (mapping === null || mapping.source === undefined) {\r\n\t\t\tnode.add(code);\r\n\t\t\t} else {\r\n\t\t\tvar source = aRelativePath\r\n\t\t\t\t? util.join(aRelativePath, mapping.source)\r\n\t\t\t\t: mapping.source;\r\n\t\t\tnode.add(new SourceNode(mapping.originalLine,\r\n\t\t\t\t\t\t\t\t\tmapping.originalColumn,\r\n\t\t\t\t\t\t\t\t\tsource,\r\n\t\t\t\t\t\t\t\t\tcode,\r\n\t\t\t\t\t\t\t\t\tmapping.name));\r\n\t\t\t}\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Add a chunk of generated JS to this source node.\r\n\t*\r\n\t* @param aChunk A string snippet of generated JS code, another instance of\r\n\t*        SourceNode, or an array where each member is one of those things.\r\n\t*/\r\n\tSourceNode.prototype.add = function SourceNode_add(aChunk) {\r\n\t\tif (Array.isArray(aChunk)) {\r\n\t\taChunk.forEach(function (chunk) {\r\n\t\t\tthis.add(chunk);\r\n\t\t}, this);\r\n\t\t}\r\n\t\telse if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\r\n\t\tif (aChunk) {\r\n\t\t\tthis.children.push(aChunk);\r\n\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\tthrow new TypeError(\r\n\t\t\t\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\r\n\t\t);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Add a chunk of generated JS to the beginning of this source node.\r\n\t*\r\n\t* @param aChunk A string snippet of generated JS code, another instance of\r\n\t*        SourceNode, or an array where each member is one of those things.\r\n\t*/\r\n\tSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\r\n\t\tif (Array.isArray(aChunk)) {\r\n\t\tfor (var i = aChunk.length-1; i >= 0; i--) {\r\n\t\t\tthis.prepend(aChunk[i]);\r\n\t\t}\r\n\t\t}\r\n\t\telse if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\r\n\t\tthis.children.unshift(aChunk);\r\n\t\t}\r\n\t\telse {\r\n\t\tthrow new TypeError(\r\n\t\t\t\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\r\n\t\t);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Walk over the tree of JS snippets in this node and its children. The\r\n\t* walking function is called once for each snippet of JS and is passed that\r\n\t* snippet and the its original associated source's line/column location.\r\n\t*\r\n\t* @param aFn The traversal function.\r\n\t*/\r\n\tSourceNode.prototype.walk = function SourceNode_walk(aFn) {\r\n\t\tvar chunk;\r\n\t\tfor (var i = 0, len = this.children.length; i < len; i++) {\r\n\t\tchunk = this.children[i];\r\n\t\tif (chunk[isSourceNode]) {\r\n\t\t\tchunk.walk(aFn);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (chunk !== '') {\r\n\t\t\taFn(chunk, { source: this.source,\r\n\t\t\t\t\t\tline: this.line,\r\n\t\t\t\t\t\tcolumn: this.column,\r\n\t\t\t\t\t\tname: this.name });\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t* Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\r\n\t* each of `this.children`.\r\n\t*\r\n\t* @param aSep The separator.\r\n\t*/\r\n\tSourceNode.prototype.join = function SourceNode_join(aSep) {\r\n\t\tvar newChildren;\r\n\t\tvar i;\r\n\t\tvar len = this.children.length;\r\n\t\tif (len > 0) {\r\n\t\tnewChildren = [];\r\n\t\tfor (i = 0; i < len-1; i++) {\r\n\t\t\tnewChildren.push(this.children[i]);\r\n\t\t\tnewChildren.push(aSep);\r\n\t\t}\r\n\t\tnewChildren.push(this.children[i]);\r\n\t\tthis.children = newChildren;\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Call String.prototype.replace on the very right-most source snippet. Useful\r\n\t* for trimming whitespace from the end of a source node, etc.\r\n\t*\r\n\t* @param aPattern The pattern to replace.\r\n\t* @param aReplacement The thing to replace the pattern with.\r\n\t*/\r\n\tSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\r\n\t\tvar lastChild = this.children[this.children.length - 1];\r\n\t\tif (lastChild[isSourceNode]) {\r\n\t\tlastChild.replaceRight(aPattern, aReplacement);\r\n\t\t}\r\n\t\telse if (typeof lastChild === 'string') {\r\n\t\tthis.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\r\n\t\t}\r\n\t\telse {\r\n\t\tthis.children.push(''.replace(aPattern, aReplacement));\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t* Set the source content for a source file. This will be added to the SourceMapGenerator\r\n\t* in the sourcesContent field.\r\n\t*\r\n\t* @param aSourceFile The filename of the source file\r\n\t* @param aSourceContent The content of the source file\r\n\t*/\r\n\tSourceNode.prototype.setSourceContent =\r\n\t\tfunction SourceNode_setSourceContent(aSourceFile, aSourceContent) {\r\n\t\tthis.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\r\n\t\t};\r\n\r\n\t/**\r\n\t* Walk over the tree of SourceNodes. The walking function is called for each\r\n\t* source file content and is passed the filename and source content.\r\n\t*\r\n\t* @param aFn The traversal function.\r\n\t*/\r\n\tSourceNode.prototype.walkSourceContents =\r\n\t\tfunction SourceNode_walkSourceContents(aFn) {\r\n\t\tfor (var i = 0, len = this.children.length; i < len; i++) {\r\n\t\t\tif (this.children[i][isSourceNode]) {\r\n\t\t\tthis.children[i].walkSourceContents(aFn);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar sources = Object.keys(this.sourceContents);\r\n\t\tfor (var i = 0, len = sources.length; i < len; i++) {\r\n\t\t\taFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\r\n\t\t}\r\n\t\t};\r\n\r\n\t/**\r\n\t* Return the string representation of this source node. Walks over the tree\r\n\t* and concatenates all the various snippets together to one string.\r\n\t*/\r\n\tSourceNode.prototype.toString = function SourceNode_toString() {\r\n\t\tvar str = \"\";\r\n\t\tthis.walk(function (chunk) {\r\n\t\tstr += chunk;\r\n\t\t});\r\n\t\treturn str;\r\n\t};\r\n\r\n\t/**\r\n\t* Returns the string representation of this source node along with a source\r\n\t* map.\r\n\t*/\r\n\tSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\r\n\t\tvar generated = {\r\n\t\tcode: \"\",\r\n\t\tline: 1,\r\n\t\tcolumn: 0\r\n\t\t};\r\n\t\tvar map = new SourceMapGenerator(aArgs);\r\n\t\tvar sourceMappingActive = false;\r\n\t\tvar lastOriginalSource = null;\r\n\t\tvar lastOriginalLine = null;\r\n\t\tvar lastOriginalColumn = null;\r\n\t\tvar lastOriginalName = null;\r\n\t\tthis.walk(function (chunk, original) {\r\n\t\tgenerated.code += chunk;\r\n\t\tif (original.source !== null\r\n\t\t\t&& original.line !== null\r\n\t\t\t&& original.column !== null) {\r\n\t\t\tif(lastOriginalSource !== original.source\r\n\t\t\t|| lastOriginalLine !== original.line\r\n\t\t\t|| lastOriginalColumn !== original.column\r\n\t\t\t|| lastOriginalName !== original.name) {\r\n\t\t\tmap.addMapping({\r\n\t\t\t\tsource: original.source,\r\n\t\t\t\toriginal: {\r\n\t\t\t\tline: original.line,\r\n\t\t\t\tcolumn: original.column\r\n\t\t\t\t},\r\n\t\t\t\tgenerated: {\r\n\t\t\t\tline: generated.line,\r\n\t\t\t\tcolumn: generated.column\r\n\t\t\t\t},\r\n\t\t\t\tname: original.name\r\n\t\t\t});\r\n\t\t\t}\r\n\t\t\tlastOriginalSource = original.source;\r\n\t\t\tlastOriginalLine = original.line;\r\n\t\t\tlastOriginalColumn = original.column;\r\n\t\t\tlastOriginalName = original.name;\r\n\t\t\tsourceMappingActive = true;\r\n\t\t} else if (sourceMappingActive) {\r\n\t\t\tmap.addMapping({\r\n\t\t\tgenerated: {\r\n\t\t\t\tline: generated.line,\r\n\t\t\t\tcolumn: generated.column\r\n\t\t\t}\r\n\t\t\t});\r\n\t\t\tlastOriginalSource = null;\r\n\t\t\tsourceMappingActive = false;\r\n\t\t}\r\n\t\tfor (var idx = 0, length = chunk.length; idx < length; idx++) {\r\n\t\t\tif (chunk.charCodeAt(idx) === NEWLINE_CODE) {\r\n\t\t\tgenerated.line++;\r\n\t\t\tgenerated.column = 0;\r\n\t\t\t// Mappings end at eol\r\n\t\t\tif (idx + 1 === length) {\r\n\t\t\t\tlastOriginalSource = null;\r\n\t\t\t\tsourceMappingActive = false;\r\n\t\t\t} else if (sourceMappingActive) {\r\n\t\t\t\tmap.addMapping({\r\n\t\t\t\tsource: original.source,\r\n\t\t\t\toriginal: {\r\n\t\t\t\t\tline: original.line,\r\n\t\t\t\t\tcolumn: original.column\r\n\t\t\t\t},\r\n\t\t\t\tgenerated: {\r\n\t\t\t\t\tline: generated.line,\r\n\t\t\t\t\tcolumn: generated.column\r\n\t\t\t\t},\r\n\t\t\t\tname: original.name\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\tgenerated.column++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t});\r\n\t\tthis.walkSourceContents(function (sourceFile, sourceContent) {\r\n\t\tmap.setSourceContent(sourceFile, sourceContent);\r\n\t\t});\r\n\r\n\t\treturn { code: generated.code, map: map };\r\n\t};\r\n\r\n\texports.SourceNode = SourceNode;\r\n\r\n\r\n/***/ }\r\n/******/ ])\r\n});\r\n;\n},{}],7:[function(require,module,exports){\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n;n=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,n.StackTrace=e()}}(function(){var e;return function n(e,r,t){function o(a,s){if(!r[a]){if(!e[a]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(n){var r=e[a][1][n];return o(r?r:n)},l,l.exports,n,e,r,t)}return r[a].exports}for(var i=\"function\"==typeof require&&require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"error-stack-parser\",[\"stackframe\"],i):\"object\"==typeof t?r.exports=i(n(\"stackframe\")):o.ErrorStackParser=i(o.StackFrame)}(this,function(e){\"use strict\";var n=/(^|@)\\S+\\:\\d+/,r=/^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m,t=/^(eval@)?(\\[native code\\])?$/;return{parse:function(e){if(\"undefined\"!=typeof e.stacktrace||\"undefined\"!=typeof e[\"opera#sourceloc\"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error(\"Cannot parse given Error object\")},extractLocation:function(e){if(e.indexOf(\":\")===-1)return[e];var n=/(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/,r=n.exec(e.replace(/[\\(\\)]/g,\"\"));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(n){var t=n.stack.split(\"\\n\").filter(function(e){return!!e.match(r)},this);return t.map(function(n){n.indexOf(\"(eval \")>-1&&(n=n.replace(/eval code/g,\"eval\").replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g,\"\"));var r=n.replace(/^\\s+/,\"\").replace(/\\(eval code/g,\"(\").split(/\\s+/).slice(1),t=this.extractLocation(r.pop()),o=r.join(\" \")||void 0,i=[\"eval\",\"<anonymous>\"].indexOf(t[0])>-1?void 0:t[0];return new e({functionName:o,fileName:i,lineNumber:t[1],columnNumber:t[2],source:n})},this)},parseFFOrSafari:function(n){var r=n.stack.split(\"\\n\").filter(function(e){return!e.match(t)},this);return r.map(function(n){if(n.indexOf(\" > eval\")>-1&&(n=n.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g,\":$1\")),n.indexOf(\"@\")===-1&&n.indexOf(\":\")===-1)return new e({functionName:n});var r=/((.*\".+\"[^@]*)?[^@]*)(?:@)/,t=n.match(r),o=t&&t[1]?t[1]:void 0,i=this.extractLocation(n.replace(r,\"\"));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:n})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf(\"\\n\")>-1&&e.message.split(\"\\n\").length>e.stacktrace.split(\"\\n\").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(n){for(var r=/Line (\\d+).*script (?:in )?(\\S+)/i,t=n.message.split(\"\\n\"),o=[],i=2,a=t.length;i<a;i+=2){var s=r.exec(t[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:t[i]}))}return o},parseOpera10:function(n){for(var r=/Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i,t=n.stacktrace.split(\"\\n\"),o=[],i=0,a=t.length;i<a;i+=2){var s=r.exec(t[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:t[i]}))}return o},parseOpera11:function(r){var t=r.stack.split(\"\\n\").filter(function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return t.map(function(n){var r,t=n.split(\"@\"),o=this.extractLocation(t.pop()),i=t.shift()||\"\",a=i.replace(/<anonymous function(: (\\w+))?>/,\"$2\").replace(/\\([^\\)]*\\)/g,\"\")||void 0;i.match(/\\(([^\\)]*)\\)/)&&(r=i.replace(/^[^\\(]+\\(([^\\)]*)\\)$/,\"$1\"));var s=void 0===r||\"[arguments not available]\"===r?void 0:r.split(\",\");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:n})},this)}}})},{stackframe:3}],2:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stack-generator\",[\"stackframe\"],i):\"object\"==typeof t?r.exports=i(n(\"stackframe\")):o.StackGenerator=i(o.StackFrame)}(this,function(e){return{backtrace:function(n){var r=[],t=10;\"object\"==typeof n&&\"number\"==typeof n.maxStackSize&&(t=n.maxStackSize);for(var o=arguments.callee;o&&r.length<t&&o.arguments;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\\s+([\\w$]+))+\\s*\\(/.test(o.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:i})):r.push(new e({args:i}));try{o=o.caller}catch(s){break}}return r}}})},{stackframe:3}],3:[function(n,r,t){!function(n,o){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stackframe\",[],o):\"object\"==typeof t?r.exports=o():n.StackFrame=o()}(this,function(){\"use strict\";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}function t(e){if(e instanceof Object)for(var r=0;r<u.length;r++)e.hasOwnProperty(u[r])&&void 0!==e[u[r]]&&this[\"set\"+n(u[r])](e[u[r]])}var o=[\"isConstructor\",\"isEval\",\"isNative\",\"isToplevel\"],i=[\"columnNumber\",\"lineNumber\"],a=[\"fileName\",\"functionName\",\"source\"],s=[\"args\"],u=o.concat(i,a,s);t.prototype={getArgs:function(){return this.args},setArgs:function(e){if(\"[object Array]\"!==Object.prototype.toString.call(e))throw new TypeError(\"Args must be an Array\");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof t)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError(\"Eval Origin must be an Object or StackFrame\");this.evalOrigin=new t(e)}},toString:function(){var n=this.getFunctionName()||\"{anonymous}\",r=\"(\"+(this.getArgs()||[]).join(\",\")+\")\",t=this.getFileName()?\"@\"+this.getFileName():\"\",o=e(this.getLineNumber())?\":\"+this.getLineNumber():\"\",i=e(this.getColumnNumber())?\":\"+this.getColumnNumber():\"\";return n+r+t+o+i}};for(var c=0;c<o.length;c++)t.prototype[\"get\"+n(o[c])]=r(o[c]),t.prototype[\"set\"+n(o[c])]=function(e){return function(n){this[e]=Boolean(n)}}(o[c]);for(var l=0;l<i.length;l++)t.prototype[\"get\"+n(i[l])]=r(i[l]),t.prototype[\"set\"+n(i[l])]=function(n){return function(r){if(!e(r))throw new TypeError(n+\" must be a Number\");this[n]=Number(r)}}(i[l]);for(var f=0;f<a.length;f++)t.prototype[\"get\"+n(a[f])]=r(a[f]),t.prototype[\"set\"+n(a[f])]=function(e){return function(n){this[e]=String(n)}}(a[f]);return t})},{}],4:[function(e,n,r){function t(){this._array=[],this._set=Object.create(null)}var o=e(\"./util\"),i=Object.prototype.hasOwnProperty;t.fromArray=function(e,n){for(var r=new t,o=0,i=e.length;o<i;o++)r.add(e[o],n);return r},t.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},t.prototype.add=function(e,n){var r=o.toSetString(e),t=i.call(this._set,r),a=this._array.length;t&&!n||this._array.push(e),t||(this._set[r]=a)},t.prototype.has=function(e){var n=o.toSetString(e);return i.call(this._set,n)},t.prototype.indexOf=function(e){var n=o.toSetString(e);if(i.call(this._set,n))return this._set[n];throw new Error('\"'+e+'\" is not in the set.')},t.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},t.prototype.toArray=function(){return this._array.slice()},r.ArraySet=t},{\"./util\":10}],5:[function(e,n,r){function t(e){return e<0?(-e<<1)+1:(e<<1)+0}function o(e){var n=1===(1&e),r=e>>1;return n?-r:r}var i=e(\"./base64\"),a=5,s=1<<a,u=s-1,c=s;r.encode=function(e){var n,r=\"\",o=t(e);do n=o&u,o>>>=a,o>0&&(n|=c),r+=i.encode(n);while(o>0);return r},r.decode=function(e,n,r){var t,s,l=e.length,f=0,p=0;do{if(n>=l)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(s=i.decode(e.charCodeAt(n++)),s===-1)throw new Error(\"Invalid base64 digit: \"+e.charAt(n-1));t=!!(s&c),s&=u,f+=s<<p,p+=a}while(t);r.value=o(f),r.rest=n}},{\"./base64\":6}],6:[function(e,n,r){var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");r.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError(\"Must be between 0 and 63: \"+e)},r.decode=function(e){var n=65,r=90,t=97,o=122,i=48,a=57,s=43,u=47,c=26,l=52;return n<=e&&e<=r?e-n:t<=e&&e<=o?e-t+c:i<=e&&e<=a?e-i+l:e==s?62:e==u?63:-1}},{}],7:[function(e,n,r){function t(e,n,o,i,a,s){var u=Math.floor((n-e)/2)+e,c=a(o,i[u],!0);return 0===c?u:c>0?n-u>1?t(u,n,o,i,a,s):s==r.LEAST_UPPER_BOUND?n<i.length?n:-1:u:u-e>1?t(e,u,o,i,a,s):s==r.LEAST_UPPER_BOUND?u:e<0?-1:e}r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.search=function(e,n,o,i){if(0===n.length)return-1;var a=t(-1,n.length,e,n,o,i||r.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(n[a],n[a-1],!0);)--a;return a}},{}],8:[function(e,n,r){function t(e,n,r){var t=e[n];e[n]=e[r],e[r]=t}function o(e,n){return Math.round(e+Math.random()*(n-e))}function i(e,n,r,a){if(r<a){var s=o(r,a),u=r-1;t(e,s,a);for(var c=e[a],l=r;l<a;l++)n(e[l],c)<=0&&(u+=1,t(e,u,l));t(e,u+1,l);var f=u+1;i(e,n,r,f-1),i(e,n,f+1,a)}}r.quickSort=function(e,n){i(e,n,0,e.length-1)}},{}],9:[function(e,n,r){function t(e){var n=e;return\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\"))),null!=n.sections?new a(n):new o(n)}function o(e){var n=e;\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\")));var r=s.getArg(n,\"version\"),t=s.getArg(n,\"sources\"),o=s.getArg(n,\"names\",[]),i=s.getArg(n,\"sourceRoot\",null),a=s.getArg(n,\"sourcesContent\",null),u=s.getArg(n,\"mappings\"),l=s.getArg(n,\"file\",null);if(r!=this._version)throw new Error(\"Unsupported version: \"+r);t=t.map(String).map(s.normalize).map(function(e){return i&&s.isAbsolute(i)&&s.isAbsolute(e)?s.relative(i,e):e}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(t,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=u,this.file=l}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(e){var n=e;\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\")));var r=s.getArg(n,\"version\"),o=s.getArg(n,\"sections\");if(r!=this._version)throw new Error(\"Unsupported version: \"+r);this._sources=new c,this._names=new c;var i={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error(\"Support for url field in sections not implemented.\");var n=s.getArg(e,\"offset\"),r=s.getArg(n,\"line\"),o=s.getArg(n,\"column\");if(r<i.line||r===i.line&&o<i.column)throw new Error(\"Section offsets must be ordered and non-overlapping.\");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new t(s.getArg(e,\"map\"))}})}var s=e(\"./util\"),u=e(\"./binary-search\"),c=e(\"./array-set\").ArraySet,l=e(\"./base64-vlq\"),f=e(\"./quick-sort\").quickSort;t.fromSourceMap=function(e){return o.fromSourceMap(e)},t.prototype._version=3,t.prototype.__generatedMappings=null,Object.defineProperty(t.prototype,\"_generatedMappings\",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),t.prototype.__originalMappings=null,Object.defineProperty(t.prototype,\"_originalMappings\",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),t.prototype._charIsMappingSeparator=function(e,n){var r=e.charAt(n);return\";\"===r||\",\"===r},t.prototype._parseMappings=function(e,n){throw new Error(\"Subclasses must implement _parseMappings\")},t.GENERATED_ORDER=1,t.ORIGINAL_ORDER=2,t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.prototype.eachMapping=function(e,n,r){var o,i=n||null,a=r||t.GENERATED_ORDER;switch(a){case t.GENERATED_ORDER:o=this._generatedMappings;break;case t.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error(\"Unknown order of iteration.\")}var u=this.sourceRoot;o.map(function(e){var n=null===e.source?null:this._sources.at(e.source);return null!=n&&null!=u&&(n=s.join(u,n)),{source:n,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},t.prototype.allGeneratedPositionsFor=function(e){var n=s.getArg(e,\"line\"),r={source:s.getArg(e,\"source\"),originalLine:n,originalColumn:s.getArg(e,\"column\",0)};if(null!=this.sourceRoot&&(r.source=s.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var t=[],o=this._findMapping(r,this._originalMappings,\"originalLine\",\"originalColumn\",s.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)t.push({line:s.getArg(i,\"generatedLine\",null),column:s.getArg(i,\"generatedColumn\",null),lastColumn:s.getArg(i,\"lastGeneratedColumn\",null)}),i=this._originalMappings[++o];else for(var c=i.originalColumn;i&&i.originalLine===n&&i.originalColumn==c;)t.push({line:s.getArg(i,\"generatedLine\",null),column:s.getArg(i,\"generatedColumn\",null),lastColumn:s.getArg(i,\"lastGeneratedColumn\",null)}),i=this._originalMappings[++o]}return t},r.SourceMapConsumer=t,o.prototype=Object.create(t.prototype),o.prototype.consumer=t,o.fromSourceMap=function(e){var n=Object.create(o.prototype),r=n._names=c.fromArray(e._names.toArray(),!0),t=n._sources=c.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file;for(var a=e._mappings.toArray().slice(),u=n.__generatedMappings=[],l=n.__originalMappings=[],p=0,g=a.length;p<g;p++){var h=a[p],m=new i;m.generatedLine=h.generatedLine,m.generatedColumn=h.generatedColumn,h.source&&(m.source=t.indexOf(h.source),m.originalLine=h.originalLine,m.originalColumn=h.originalColumn,h.name&&(m.name=r.indexOf(h.name)),l.push(m)),u.push(m)}return f(n.__originalMappings,s.compareByOriginalPositions),n},o.prototype._version=3,Object.defineProperty(o.prototype,\"sources\",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?s.join(this.sourceRoot,e):e},this)}}),o.prototype._parseMappings=function(e,n){for(var r,t,o,a,u,c=1,p=0,g=0,h=0,m=0,d=0,v=e.length,_=0,y={},w={},b=[],C=[];_<v;)if(\";\"===e.charAt(_))c++,_++,p=0;else if(\",\"===e.charAt(_))_++;else{for(r=new i,r.generatedLine=c,a=_;a<v&&!this._charIsMappingSeparator(e,a);a++);if(t=e.slice(_,a),o=y[t])_+=t.length;else{for(o=[];_<a;)l.decode(e,_,w),u=w.value,_=w.rest,o.push(u);if(2===o.length)throw new Error(\"Found a source, but no line and column\");if(3===o.length)throw new Error(\"Found a source and line, but no column\");y[t]=o}r.generatedColumn=p+o[0],p=r.generatedColumn,o.length>1&&(r.source=m+o[1],m+=o[1],r.originalLine=g+o[2],g=r.originalLine,r.originalLine+=1,r.originalColumn=h+o[3],h=r.originalColumn,o.length>4&&(r.name=d+o[4],d+=o[4])),C.push(r),\"number\"==typeof r.originalLine&&b.push(r)}f(C,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,f(b,s.compareByOriginalPositions),this.__originalMappings=b},o.prototype._findMapping=function(e,n,r,t,o,i){if(e[r]<=0)throw new TypeError(\"Line must be greater than or equal to 1, got \"+e[r]);if(e[t]<0)throw new TypeError(\"Column must be greater than or equal to 0, got \"+e[t]);return u.search(e,n,o,i)},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(e){var n={generatedLine:s.getArg(e,\"line\"),generatedColumn:s.getArg(e,\"column\")},r=this._findMapping(n,this._generatedMappings,\"generatedLine\",\"generatedColumn\",s.compareByGeneratedPositionsDeflated,s.getArg(e,\"bias\",t.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===n.generatedLine){var i=s.getArg(o,\"source\",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=s.join(this.sourceRoot,i)));var a=s.getArg(o,\"name\",null);return null!==a&&(a=this._names.at(a)),{source:i,line:s.getArg(o,\"originalLine\",null),column:s.getArg(o,\"originalColumn\",null),name:a}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},o.prototype.sourceContentFor=function(e,n){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=s.urlParse(this.sourceRoot))){var t=e.replace(/^file:\\/\\//,\"\");if(\"file\"==r.scheme&&this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];if((!r.path||\"/\"==r.path)&&this._sources.has(\"/\"+e))return this.sourcesContent[this._sources.indexOf(\"/\"+e)]}if(n)return null;throw new Error('\"'+e+'\" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(e){var n=s.getArg(e,\"source\");if(null!=this.sourceRoot&&(n=s.relative(this.sourceRoot,n)),!this._sources.has(n))return{line:null,column:null,lastColumn:null};n=this._sources.indexOf(n);var r={source:n,originalLine:s.getArg(e,\"line\"),originalColumn:s.getArg(e,\"column\")},o=this._findMapping(r,this._originalMappings,\"originalLine\",\"originalColumn\",s.compareByOriginalPositions,s.getArg(e,\"bias\",t.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===r.source)return{line:s.getArg(i,\"generatedLine\",null),column:s.getArg(i,\"generatedColumn\",null),lastColumn:s.getArg(i,\"lastGeneratedColumn\",null)}}return{line:null,column:null,lastColumn:null}},r.BasicSourceMapConsumer=o,a.prototype=Object.create(t.prototype),a.prototype.constructor=t,a.prototype._version=3,Object.defineProperty(a.prototype,\"sources\",{get:function(){for(var e=[],n=0;n<this._sections.length;n++)for(var r=0;r<this._sections[n].consumer.sources.length;r++)e.push(this._sections[n].consumer.sources[r]);return e}}),a.prototype.originalPositionFor=function(e){var n={generatedLine:s.getArg(e,\"line\"),generatedColumn:s.getArg(e,\"column\")},r=u.search(n,this._sections,function(e,n){var r=e.generatedLine-n.generatedOffset.generatedLine;return r?r:e.generatedColumn-n.generatedOffset.generatedColumn}),t=this._sections[r];return t?t.consumer.originalPositionFor({line:n.generatedLine-(t.generatedOffset.generatedLine-1),column:n.generatedColumn-(t.generatedOffset.generatedLine===n.generatedLine?t.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(e,n){for(var r=0;r<this._sections.length;r++){var t=this._sections[r],o=t.consumer.sourceContentFor(e,!0);if(o)return o}if(n)return null;throw new Error('\"'+e+'\" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n];if(r.consumer.sources.indexOf(s.getArg(e,\"source\"))!==-1){var t=r.consumer.generatedPositionFor(e);if(t){var o={line:t.line+(r.generatedOffset.generatedLine-1),column:t.column+(r.generatedOffset.generatedLine===t.line?r.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},a.prototype._parseMappings=function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var t=this._sections[r],o=t.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],u=t.consumer._sources.at(a.source);null!==t.consumer.sourceRoot&&(u=s.join(t.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var c=t.consumer._names.at(a.name);this._names.add(c),c=this._names.indexOf(c);var l={source:u,generatedLine:a.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(t.generatedOffset.generatedLine===a.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),\"number\"==typeof l.originalLine&&this.__originalMappings.push(l)}f(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),f(this.__originalMappings,s.compareByOriginalPositions)},r.IndexedSourceMapConsumer=a},{\"./array-set\":4,\"./base64-vlq\":5,\"./binary-search\":7,\"./quick-sort\":8,\"./util\":10}],10:[function(e,n,r){function t(e,n,r){if(n in e)return e[n];if(3===arguments.length)return r;throw new Error('\"'+n+'\" is a required argument.')}function o(e){var n=e.match(v);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function i(e){var n=\"\";return e.scheme&&(n+=e.scheme+\":\"),n+=\"//\",e.auth&&(n+=e.auth+\"@\"),e.host&&(n+=e.host),e.port&&(n+=\":\"+e.port),e.path&&(n+=e.path),n}function a(e){var n=e,t=o(e);if(t){if(!t.path)return e;n=t.path}for(var a,s=r.isAbsolute(n),u=n.split(/\\/+/),c=0,l=u.length-1;l>=0;l--)a=u[l],\".\"===a?u.splice(l,1):\"..\"===a?c++:c>0&&(\"\"===a?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return n=u.join(\"/\"),\"\"===n&&(n=s?\"/\":\".\"),t?(t.path=n,i(t)):n}function s(e,n){\"\"===e&&(e=\".\"),\"\"===n&&(n=\".\");var r=o(n),t=o(e);if(t&&(e=t.path||\"/\"),r&&!r.scheme)return t&&(r.scheme=t.scheme),i(r);if(r||n.match(_))return n;if(t&&!t.host&&!t.path)return t.host=n,i(t);var s=\"/\"===n.charAt(0)?n:a(e.replace(/\\/+$/,\"\")+\"/\"+n);return t?(t.path=s,i(t)):s}function u(e,n){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var r=0;0!==n.indexOf(e+\"/\");){var t=e.lastIndexOf(\"/\");if(t<0)return n;if(e=e.slice(0,t),e.match(/^([^\\/]+:\\/)?\\/*$/))return n;++r}return Array(r+1).join(\"../\")+n.substr(e.length+1)}function c(e){return e}function l(e){return p(e)?\"$\"+e:e}function f(e){return p(e)?e.slice(1):e}function p(e){if(!e)return!1;var n=e.length;if(n<9)return!1;if(95!==e.charCodeAt(n-1)||95!==e.charCodeAt(n-2)||111!==e.charCodeAt(n-3)||116!==e.charCodeAt(n-4)||111!==e.charCodeAt(n-5)||114!==e.charCodeAt(n-6)||112!==e.charCodeAt(n-7)||95!==e.charCodeAt(n-8)||95!==e.charCodeAt(n-9))return!1;for(var r=n-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function g(e,n,r){var t=e.source-n.source;return 0!==t?t:(t=e.originalLine-n.originalLine,0!==t?t:(t=e.originalColumn-n.originalColumn,0!==t||r?t:(t=e.generatedColumn-n.generatedColumn,0!==t?t:(t=e.generatedLine-n.generatedLine,0!==t?t:e.name-n.name))))}function h(e,n,r){var t=e.generatedLine-n.generatedLine;return 0!==t?t:(t=e.generatedColumn-n.generatedColumn,0!==t||r?t:(t=e.source-n.source,0!==t?t:(t=e.originalLine-n.originalLine,0!==t?t:(t=e.originalColumn-n.originalColumn,0!==t?t:e.name-n.name))))}function m(e,n){return e===n?0:e>n?1:-1}function d(e,n){var r=e.generatedLine-n.generatedLine;return 0!==r?r:(r=e.generatedColumn-n.generatedColumn,0!==r?r:(r=m(e.source,n.source),0!==r?r:(r=e.originalLine-n.originalLine,0!==r?r:(r=e.originalColumn-n.originalColumn,0!==r?r:m(e.name,n.name)))))}r.getArg=t;var v=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/,_=/^data:.+\\,.+$/;r.urlParse=o,r.urlGenerate=i,r.normalize=a,r.join=s,r.isAbsolute=function(e){return\"/\"===e.charAt(0)||!!e.match(v)},r.relative=u;var y=function(){var e=Object.create(null);return!(\"__proto__\"in e)}();r.toSetString=y?c:l,r.fromSetString=y?c:f,r.compareByOriginalPositions=g,r.compareByGeneratedPositionsDeflated=h,r.compareByGeneratedPositionsInflated=d},{}],11:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stacktrace-gps\",[\"source-map\",\"stackframe\"],i):\"object\"==typeof t?r.exports=i(n(\"source-map/lib/source-map-consumer\"),n(\"stackframe\")):o.StackTraceGPS=i(o.SourceMap||o.sourceMap,o.StackFrame)}(this,function(e,n){\"use strict\";function r(e){return new Promise(function(n,r){var t=new XMLHttpRequest;t.open(\"get\",e),t.onerror=r,t.onreadystatechange=function(){4===t.readyState&&(t.status>=200&&t.status<300||\"file://\"===e.substr(0,7)&&t.responseText?n(t.responseText):r(new Error(\"HTTP status: \"+t.status+\" retrieving \"+e)))},t.send()})}function t(e){if(\"undefined\"!=typeof window&&window.atob)return window.atob(e);throw new Error(\"You must supply a polyfill for window.atob in this environment\")}function o(e){if(\"undefined\"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error(\"You must supply a polyfill for JSON.parse in this environment\")}function i(e,n){for(var r=[/['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/,/function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/,/['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/,/\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/,/['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/],t=e.split(\"\\n\"),o=\"\",i=Math.min(n,20),a=0;a<i;++a){var s=t[n-a-1],u=s.indexOf(\"//\");if(u>=0&&(s=s.substr(0,u)),s){o=s+o;for(var c=r.length,l=0;l<c;l++){var f=r[l].exec(o);if(f&&f[1])return f[1]}}}}function a(){if(\"function\"!=typeof Object.defineProperty||\"function\"!=typeof Object.create)throw new Error(\"Unable to consume source maps in older browsers\")}function s(e){if(\"object\"!=typeof e)throw new TypeError(\"Given StackFrame is not an object\");if(\"string\"!=typeof e.fileName)throw new TypeError(\"Given file name is not a String\");if(\"number\"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError(\"Given line number must be a positive integer\");if(\"number\"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError(\"Given column number must be a non-negative integer\");return!0}function u(e){for(var n,r,t=/\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/gm;r=t.exec(e);)n=r[1];if(n)return n;throw new Error(\"sourceMappingURL not found\")}function c(e,r,t){return new Promise(function(o,i){var a=r.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(a.source){var s=r.sourceContentFor(a.source);s&&(t[a.source]=s),o(new n({functionName:a.name||e.functionName,args:e.args,fileName:a.source,lineNumber:a.line,columnNumber:a.column}))}else i(new Error(\"Could not get original source for given stackframe and source map\"))})}return function l(f){return this instanceof l?(f=f||{},this.sourceCache=f.sourceCache||{},this.sourceMapConsumerCache=f.sourceMapConsumerCache||{},this.ajax=f.ajax||r,this._atob=f.atob||t,this._get=function(e){return new Promise(function(n,r){var t=\"data:\"===e.substr(0,5);if(this.sourceCache[e])n(this.sourceCache[e]);else if(f.offline&&!t)r(new Error(\"Cannot make network requests in offline mode\"));else if(t){var o=/^data:application\\/json;([\\w=:\"-]+;)*base64,/,i=e.match(o);if(i){var a=i[0].length,s=e.substr(a),u=this._atob(s);this.sourceCache[e]=u,n(u)}else r(new Error(\"The encoding of the inline sourcemap is not supported\"))}else{var c=this.ajax(e,{method:\"get\"});this.sourceCache[e]=c,c.then(n,r)}}.bind(this))},this._getSourceMapConsumer=function(n,r){return new Promise(function(t,i){if(this.sourceMapConsumerCache[n])t(this.sourceMapConsumerCache[n]);else{var a=new Promise(function(t,i){return this._get(n).then(function(n){\"string\"==typeof n&&(n=o(n.replace(/^\\)\\]\\}'/,\"\"))),\"undefined\"==typeof n.sourceRoot&&(n.sourceRoot=r),t(new e.SourceMapConsumer(n))},i)}.bind(this));this.sourceMapConsumerCache[n]=a,t(a)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(n,r){this.getMappedLocation(e).then(function(e){function r(){n(e)}this.findFunctionName(e).then(n,r)[\"catch\"](r)}.bind(this),r)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(r,t){s(e),this._get(e.fileName).then(function(t){var o=e.lineNumber,a=e.columnNumber,s=i(t,o,a);r(s?new n({functionName:s,args:e.args,fileName:e.fileName,lineNumber:o,columnNumber:a}):e)},t)[\"catch\"](t)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(n,r){a(),s(e);var t=this.sourceCache,o=e.fileName;this._get(o).then(function(r){var i=u(r),a=\"data:\"===i.substr(0,5),s=o.substring(0,o.lastIndexOf(\"/\")+1);return\"/\"===i[0]||a||/^https?:\\/\\/|^\\/\\//i.test(i)||(i=s+i),this._getSourceMapConsumer(i,s).then(function(r){return c(e,r,t).then(n)[\"catch\"](function(){n(e)})})}.bind(this),r)[\"catch\"](r)}.bind(this))})):new l(f)}})},{\"source-map/lib/source-map-consumer\":9,stackframe:3}],12:[function(n,r,t){!function(o,i){\"use strict\";\"function\"==typeof e&&e.amd?e(\"stacktrace\",[\"error-stack-parser\",\"stack-generator\",\"stacktrace-gps\"],i):\"object\"==typeof t?r.exports=i(n(\"error-stack-parser\"),n(\"stack-generator\"),n(\"stacktrace-gps\")):o.StackTrace=i(o.ErrorStackParser,o.StackGenerator,o.StackTraceGPS)}(this,function(e,n,r){function t(e,n){var r={};return[e,n].forEach(function(e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}),r}function o(e){return e.stack||e[\"opera#sourceloc\"]}function i(e,n){return\"function\"==typeof n?e.filter(n):e}var a={filter:function(e){return(e.functionName||\"\").indexOf(\"StackTrace$$\")===-1&&(e.functionName||\"\").indexOf(\"ErrorStackParser$$\")===-1&&(e.functionName||\"\").indexOf(\"StackTraceGPS$$\")===-1&&(e.functionName||\"\").indexOf(\"StackGenerator$$\")===-1},sourceCache:{}},s=function(){try{throw new Error}catch(e){return e}};return{get:function(e){var n=s();return o(n)?this.fromError(n,e):this.generateArtificially(e)},getSync:function(r){r=t(a,r);var u=s(),c=o(u)?e.parse(u):n.backtrace(r);return i(c,r.filter)},fromError:function(n,o){o=t(a,o);var s=new r(o);return new Promise(function(r){var t=i(e.parse(n),o.filter);r(Promise.all(t.map(function(e){return new Promise(function(n){function r(){n(e)}s.pinpoint(e).then(n,r)[\"catch\"](r)})})))}.bind(this))},generateArtificially:function(e){e=t(a,e);var r=n.backtrace(e);return\"function\"==typeof e.filter&&(r=r.filter(e.filter)),Promise.resolve(r)},instrument:function(e,n,r,t){if(\"function\"!=typeof e)throw new Error(\"Cannot instrument non-function object\");if(\"function\"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(n,r)[\"catch\"](r),e.apply(t||this,arguments)}catch(i){throw o(i)&&this.fromError(i).then(n,r)[\"catch\"](r),i}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if(\"function\"!=typeof e)throw new Error(\"Cannot de-instrument non-function object\");return\"function\"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,n,r,t){return new Promise(function(o,i){var a=new XMLHttpRequest;if(a.onerror=i,a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?o(a.responseText):i(new Error(\"POST to \"+n+\" failed with status: \"+a.status)))},a.open(\"post\",n),a.setRequestHeader(\"Content-Type\",\"application/json\"),t&&\"object\"==typeof t.headers){var s=t.headers;for(var u in s)s.hasOwnProperty(u)&&a.setRequestHeader(u,s[u])}var c={stack:e};void 0!==r&&null!==r&&(c.message=r),a.send(JSON.stringify(c))})}}})},{\"error-stack-parser\":1,\"stack-generator\":2,\"stacktrace-gps\":11}]},{},[12])(12)});\r\n\r\n\n},{}],8:[function(require,module,exports){\nclass FileMap {\r\n    constructor(){this.sidesList=[];}\r\n    add(sides) {// {sideA:path, sideB:path}\r\n        this.sidesList.push(sides);\r\n    }\r\n    convert(path, fromSide, toSide) {\r\n        for (let sides of this.sidesList) {\r\n            if (path.startsWith(sides[fromSide])) {\r\n                return sides[toSide]+path.substring(sides[fromSide].length);\r\n            }\r\n        }\r\n        return path;\r\n    }\r\n}\r\nmodule.exports=FileMap;\r\n\n},{}],9:[function(require,module,exports){\n/*global Worker*/\r\n// Browser Side\r\nlet idseq=0;\r\nclass Wrapper {\r\n    constructor(worker) {\r\n        const t=this;\r\n        t.idseq=1;\r\n        t.queue={};\r\n        t.worker=worker;\r\n        t.readyQueue=[];\r\n        worker.addEventListener(\"message\",function (e) {\r\n            var d=e.data;\r\n            if (d.reverse) {\r\n                t.procReverse(e);\r\n            } else if (d.ready) {\r\n                t.ready();\r\n            } else if (d.id) {\r\n                t.queue[d.id](d);\r\n                delete t.queue[d.id];\r\n            }\r\n        });\r\n        t.run(\"WorkerService/isReady\").then(function (r) {\r\n            if (r) t.ready();\r\n        });\r\n    }\r\n    procReverse(e) {\r\n        const t=this;\r\n        var d=e.data;\r\n        var id=d.id;\r\n        var path=d.path;\r\n        var params=d.params;\r\n        try {\r\n            Promise.resolve(paths[path](params)).then(function (r) {\r\n                t.worker.postMessage({\r\n                    reverse:true,\r\n                    status:\"ok\",\r\n                    id:id,\r\n                    result: r\r\n                });\r\n            },sendError);\r\n        } catch(err) {\r\n            sendError(err);\r\n        }\r\n        function sendError(e) {\r\n            e=Object.assign({name:e.name, message:e.message, stack:e.stack},e||{});\r\n            try {\r\n                const j=JSON.stringify(e);\r\n                e=JSON.parse(j);\r\n            } catch(je) {\r\n                e=e ? e.message || e+\"\" : \"unknown\";\r\n                console.log(\"WorkerServiceW\", je, e);\r\n            }\r\n            t.worker.postMessage({\r\n                reverse: true,\r\n                id:id, error:e, status:\"error\"\r\n            });\r\n        }\r\n    }\r\n    ready() {\r\n        const t=this;\r\n        if (t.isReady) return;\r\n        t.isReady=true;\r\n        console.log(\"Worker is ready!\");\r\n        t.readyQueue.forEach(function (f){ f();});\r\n    }\r\n    readyPromise() {\r\n        const t=this;\r\n        return new Promise(function (succ) {\r\n            if (t.isReady) return succ();\r\n            t.readyQueue.push(succ);\r\n        });\r\n    }\r\n    run(path, params) {\r\n        const t=this;\r\n        return t.readyPromise().then(function() {\r\n            return new Promise(function (succ,err) {\r\n                var id=t.idseq++;\r\n                t.queue[id]=function (e) {\r\n                    //console.log(\"Status\",e);\r\n                    if (e.status==\"ok\") {\r\n                        succ(e.result);\r\n                    } else {\r\n                        err(e.error);\r\n                    }\r\n                };\r\n                t.worker.postMessage({\r\n                    id: id,\r\n                    path: path,\r\n                    params: params\r\n                });\r\n            });\r\n        });\r\n    }\r\n    terminate() {\r\n        const t=this;\r\n        t.worker.terminate();\r\n    }\r\n}\r\nvar paths={};\r\nconst WorkerService={\r\n    Wrapper:Wrapper,\r\n    load: function (src) {\r\n        var w=new Worker(src);\r\n        return new Wrapper(w);\r\n    },\r\n    install: function (path, func) {\r\n        paths[path]=func;\r\n    },\r\n    serv: function (path,func) {\r\n        this.install(path,func);\r\n    }\r\n};\r\nWorkerService.serv(\"console/log\", function (params){\r\n    console.log.apply(console,params);\r\n});\r\nmodule.exports=WorkerService;\r\n\n},{}],10:[function(require,module,exports){\n/*global window,self,global*/\r\n(function (deps, factory) {\r\n    module.exports=factory();\r\n})([],function (){\r\n    if (typeof window!==\"undefined\") return window;\r\n    if (typeof self!==\"undefined\") return self;\r\n    if (typeof global!==\"undefined\") return global;\r\n    return (function (){return this;})();\r\n});\r\n\n},{}],11:[function(require,module,exports){\n/*define(function (require,exports,module) {\r\n    const F=require(\"ProjectFactory\");\r\n    const root=require(\"root\");\r\n    const SourceFiles=require(\"SourceFiles\");\r\n    const langMod=require(\"langMod\");\r\n    */\r\n    const F=require(\"./ProjectFactory\");\r\n    const root=require(\"../lib/root\");\r\n    const SourceFiles=require(\"../lang/SourceFiles\");\r\n    //const A=require(\"../lib/assert\");\r\n    const langMod=require(\"../lang/langMod\");\r\n\r\n    F.addType(\"compiled\",params=> {\r\n        if (params.namespace && params.url) return urlBased(params);\r\n        if (params.dir) return dirBased(params);\r\n        console.error(\"Invalid compiled project\", params);\r\n        throw new Error(\"Invalid compiled project\");\r\n    });\r\n    function urlBased(params) {\r\n        const ns=params.namespace;\r\n        const url=params.url;\r\n        const res=F.createCore();\r\n        return res.include(langMod).include({\r\n            getNamespace:function () {return ns;},\r\n            loadClasses: async function (ctx) {\r\n                console.log(\"Loading compiled classes ns=\",ns,\"url=\",url);\r\n                await this.loadDependingClasses();\r\n                const s=SourceFiles.add({url});\r\n                await s.exec();\r\n                console.log(\"Loaded compiled classes ns=\",ns,\"url=\",url);\r\n            },\r\n        });\r\n    }\r\n    function dirBased(params) {\r\n        const res=F.createDirBasedCore(params);\r\n        return res.include(langMod).include({\r\n            loadClasses: async function (ctx) {\r\n                console.log(\"Loading compiled classes params=\",params);\r\n                await this.loadDependingClasses();\r\n                const outJS=this.getOutputFile();\r\n                const map=outJS.sibling(outJS.name()+\".map\");\r\n                const sf=SourceFiles.add({\r\n                    text:outJS.text(),\r\n                    sourceMap:map.exists() && map.text(),\r\n                });\r\n                await sf.exec();\r\n                console.log(\"Loaded compiled classes params=\",params);\r\n            }\r\n        });\r\n    }\r\n    exports.create=params=>F.create(\"compiled\",params);\r\n    F.addDependencyResolver((prj, spec)=> {\r\n        if (spec.dir && prj.resolve) {\r\n            return F.create(\"compiled\",{dir:prj.resolve(spec.dir)});\r\n        }\r\n        if (spec.namespace && spec.url) {\r\n            return F.create(\"compiled\",spec);\r\n        }\r\n    });\r\n//});/*--end of define--*/\r\n\n},{\"../lang/SourceFiles\":3,\"../lang/langMod\":5,\"../lib/root\":10,\"./ProjectFactory\":12}],12:[function(require,module,exports){\n//define(function (require,exports,module) {\r\n    // This factory will be widely used, even BitArrow.\r\n\r\n\r\n    let Compiler, SourceFiles,sysMod,run2Mod;\r\n    const  resolvers=[],types={};\r\n    exports.addDependencyResolver=(f)=>{\r\n        //f: (prj, spec) => prj\r\n        resolvers.push(f);\r\n    };\r\n    exports.addType=(n,f)=>{\r\n        types[n]=f;\r\n    };\r\n    exports.fromDependencySpec=function (prj,spec) {\r\n        if (typeof spec==\"string\") {\r\n            var prjDir=prj.resolve(spec);\r\n            return this.fromDir(prjDir);\r\n        }\r\n        for (let f of resolvers) {\r\n            const res=f(prj,spec);\r\n            if (res) return res;\r\n        }\r\n        console.error(\"Invalid dep spec\", spec);\r\n        throw new Error(\"Invalid dep spec\", spec);\r\n        /* else if (typeof dprj==\"object\") {\r\n            return this.create(\"compiled\", {\r\n                namespace:dprj.namespace,\r\n                url: FS.expandPath(dprj.compiledURL)\r\n            });\r\n        }*/\r\n    };\r\n    exports.create=function (type,params) {\r\n        if (!types[type]) throw new Error(`Invalid type ${type}`);\r\n        return types[type](params);\r\n    };\r\n    class ProjectCore {\r\n        getPublishedURL(){}//TODO\r\n        getOptions(opt) {return {};}//stub\r\n        getName() {\r\n            return this.dir.name().replace(/\\/$/,\"\");\r\n        }\r\n        getDependingProjects() {\r\n            var opt=this.getOptions();\r\n            var dp=(opt.compiler && opt.compiler.dependingProjects) || [];\r\n            return dp.map(dprj=>\r\n                ProjectCore.factory.fromDependencySpec(this,dprj)\r\n            );\r\n        }\r\n        include(mod) {\r\n            for (let k of Object.getOwnPropertyNames(mod)) {\r\n                if (typeof mod[k]===\"function\") this[k]=mod[k];\r\n            }\r\n            return this;\r\n        }\r\n        delegate(obj) {\r\n            if (obj.constructor.prototype) {\r\n                const add=k=>{\r\n                    if (typeof obj[k]===\"function\") this[k]=(...args)=>obj[k](...args);\r\n                };\r\n                for (let k of Object.getOwnPropertyNames(obj.constructor.prototype)) add(k);\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n    ProjectCore.factory=exports;\r\n    exports.createCore=()=>new ProjectCore();\r\n    const dirBasedMod={\r\n        getDir() {return this.dir;},\r\n        resolve(rdir){// not in compiledProject\r\n            if (rdir instanceof Array) {\r\n                var res=[];\r\n                rdir.forEach(function (e) {\r\n                    res.push(this.resolve(e));\r\n                });\r\n                return res;\r\n            }\r\n            if (typeof rdir==\"string\") {\r\n                /*global FS*/ //TODO\r\n                if (typeof FS!==\"undefined\") {\r\n                    return FS.resolve(rdir, this.getDir().path());\r\n                } else {\r\n                    return this.getDir().rel(rdir);\r\n                }\r\n            }\r\n            if (!rdir || !rdir.isDir) throw new Error(\"Cannot TPR.resolve: \"+rdir);\r\n            return rdir;\r\n        },\r\n        getOptions(opt) {\r\n            return this.getOptionsFile().obj();\r\n        },\r\n        getOptionsFile() {// not in compiledProject\r\n            var resFile=this.dir.rel(\"options.json\");\r\n            return resFile;\r\n        },\r\n        setOptions(opt) {// not in compiledProject\r\n            return this.getOptionsFile().obj(opt);\r\n        },\r\n        getOutputFile(lang) {// not in compiledProject\r\n            var opt=this.getOptions();\r\n            var outF=this.resolve(opt.compiler.outputFile||\"js/concat.js\");\r\n            if (outF.isDir()) {\r\n                throw new Error(\"out: directory style not supported\");\r\n            }\r\n            return outF;\r\n        },\r\n        removeOutputFile() {// not in compiledProject\r\n            this.getOutputFile().rm();\r\n        },\r\n        path(){return this.dir.path();},// not in compiledProject\r\n        getEXT() {throw new Error(\"getEXT must be overriden.\");},//stub\r\n        sourceFiles() {\r\n            const res={};\r\n            const ext=this.getEXT();\r\n    \t\tthis.dir.recursive(collect);\r\n    \t\tfunction collect(f) {\r\n    \t\t\tif (f.endsWith(ext)) {\r\n    \t\t\t\tvar nb=f.truncExt(ext);\r\n    \t\t\t\tres[nb]=f;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn res;\r\n        }\r\n    };\r\n    exports.createDirBasedCore=function (params) {\r\n        const res=this.createCore();\r\n        res.dir=params.dir;\r\n        return res.include(dirBasedMod);\r\n    };\r\n//});/*--end of define--*/\r\n\n},{}]},{},[2])(2)\n});\n\n(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n    const Assertion=function(failMesg) {\r\n        this.failMesg=flatten(failMesg || \"Assertion failed: \");\r\n    };\r\n    var $a;\r\n    Assertion.prototype={\r\n        _regedType:{},\r\n        registerType: function (name,t) {\r\n            this._regedType[name]=t;\r\n        },\r\n        MODE_STRICT:\"strict\",\r\n        MODE_DEFENSIVE:\"defensive\",\r\n        MODE_BOOL:\"bool\",\r\n        fail:function () {\r\n            var a=$a(arguments);\r\n            var value=a.shift();\r\n            a=flatten(a);\r\n            a=this.failMesg.concat(value).concat(a).concat([\"mode\",this._mode]);\r\n            console.log.apply(console,a);\r\n            if (this.isDefensive()) return value;\r\n            if (this.isBool()) return false;\r\n            throw new Error(a.join(\" \"));\r\n        },\r\n        subAssertion: function () {\r\n            var a=$a(arguments);\r\n            a=flatten(a);\r\n            return new Assertion(this.failMesg.concat(a));\r\n        },\r\n        assert: function (t,failMesg) {\r\n            if (!t) return this.fail(t,failMesg);\r\n            return t;\r\n        },\r\n        eq: function (a,b) {\r\n            if (a!==b) return this.fail(a,\"!==\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        ne: function (a,b) {\r\n            if (a===b) return this.fail(a,\"===\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        isset: function (a, n) {\r\n            if (a==null) return this.fail(a, (n||\"\")+\" is null/undef\");\r\n            return this.isBool()?true:a;\r\n        },\r\n        is: function (value,type) {\r\n            var t=type,v=value;\r\n            if (t==null) {\r\n                return this.fail(value, \"assert.is: type must be set\");\r\n                // return t; Why!!!!???? because is(args,[String,Number])\r\n            }\r\n            if (t._assert_func) {\r\n                t._assert_func.apply(this,[v]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            this.assert(value!=null,[value, \"should be \",t]);\r\n            if (t instanceof Array || (typeof global==\"object\" && typeof global.Array==\"function\" && t instanceof global.Array) ) {\r\n                if (!value || typeof value.length!=\"number\") {\r\n                    return this.fail(value, \"should be array:\");\r\n                }\r\n                var self=this;\r\n                for (var i=0 ;i<t.length; i++) {\r\n                    let na=self.subAssertion(\"failed at \",value,\"[\",i,\"]: \");\r\n                    if (t[i]==null) {\r\n                        console.log(\"WOW!7\", v[i],t[i]);\r\n                    }\r\n                    na.is(v[i],t[i]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===String || t==\"string\") {\r\n                this.assert(typeof(v)==\"string\",[v,\"should be a string \"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Number || t==\"number\") {\r\n                this.assert(typeof(v)==\"number\",[v,\"should be a number\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t instanceof RegExp || (typeof global==\"object\" && typeof global.RegExp==\"function\" && t instanceof global.RegExp)) {\r\n                this.is(v,String);\r\n                this.assert(t.exec(v),[v,\"does not match to\",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Function) {\r\n                this.assert(typeof v==\"function\",[v,\"should be a function\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"function\") {\r\n                this.assert((v instanceof t),[v, \"should be \",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t && typeof t==\"object\") {\r\n                for (var k in t) {\r\n                    let na=this.subAssertion(\"failed at \",value,\".\",k,\":\");\r\n                    na.is(value[k],t[k]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"string\") {\r\n                var ty=this._regedType[t];\r\n                if (ty) return this.is(value,ty);\r\n                //console.log(\"assertion Warning:\",\"unregistered type:\", t, \"value:\",value);\r\n                return this.isBool()?true:value;\r\n            }\r\n            return this.fail(value, \"Invaild type: \",t);\r\n        },\r\n        ensureError: function (action, err) {\r\n            try {\r\n                action();\r\n            } catch(e) {\r\n                if(typeof err==\"string\") {\r\n                    assert(e+\"\"===err,action+\" thrown an error \"+e+\" but expected:\"+err);\r\n                }\r\n                console.log(\"Error thrown successfully: \",e.message);\r\n                return;\r\n            }\r\n            this.fail(action,\"should throw an error\",err);\r\n        },\r\n        setMode:function (mode) {\r\n            this._mode=mode;\r\n        },\r\n        isDefensive:function () {\r\n            return this._mode===this.MODE_DEFENSIVE;\r\n        },\r\n        isBool:function () {\r\n            return this._mode===this.MODE_BOOL;\r\n        },\r\n        isStrict:function () {\r\n            return !this.isDefensive() && !this.isBool();\r\n        }\r\n    };\r\n    $a=function (args) {\r\n        var a=[];\r\n        for (var i=0; i<args.length ;i++) a.push(args[i]);\r\n        return a;\r\n    };\r\n    var top=new Assertion();\r\n    var assert=function () {\r\n        try {\r\n            return top.assert.apply(top,arguments);\r\n        } catch(e) {\r\n            throw new Error(e.message);\r\n        }\r\n    };\r\n    [\"setMode\",\"isDefensive\",\"is\",\"isset\",\"ne\",\"eq\",\"ensureError\"].forEach(function (m) {\r\n        assert[m]=function () {\r\n            try {\r\n                return top[m].apply(top,arguments);\r\n            } catch(e) {\r\n                console.log(e.stack);\r\n                //if (top.isDefensive()) return arguments[0];\r\n                //if (top.isBool()) return false;\r\n                throw new Error(e.message);\r\n            }\r\n        };\r\n    });\r\n    assert.fail=top.fail.bind(top);\r\n    assert.MODE_STRICT=top.MODE_STRICT;\r\n    assert.MODE_DEFENSIVE=top.MODE_DEFENSIVE;\r\n    assert.MODE_BOOL=top.MODE_BOOL;\r\n    assert.f=function (f) {\r\n        return {\r\n            _assert_func: f\r\n        };\r\n    };\r\n    assert.opt=function (t) {\r\n        return assert.f(function (v) {\r\n            return v==null || v instanceof t;\r\n        });\r\n    };\r\n    assert.and=function () {\r\n        var types=$a(arguments);\r\n        assert(types instanceof Array);\r\n        return assert.f(function (value) {\r\n            var t=this;\r\n            for (var i=0; i<types.length; i++) {\r\n                t.is(value,types[i]);\r\n            }\r\n        });\r\n    };\r\n    function flatten(a) {\r\n        if (a instanceof Array) {\r\n            var res=[];\r\n            a.forEach(function (e) {\r\n                res=res.concat(flatten(e));\r\n            });\r\n            return res;\r\n        }\r\n        return [a];\r\n    }\r\n    function isArg(a) {\r\n        return \"length\" in a && \"caller\" in a && \"callee\" in a;\r\n    }\r\n    module.exports=assert;\r\n\n},{}],2:[function(require,module,exports){\n/*global window,self,global*/\r\n(function (deps, factory) {\r\n    module.exports=factory();\r\n})([],function (){\r\n    if (typeof window!==\"undefined\") return window;\r\n    if (typeof self!==\"undefined\") return self;\r\n    if (typeof global!==\"undefined\") return global;\r\n    return (function (){return this;})();\r\n});\r\n\n},{}],3:[function(require,module,exports){\n//\t\tfunction (assert,TT,IT,DU) {\r\nvar assert=require(\"../lib/assert\");\r\nvar root=require(\"../lib/root\");\r\nvar TonyuThreadF=require(\"./TonyuThread\");\r\nvar IT=require(\"./tonyuIterator\");\r\nmodule.exports=function () {\r\n\t// old browser support\r\n\tif (!root.performance) {\r\n\t\troot.performance = {};\r\n\t}\r\n\tif (!root.performance.now) {\r\n\t\troot.performance.now = function now() {\r\n\t\t\treturn Date.now();\r\n\t\t};\r\n\t}\r\n\tvar preemptionTime=60;\r\n\tvar klass={};\r\n\tvar Tonyu,TT;\r\n\tfunction thread() {\r\n\t\tvar t=new TT();\r\n\t\tt.handleEx=handleEx;\r\n\t\treturn t;\r\n\t}\r\n\tfunction timeout(t) {\r\n\t\treturn new Promise(function (s) {\r\n\t\t\tsetTimeout(s,t);\r\n\t\t});\r\n\t}\r\n\t/*function animationFrame() {\r\n\t\treturn new Promise( function (f) {\r\n\t\t\trequestAnimationFrame(f);\r\n\t\t});\r\n\t}*/\r\n\r\n\tfunction handleEx(e) {\r\n\t\tif (Tonyu.onRuntimeError) {\r\n\t\t\tTonyu.onRuntimeError(e);\r\n\t\t} else {\r\n\t\t\t//if (typeof $LASTPOS==\"undefined\") $LASTPOS=0;\r\n\t\t\tif (root.alert) root.alert(\"!   : \"+e);\r\n\t\t\tconsole.log(e.stack);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\tklass.addMeta=addMeta;\r\n\tfunction addMeta(fn,m) {\r\n\t\t// why use addMeta?\r\n\t\t// because when compiled from source, additional info(src file) is contained.\r\n\t\t// k.meta={...} erases these info\r\n\t\tassert.is(arguments,[String,Object]);\r\n\t\treturn extend(klass.getMeta(fn), m);\r\n\t}\r\n\tklass.removeMeta=function (n) {\r\n\t\tdelete classMetas[n];\r\n\t};\r\n\tklass.getMeta=function (k) {// Class or fullName\r\n\t\tif (typeof k==\"function\") {\r\n\t\t\treturn k.meta;\r\n\t\t} else if (typeof k==\"string\"){\r\n\t\t\tvar mm = classMetas[k];\r\n\t\t\tif (!mm) classMetas[k]=mm={};\r\n\t\t\treturn mm;\r\n\t\t}\r\n\t};\r\n\tklass.ensureNamespace=function (top,nsp) {\r\n\t\tvar keys=nsp.split(\".\");\r\n\t\tvar o=top;\r\n\t\tvar i;\r\n\t\tfor (i=0; i<keys.length; i++) {\r\n\t\t\tvar k=keys[i];\r\n\t\t\tif (!o[k]) o[k]={};\r\n\t\t\to=o[k];\r\n\t\t}\r\n\t\treturn o;\r\n\t};\r\n\t/*Function.prototype.constructor=function () {\r\n\t\tthrow new Error(\"This method should not be called\");\r\n\t};*/\r\n\tklass.propReg=/^__([gs]et)ter__(.*)$/;\r\n\tklass.define=function (params) {\r\n\t\t// fullName, shortName,namspace, superclass, includes, methods:{name/fiber$name: func}, decls\r\n\t\tvar parent=params.superclass;\r\n\t\tvar includes=params.includes;\r\n\t\tvar fullName=params.fullName;\r\n\t\tvar shortName=params.shortName;\r\n\t\tvar namespace=params.namespace;\r\n\t\tvar methodsF=params.methods;\r\n\t\tvar decls=params.decls;\r\n\t\tvar nso=klass.ensureNamespace(Tonyu.classes, namespace);\r\n\t\tvar outerRes;\r\n\t\tfunction chkmeta(m,ctx) {\r\n\t\t\tctx=ctx||{};\r\n\t\t\tif (ctx.isShim) return m;\r\n\t\t\tctx.path=ctx.path||[];\r\n\t\t\tctx.path.push(m);\r\n\t\t\tif (m.isShim) {\r\n\t\t\t\tconsole.log(\"chkmeta::ctx\",ctx);\r\n\t\t\t\tthrow new Error(\"Shim found \"+m.extenderFullName);\r\n\t\t\t}\r\n\t\t\tif (m.superclass) chkmeta(m.superclass,ctx);\r\n\t\t\tif (!m.includes) {\r\n\t\t\t\tconsole.log(\"chkmeta::ctx\",ctx);\r\n\t\t\t\tthrow new Error(\"includes not found\");\r\n\t\t\t}\r\n\t\t\tm.includes.forEach(function (mod) {\r\n\t\t\t\tchkmeta(mod,ctx);\r\n\t\t\t});\r\n\t\t\tctx.path.pop();\r\n\t\t\treturn m;\r\n\t\t}\r\n\t\tfunction chkclass(c,ctx) {\r\n\t\t\tif (!c.prototype.hasOwnProperty(\"getClassInfo\")) throw new Error(\"NO\");\r\n\t\t\tif (!c.meta) {\r\n\t\t\t\tconsole.log(\"metanotfound\",c);\r\n\t\t\t\tthrow new Error(\"meta not found\");\r\n\t\t\t}\r\n\t\t\tchkmeta(c.meta,ctx);\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tfunction extender(parent,ctx) {\r\n\t\t\tvar isShim=!ctx.init;\r\n\t\t\tvar includesRec=ctx.includesRec;\r\n\t\t\tif (includesRec[fullName]) return parent;\r\n\t\t\tincludesRec[fullName]=true;\r\n\t\t\t//console.log(ctx.initFullName, fullName);//,  includesRec[fullName],JSON.stringify(ctx));\r\n\t\t\tincludes.forEach(function (m) {\r\n\t\t\t\tparent=m.extendFrom(parent,extend(ctx,{init:false}));\r\n\t\t\t});\r\n\t\t\tvar methods=typeof methodsF===\"function\"? methodsF(parent):methodsF;\r\n\t\t\t/*if (typeof Profiler!==\"undefined\") {\r\n\t\t\t\tProfiler.profile(methods, fullName);\r\n\t\t\t}*/\r\n\t\t\tvar init=methods.initialize;\r\n\t\t\tdelete methods.initialize;\r\n\t\t\tvar res;\r\n\t\t\tres=(init?\r\n\t\t\t\tfunction () {\r\n\t\t\t\t\tif (!(this instanceof res)) useNew(fullName);\r\n\t\t\t\t\tinit.apply(this,arguments);\r\n\t\t\t\t}:\r\n\t\t\t\t(parent? function () {\r\n\t\t\t\t\tif (!(this instanceof res)) useNew(fullName);\r\n\t\t\t\t\tparent.apply(this,arguments);\r\n\t\t\t\t}:function (){\r\n\t\t\t\t\tif (!(this instanceof res)) useNew(fullName);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tres.prototype=bless(parent,{constructor:res});\r\n\t\t\tif (isShim) {\r\n\t\t\t\tres.meta={isShim:true,extenderFullName:fullName};\r\n\t\t\t} else {\r\n\t\t\t\tres.meta=addMeta(fullName,{\r\n\t\t\t\t\tfullName:fullName,shortName:shortName,namespace:namespace,decls:decls,\r\n\t\t\t\t\tsuperclass:ctx.nonShimParent ? ctx.nonShimParent.meta : null,\r\n\t\t\t\t\tincludesRec:includesRec,\r\n\t\t\t\t\tincludes:includes.map(function(c){return c.meta;})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tres.meta.func=res;\r\n\t\t\t// methods: res's own methods(no superclass/modules)\r\n\t\t\tres.methods=methods;\r\n\t\t\tvar prot=res.prototype;\r\n\t\t\tvar props={};\r\n\t\t\tvar propReg=klass.propReg;//^__([gs]et)ter__(.*)$/;\r\n\t\t\tvar k;\r\n\t\t\tfor (k in methods) {\r\n\t\t\t\tif (k.match(/^fiber\\$/)) continue;\r\n\t\t\t\tprot[k]=methods[k];\r\n\t\t\t\tvar fbk=\"fiber$\"+k;\r\n\t\t\t\tif (methods[fbk]) {\r\n\t\t\t\t\tprot[fbk]=methods[fbk];\r\n\t\t\t\t\tprot[fbk].methodInfo=prot[fbk].methodInfo||{name:k,klass:res,fiber:true};\r\n\t\t\t\t\tprot[k].fiber=prot[fbk];\r\n\t\t\t\t}\r\n\t\t\t\tif (k!==\"__dummy\" && !prot[k]) {\r\n\t\t\t\t\tconsole.log(\"WHY!\",prot[k],prot,k);\r\n\t\t\t\t\tthrow new Error(\"WHY!\"+k);\r\n\t\t\t\t}\r\n\t\t\t\tprot[k].methodInfo=prot[k].methodInfo||{name:k,klass:res};\r\n\t\t\t\t// if profile...\r\n\t\t\t\tvar r=propReg.exec(k);\r\n\t\t\t\tif (r) {\r\n\t\t\t\t\t// __(r[1]g/setter)__r[2]\r\n\t\t\t\t\tprops[r[2]]=props[r[2]]||{};\r\n\t\t\t\t\tprops[r[2]][r[1]]=prot[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprot.isTonyuObject=true;\r\n\t\t\tfor (k in props) {\r\n\t\t\t\tObject.defineProperty(prot, k , props[k]);\r\n\t\t\t}\r\n\t\t\tprot.getClassInfo=function () {\r\n\t\t\t\treturn res.meta;\r\n\t\t\t};\r\n\t\t\treturn chkclass(res,{isShim:isShim});\r\n\t\t}\r\n\t\tvar res=extender(parent,{\r\n\t\t\tinit:true,\r\n\t\t\tinitFullName:fullName,\r\n\t\t\tincludesRec:(parent?extend({},parent.meta.includesRec):{}),\r\n\t\t\tnonShimParent:parent\r\n\t\t});\r\n\t\tres.extendFrom=extender;\r\n\t\t//addMeta(fullName, res.meta);\r\n\t\tnso[shortName]=res;\r\n\t\touterRes=res;\r\n\t\t//console.log(\"defined\", fullName, Tonyu.classes,Tonyu.ID);\r\n\t\treturn chkclass(res,{isShim:false});\r\n\t};\r\n\tklass.isSourceChanged=function (k) {\r\n\t\tk=k.meta||k;\r\n\t\tif (k.src && k.src.tonyu) {\r\n\t\t\tif (!k.nodeTimestamp) return true;\r\n\t\t\treturn k.src.tonyu.lastUpdate()> k.nodeTimestamp;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\tklass.shouldCompile=function (k) {\r\n\t\tk=k.meta||k;\r\n\t\tif (k.hasSemanticError) return true;\r\n\t\tif (klass.isSourceChanged(k)) return true;\r\n\t\tvar dks=klass.getDependingClasses(k);\r\n\t\tfor (var i=0 ; i<dks.length ;i++) {\r\n\t\t\tif (klass.shouldCompile(dks[i])) return true;\r\n\t\t}\r\n\t};\r\n\tklass.getDependingClasses=function (k) {\r\n\t\tk=k.meta||k;\r\n\t\tvar res=[];\r\n\t\tif (k.superclass) res=[k.superclass];\r\n\t\tif (k.includes) res=res.concat(k.includes);\r\n\t\treturn res;\r\n\t};\r\n\tfunction bless( klass, val) {\r\n\t\tif (!klass) return extend({},val);\r\n\t\treturn extend( Object.create(klass.prototype) , val);\r\n\t\t//return extend( new klass() , val);\r\n\t}\r\n\tfunction extend (dst, src) {\r\n\t\tif (src && typeof src==\"object\") {\r\n\t\t\tfor (var i in src) {\r\n\t\t\t\tdst[i]=src[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dst;\r\n\t}\r\n\r\n\t//alert(\"init\");\r\n\tvar globals={};\r\n\tvar classes={};// classes.namespace.classname= function\r\n\tvar classMetas={}; // classes.namespace.classname.meta ( or env.classes / ctx.classes)\r\n\tfunction setGlobal(n,v) {\r\n\t\tglobals[n]=v;\r\n\t}\r\n\tfunction getGlobal(n) {\r\n\t\treturn globals[n];\r\n\t}\r\n\tfunction getClass(n) {\r\n\t\t//CFN: n.split(\".\")\r\n\t\tvar ns=n.split(\".\");\r\n\t\tvar res=classes;\r\n\t\tns.forEach(function (na) {\r\n\t\t\tif (!res) return;\r\n\t\t\tres=res[na];\r\n\t\t});\r\n\t\tif (!res && ns.length==1) {\r\n\t\t\tvar found;\r\n\t\t\tfor (var nn in classes) {\r\n\t\t\t\tvar nr=classes[nn][n];\r\n\t\t\t\tif (nr) {\r\n\t\t\t\t\tif (!res) { res=nr; found=nn+\".\"+n; }\r\n\t\t\t\t\telse throw new Error(\" \"+nn+\".\"+n+\", \"+found);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;//classes[n];\r\n\t}\r\n\tfunction bindFunc(t,meth) {\r\n\t\tif (typeof meth!=\"function\") return meth;\r\n\t\tvar res=function () {\r\n\t\t\treturn meth.apply(t,arguments);\r\n\t\t};\r\n\t\tres.methodInfo=Tonyu.extend({thiz:t},meth.methodInfo||{});\r\n\t\tif (meth.fiber) {\r\n\t\t\tres.fiber=function fiber_func() {\r\n\t\t\t\treturn meth.fiber.apply(t,arguments);\r\n\t\t\t};\r\n\t\t\tres.fiber.methodInfo=Tonyu.extend({thiz:t},meth.fiber.methodInfo||{});\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\tfunction invokeMethod(t, name, args, objName) {\r\n\t\tif (!t) throw new Error(objName+\"(=\"+t+\") \"+name+\"\");\r\n\t\tvar f=t[name];\r\n\t\tif (typeof f!=\"function\") throw new Error((objName==\"this\"? \"\": objName+\".\")+name+\"(=\"+f+\")\");\r\n\t\treturn f.apply(t,args);\r\n\t}\r\n\tfunction callFunc(f,args, fName) {\r\n\t\tif (typeof f!=\"function\") throw new Error(fName+\"\");\r\n\t\treturn f.apply({},args);\r\n\t}\r\n\tfunction checkNonNull(v, name) {\r\n\t\tif (v!=v || v==null) throw new Error(name+\"(=\"+v+\")\");\r\n\t\treturn v;\r\n\t}\r\n\tfunction A(args) {\r\n\t\tvar res=[];\r\n\t\tfor (var i=1 ; i<args.length; i++) {\r\n\t\t\tres[i-1]=args[i];\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\tfunction useNew(c) {\r\n\t\tthrow new Error(\"\"+c+\"new\");\r\n\t}\r\n\tfunction not_a_tonyu_object(o) {\r\n\t\tconsole.log(\"Not a tonyu object: \",o);\r\n\t\tthrow new Error(o+\" is not a tonyu object\");\r\n\t}\r\n\tfunction hasKey(k, obj) {\r\n\t\treturn k in obj;\r\n\t}\r\n\tfunction run(bootClassName) {\r\n\t\tvar bootClass=getClass(bootClassName);\r\n\t\tif (!bootClass) throw new Error( bootClassName+\" \");\r\n\t\tTonyu.runMode=true;\r\n\t\tvar boot=new bootClass();\r\n\t\t//var th=thread();\r\n\t\t//th.apply(boot,\"main\");\r\n\t\tvar TPR=Tonyu.currentProject;\r\n\t\tif (TPR) {\r\n\t\t\t//TPR.runningThread=th;\r\n\t\t\tTPR.runningObj=boot;\r\n\t\t}\r\n\t\t//$LASTPOS=0;\r\n\t\t//th.steps();\r\n\t}\r\n\tvar lastLoopCheck=root.performance.now();\r\n\tvar prevCheckLoopCalled;\r\n\tfunction checkLoop() {\r\n\t\tvar now=root.performance.now();\r\n\t\tif (now-lastLoopCheck>1000) {\r\n\t\t\tresetLoopCheck(10000);\r\n\t\t\tthrow new Error(\"\\n\"+\r\n\t\t\t\t\"    \\n\"+\r\n\t\t\t\t\"   []https://edit.tonyu.jp/doc/options.html\\n\");\r\n\t\t}\r\n\t\tprevCheckLoopCalled=now;\r\n\t}\r\n\tfunction resetLoopCheck(disableTime) {\r\n\t\tlastLoopCheck=root.performance.now()+(disableTime||0);\r\n\t}\r\n\tfunction is(obj,klass) {\r\n\t\tif (!obj) return false;\r\n\t\tif (obj instanceof klass) return true;\r\n\t\tif (typeof obj.getClassInfo===\"function\" && klass.meta) {\r\n\t\t\treturn obj.getClassInfo().includesRec[klass.meta.fullName];\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t//setInterval(resetLoopCheck,16);\r\n\tTonyu={thread:thread, /*threadGroup:threadGroup,*/\r\n\t\t\tklass:klass, bless:bless, extend:extend,\r\n\t\t\tglobals:globals, classes:classes, classMetas:classMetas, setGlobal:setGlobal, getGlobal:getGlobal, getClass:getClass,\r\n\t\t\ttimeout:timeout,//animationFrame:animationFrame, /*asyncResult:asyncResult,*/\r\n\t\t\tbindFunc:bindFunc,not_a_tonyu_object:not_a_tonyu_object,is:is,\r\n\t\t\thasKey:hasKey,invokeMethod:invokeMethod, callFunc:callFunc,checkNonNull:checkNonNull,\r\n\t\t\titerator:IT,run:run,checkLoop:checkLoop,resetLoopCheck:resetLoopCheck,//DeferredUtil:DU,\r\n\t\t\tVERSION:1560828115159,//EMBED_VERSION\r\n\t\t\tA:A,ID:Math.random()};\r\n\tTT=TonyuThreadF(Tonyu);\r\n\tif (root.Tonyu) {\r\n\t\tconsole.error(\"Tonyu called twice!\");\r\n\t\tthrow new Error(\"Tonyu called twice!\");\r\n\t}\r\n\troot.Tonyu=Tonyu;\r\n\treturn Tonyu;\r\n}();\r\n\n},{\"../lib/assert\":1,\"../lib/root\":2,\"./TonyuThread\":4,\"./tonyuIterator\":5}],4:[function(require,module,exports){\n//\tvar Klass=require(\"../lib/Klass\");\r\nmodule.exports=function (Tonyu) {\r\n\tvar cnts={enterC:{},exitC:0};\r\n\tvar idSeq=1;\r\n\t//try {window.cnts=cnts;}catch(e){}\r\n\tclass TonyuThread {\r\n\t\tconstructor() {\r\n\t\t\tthis.frame=null;\r\n\t\t\tthis._isDead=false;\r\n\t\t\t//this._isAlive=true;\r\n\t\t\tthis.cnt=0;\r\n\t\t\tthis._isWaiting=false;\r\n\t\t\tthis.fSuspended=false;\r\n\t\t\tthis.tryStack=[];\r\n\t\t\tthis.preemptionTime=60;\r\n\t\t\tthis.onEndHandlers=[];\r\n\t\t\tthis.onTerminateHandlers=[];\r\n\t\t\tthis.id=idSeq++;\r\n\t\t\tthis.age=0; // inc if object pooled\r\n\t\t}\r\n\t\tisAlive() {\r\n\t\t\treturn !this.isDead();\r\n\t\t\t//return this.frame!=null && this._isAlive;\r\n\t\t}\r\n\t\tisDead() {\r\n\t\t\tthis._isDead=this._isDead || (this.frame==null) ||\r\n\t\t\t(this._threadGroup && (\r\n\t\t\t\t\tthis._threadGroup.objectPoolAge!=this.tGrpObjectPoolAge ||\r\n\t\t\t\t\tthis._threadGroup.isDeadThreadGroup()\r\n\t\t\t));\r\n\t\t\treturn this._isDead;\r\n\t\t}\r\n\t\tsetThreadGroup(g) {// g:TonyuThread\r\n\t\t\tthis._threadGroup=g;\r\n\t\t\tthis.tGrpObjectPoolAge=g.objectPoolAge;\r\n\t\t\t//if (g) g.add(fb);\r\n\t\t}\r\n\t\tisWaiting() {\r\n\t\t\treturn this._isWaiting;\r\n\t\t}\r\n\t\tsuspend() {\r\n\t\t\tthis.fSuspended=true;\r\n\t\t\tthis.cnt=0;\r\n\t\t}\r\n\t\tenter(frameFunc) {\r\n\t\t\t//var n=frameFunc.name;\r\n\t\t\t//cnts.enterC[n]=(cnts.enterC[n]||0)+1;\r\n\t\t\tthis.frame={prev:this.frame, func:frameFunc};\r\n\t\t}\r\n\t\tapply(obj, methodName, args) {\r\n\t\t\tif (!args) args=[];\r\n\t\t\tvar method;\r\n\t\t\tif (typeof methodName==\"string\") {\r\n\t\t\t\tmethod=obj[\"fiber$\"+methodName];\r\n\t\t\t\tif (!method) {\r\n\t\t\t\t\tthrow new Error(\"\"+methodName+\"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (typeof methodName==\"function\") {\r\n\t\t\t\tmethod=methodName.fiber;\r\n\t\t\t\tif (!method) {\r\n\t\t\t\t\tvar n=methodName.methodInfo ? methodName.methodInfo.name : methodName.name;\r\n\t\t\t\t\tthrow new Error(\"\"+n+\"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\targs=[this].concat(args);\r\n\t\t\tvar pc=0;\r\n\t\t\treturn this.enter(function (th) {\r\n\t\t\t\tswitch (pc){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmethod.apply(obj,args);\r\n\t\t\t\t\tpc=1;break;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tth.termStatus=\"success\";\r\n\t\t\t\t\tth.notifyEnd(th.retVal);\r\n\t\t\t\t\targs[0].exit();\r\n\t\t\t\t\tpc=2;break;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tnotifyEnd(r) {\r\n\t\t\tthis.onEndHandlers.forEach(function (e) {\r\n\t\t\t\te(r);\r\n\t\t\t});\r\n\t\t\tthis.notifyTermination({status:\"success\",value:r});\r\n\t\t}\r\n\t\tnotifyTermination(tst) {\r\n\t\t\tthis.onTerminateHandlers.forEach(function (e) {\r\n\t\t\t\te(tst);\r\n\t\t\t});\r\n\t\t}\r\n\t\ton(type,f) {\r\n\t\t\tif (type===\"end\"||type===\"success\") this.onEndHandlers.push(f);\r\n\t\t\tif (type===\"terminate\") {\r\n\t\t\t\tthis.onTerminateHandlers.push(f);\r\n\t\t\t\tif (this.handleEx) delete this.handleEx;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpromise() {\r\n\t\t\tvar fb=this;\r\n\t\t\treturn new Promise(function (succ,err) {\r\n\t\t\t\tfb.on(\"terminate\",function (st) {\r\n\t\t\t\t\tif (st.status===\"success\") {\r\n\t\t\t\t\t\tsucc(st.value);\r\n\t\t\t\t\t} else if (st.status===\"exception\"){\r\n\t\t\t\t\t\terr(st.exception);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\terr(new Error(st.status));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tthen(succ,err) {\r\n\t\t\tif (err) return this.promise().then(succ,err);\r\n\t\t\telse return this.promise().then(succ);\r\n\t\t}\r\n\t\tfail(err) {\r\n\t\t\treturn this.promise().then(e=>e, err);\r\n\t\t}\r\n\t\tgotoCatch(e) {\r\n\t\t\tvar fb=this;\r\n\t\t\tif (fb.tryStack.length==0) {\r\n\t\t\t\tfb.termStatus=\"exception\";\r\n\t\t\t\tfb.kill();\r\n\t\t\t\tif (fb.handleEx) fb.handleEx(e);\r\n\t\t\t\telse fb.notifyTermination({status:\"exception\",exception:e});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfb.lastEx=e;\r\n\t\t\tvar s=fb.tryStack.pop();\r\n\t\t\twhile (fb.frame) {\r\n\t\t\t\tif (s.frame===fb.frame) {\r\n\t\t\t\t\tfb.catchPC=s.catchPC;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfb.frame=fb.frame.prev;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tstartCatch() {\r\n\t\t\tvar fb=this;\r\n\t\t\tvar e=fb.lastEx;\r\n\t\t\tfb.lastEx=null;\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\texit(res) {\r\n\t\t\t//cnts.exitC++;\r\n\t\t\tthis.frame=(this.frame ? this.frame.prev:null);\r\n\t\t\tthis.retVal=res;\r\n\t\t}\r\n\t\tenterTry(catchPC) {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.tryStack.push({frame:fb.frame,catchPC:catchPC});\r\n\t\t}\r\n\t\texitTry() {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.tryStack.pop();\r\n\t\t}\r\n\t\twaitEvent(obj,eventSpec) { // eventSpec=[EventType, arg1, arg2....]\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.suspend();\r\n\t\t\tif (!obj.on) return;\r\n\t\t\tvar h;\r\n\t\t\teventSpec=eventSpec.concat(function () {\r\n\t\t\t\tfb.lastEvent=arguments;\r\n\t\t\t\tfb.retVal=arguments[0];\r\n\t\t\t\th.remove();\r\n\t\t\t\tfb.steps();\r\n\t\t\t});\r\n\t\t\th=obj.on.apply(obj, eventSpec);\r\n\t\t}\r\n\t\trunAsync(f) {\r\n\t\t\tvar fb=this;\r\n\t\t\tvar succ=function () {\r\n\t\t\t\tfb.retVal=arguments;\r\n\t\t\t\tfb.steps();\r\n\t\t\t};\r\n\t\t\tvar err=function () {\r\n\t\t\t\tvar msg=\"\";\r\n\t\t\t\tfor (var i=0; i<arguments.length; i++) {\r\n\t\t\t\t\tmsg+=arguments[i]+\",\";\r\n\t\t\t\t}\r\n\t\t\t\tif (msg.length==0) msg=\"Async fail\";\r\n\t\t\t\tvar e=new Error(msg);\r\n\t\t\t\te.args=arguments;\r\n\t\t\t\tfb.gotoCatch(e);\r\n\t\t\t\tfb.steps();\r\n\t\t\t};\r\n\t\t\tfb.suspend();\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tf(succ,err);\r\n\t\t\t},0);\r\n\t\t}\r\n\t\twaitFor(j) {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb._isWaiting=true;\r\n\t\t\tfb.suspend();\r\n\t\t\tif (j instanceof TonyuThread) j=j.promise();\r\n\t\t\treturn Promise.resolve(j).then(function (r) {\r\n\t\t\t\tfb.retVal=r;\r\n\t\t\t\tfb.stepsLoop();\r\n\t\t\t}).then(e=>e,function (e) {\r\n\t\t\t\tfb.gotoCatch(fb.wrapError(e));\r\n\t\t\t\tfb.stepsLoop();\r\n\t\t\t});\r\n\t\t}\r\n\t\twrapError(e) {\r\n\t\t\tif (e instanceof Error) return e;\r\n\t\t\tvar re=new Error(e);\r\n\t\t\tre.original=e;\r\n\t\t\treturn re;\r\n\t\t}\r\n\t\tresume(retVal) {\r\n\t\t\tthis.retVal=retVal;\r\n\t\t\tthis.steps();\r\n\t\t}\r\n\t\tsteps() {\r\n\t\t\tvar fb=this;\r\n\t\t\tif (fb.isDead()) return;\r\n\t\t\tvar sv=Tonyu.currentThread;\r\n\t\t\tTonyu.currentThread=fb;\r\n\t\t\tfb.cnt=fb.preemptionTime;\r\n\t\t\tfb.preempted=false;\r\n\t\t\tfb.fSuspended=false;\r\n\t\t\twhile (fb.cnt>0 && fb.frame) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//while (new Date().getTime()<lim) {\r\n\t\t\t\t\twhile (fb.cnt-->0 && fb.frame) {\r\n\t\t\t\t\t\tfb.frame.func(fb);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfb.preempted= (!fb.fSuspended) && fb.isAlive();\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tfb.gotoCatch(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tTonyu.currentThread=sv;\r\n\t\t}\r\n\t\tstepsLoop() {\r\n\t\t\tvar fb=this;\r\n\t\t\tfb.steps();\r\n\t\t\tif (fb.preempted) {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tfb.stepsLoop();\r\n\t\t\t\t},0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tkill() {\r\n\t\t\tvar fb=this;\r\n\t\t\t//fb._isAlive=false;\r\n\t\t\tfb._isDead=true;\r\n\t\t\tfb.frame=null;\r\n\t\t\tif (!fb.termStatus) {\r\n\t\t\t\tfb.termStatus=\"killed\";\r\n\t\t\t\tfb.notifyTermination({status:\"killed\"});\r\n\t\t\t}\r\n\t\t}\r\n\t\tclearFrame() {\r\n\t\t\tthis.frame=null;\r\n\t\t\tthis.tryStack=[];\r\n\t\t}\r\n\t}\r\n\treturn TonyuThread;\r\n};\r\n\n},{}],5:[function(require,module,exports){\n//define([\"Klass\"], function (Klass) {\r\n\t//var Klass=require(\"../lib/Klass\");\r\n\tclass ArrayValueIterator {\r\n\t\tconstructor(set) {\r\n\t\t\tthis.set=set;\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext () {\r\n\t\t\tif (this.i>=this.set.length) return false;\r\n\t\t\tthis[0]=this.set[this.i];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass ArrayKeyValueIterator {\r\n\t\tconstructor(set) {\r\n\t\t\tthis.set=set;\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tif (this.i>=this.set.length) return false;\r\n\t\t\tthis[0]=this.i;\r\n\t\t\tthis[1]=this.set[this.i];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass ObjectKeyIterator {\r\n\t\tconstructor(set) {\r\n\t\t\tthis.elems=[];\r\n\t\t\tfor (var k in set) {\r\n\t\t\t\tthis.elems.push(k);\r\n\t\t\t}\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tif (this.i>=this.elems.length) return false;\r\n\t\t\tthis[0]=this.elems[this.i];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass ObjectKeyValueIterator{\r\n\t\tconstructor(set) {\r\n\t\t\tthis.elems=[];\r\n\t\t\tfor (var k in set) {\r\n\t\t\t\tthis.elems.push([k,set[k]]);\r\n\t\t\t}\r\n\t\t\tthis.i=0;\r\n\t\t}\r\n\t\tnext() {\r\n\t\t\tif (this.i>=this.elems.length) return false;\r\n\t\t\tthis[0]=this.elems[this.i][0];\r\n\t\t\tthis[1]=this.elems[this.i][1];\r\n\t\t\tthis.i++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction IT(set, arity) {\r\n\t\tif (set.tonyuIterator) {\r\n\t\t\t// TODO: the prototype of class having tonyuIterator will iterate infinitively\r\n\t\t\treturn set.tonyuIterator(arity);\r\n\t\t} else if (set instanceof Array) {\r\n\t\t\tif (arity==1) {\r\n\t\t\t\treturn new ArrayValueIterator(set);\r\n\t\t\t} else {\r\n\t\t\t\treturn new ArrayKeyValueIterator(set);\r\n\t\t\t}\r\n\t\t} else if (set instanceof Object){\r\n\t\t\tif (arity==1) {\r\n\t\t\t\treturn new ObjectKeyIterator(set);\r\n\t\t\t} else {\r\n\t\t\t\treturn new ObjectKeyValueIterator(set);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log(set);\r\n\t\t\tthrow new Error(set+\" is not iterable\");\r\n\t\t}\r\n\t}\r\n\tmodule.exports=IT;\r\n//   Tonyu.iterator=IT;\r\n//\treturn IT;\r\n//});\r\n\n},{}]},{},[3]);\n\ndefine(\"Tonyu\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.Tonyu;\n    };\n}(this)));\n\n/*global window,self,global*/\r\ndefine('root',[],function (){\r\n    if (typeof window!==\"undefined\") return window;\r\n    if (typeof self!==\"undefined\") return self;\r\n    if (typeof global!==\"undefined\") return global;\r\n    return (function (){return this;})();\r\n});\r\n\n// This is kowareta! because r.js does not generate module name:\r\n//   define(\"FSLib\",[], function () { ...\r\n//(function (global) {\r\n//var useGlobal=(typeof global.define!=\"function\");\r\n//var define=(useGlobal ? define=function(_,f){f();} : global.define);\r\ndefine('FS',[],function () {\r\n    var define,requirejs;\r\n\tvar R={};\r\n\tvar REQJS=\"REQJS_\";\r\n\tvar reqjsSeq=0;\r\n\tR.def=function (name, reqs,func) {\r\n\t\tvar m=R.getModuleInfo(name);\r\n\t\tif (typeof reqs==\"function\") {\r\n\t\t    func=reqs;\r\n\t\t    reqs=R.reqsFromFunc(func);\r\n    \t\tR.setReqs( m, reqs);\r\n    \t\tm.func=function () {\r\n    \t\t    var module={exports:{}};\r\n    \t\t\tvar res=func(R.doLoad,module,module.exports);\r\n    \t\t\treturn res || module.exports;\r\n    \t\t};\r\n\t\t} else {\r\n    \t\tR.setReqs( m, reqs);\r\n    \t\tm.func=function () {\r\n    \t\t\treturn func.apply(this, R.getObjs(reqs));\r\n    \t\t};\r\n\t\t}\r\n\t\tR.loadIfAvailable(m);\r\n\t};\r\n\tdefine=function (name,reqs,func) {\r\n\t\tR.def(name, reqs,func);\r\n\t};\r\n\tdefine.amd={};\r\n\trequirejs=function (reqs,func) {\r\n\t\tR.def(REQJS+(reqjsSeq++),reqs,func);\r\n\t};\r\n\tR.setReqs=function (m, reqs) {\r\n\t\treqs.forEach(function (req) {\r\n\t\t\tvar reqm=R.getModuleInfo(req);\r\n\t\t\tif (!reqm.loaded) {\r\n\t\t\t\tm.reqs[req]=reqm;\r\n\t\t\t\treqm.revReqs[m.name]=m;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tR.getModuleInfo=function (name) {\r\n\t\tvar ms=R.modules;\r\n\t\treturn ms[name]=ms[name]||{name:name,reqs:{},revReqs:{}};\r\n\t};\r\n\tR.doLoad=function (name) {\r\n\t\tvar m=R.getModuleInfo(name);\r\n\t\tif (m.loaded) return m.obj;\r\n\t\tm.loaded=true;\r\n\t\tvar res=m.func();\r\n\t    if ( res==null && !name.match(/^REQJS_/)) console.log(\"Warning: No obj for \"+name);\r\n\t\tm.obj=res;\r\n\t\tfor (var i in m.revReqs) {\r\n\t\t\tR.notifyLoaded(m.revReqs[i], m.name);\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\tR.notifyLoaded=function (dependingMod, loadedModuleName) {\r\n\t    // depengindMod depends on loadedModule\r\n\t\tdelete dependingMod.reqs[loadedModuleName];\r\n\t\tR.loadIfAvailable(dependingMod);\r\n\t};\r\n\tR.loadIfAvailable=function (m) {\r\n\t\tfor (var i in m.reqs) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tR.doLoad(m.name);\r\n\t};\r\n\tR.getObjs=function (ary) {\r\n\t\tvar res=[];\r\n\t\tary.forEach(function (n) {\r\n\t\t\tvar cur=R.doLoad(n);\r\n\t\t\tres.push(cur);\r\n\t\t});\r\n\t\treturn res;\r\n\t};\r\n\tR.reqsFromFunc=function (f) {\r\n\t    var str=f+\"\";\r\n\t    var res=[];\r\n\t    str.replace(/require\\s*\\(\\s*[\"']([^\"']+)[\"']\\s*\\)/g,function (m,a) {\r\n\t       res.push(a);\r\n\t    });\r\n\t    return res;\r\n\t};\r\n\tR.modules={};\r\n\t//requireSimulator=R;\r\n//----------\r\ndefine('extend',[],function (){\r\n   return function extend(d,s) {\r\n      for (var i in s) {d[i]=s[i];}\r\n      return d;\r\n   };\r\n});\r\n\r\ndefine('assert',[],function () {\r\n    var Assertion=function(failMesg) {\r\n        this.failMesg=flatten(failMesg || \"Assertion failed: \");\r\n    };\r\n    var $a;\r\n    Assertion.prototype={\r\n        _regedType:{},\r\n        registerType: function (name,t) {\r\n            this._regedType[name]=t;\r\n        },\r\n        MODE_STRICT:\"strict\",\r\n        MODE_DEFENSIVE:\"defensive\",\r\n        MODE_BOOL:\"bool\",\r\n        fail:function () {\r\n            var a=$a(arguments);\r\n            var value=a.shift();\r\n            a=flatten(a);\r\n            a=this.failMesg.concat(value).concat(a);//.concat([\"(mode:\",this._mode,\")\"]);\r\n            console.log.apply(console,a);\r\n            if (this.isDefensive()) return value;\r\n            if (this.isBool()) return false;\r\n            throw new Error(a.join(\" \"));\r\n        },\r\n        subAssertion: function () {\r\n            var a=$a(arguments);\r\n            a=flatten(a);\r\n            return new Assertion(this.failMesg.concat(a));\r\n        },\r\n        assert: function (t,failMesg) {\r\n            if (!t) return this.fail(t,failMesg);\r\n            return t;\r\n        },\r\n        eq: function (a,b) {\r\n            if (a!==b) return this.fail(a,\"!==\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        ne: function (a,b) {\r\n            if (a===b) return this.fail(a,\"===\",b);\r\n            return this.isBool()?true:a;\r\n        },\r\n        isset: function (a, n) {\r\n            if (a==null) return this.fail(a, (n||\"\")+\" is null/undef\");\r\n            return this.isBool()?true:a;\r\n        },\r\n        is: function (value,type) {\r\n            var t=type,v=value;\r\n            if (t==null) {\r\n                return this.fail(value, \"assert.is: type must be set\");\r\n                // return t; Why!!!!???? because is(args,[String,Number])\r\n            }\r\n            if (t._assert_func) {\r\n                t._assert_func.apply(this,[v]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            this.assert(value!=null,[value, \"should be \",t]);\r\n            if (t instanceof Array || (typeof global==\"object\" && typeof global.Array==\"function\" && t instanceof global.Array) ) {\r\n                if (!value || typeof value.length!=\"number\") {\r\n                    return this.fail(value, \"should be array:\");\r\n                }\r\n                var self=this;\r\n                for (var i=0 ;i<t.length; i++) {\r\n                    var na=self.subAssertion(\"failed at \",value,\"[\",i,\"]: \");\r\n                    if (t[i]==null) {\r\n                        console.log(\"WOW!7\", v[i],t[i]);\r\n                    }\r\n                    na.is(v[i],t[i]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===String || t==\"string\") {\r\n                this.assert(typeof(v)==\"string\",[v,\"should be a string \"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Number || t==\"number\") {\r\n                this.assert(typeof(v)==\"number\",[v,\"should be a number\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Boolean || t==\"boolean\") {\r\n                this.assert(typeof(v)==\"boolean\",[v,\"should be a boolean\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t instanceof RegExp || (typeof global==\"object\" && typeof global.RegExp==\"function\" && t instanceof global.RegExp)) {\r\n                this.is(v,String);\r\n                this.assert(t.exec(v),[v,\"does not match to\",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t===Function) {\r\n                this.assert(typeof v==\"function\",[v,\"should be a function\"]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"function\") {\r\n                this.assert((v instanceof t),[v, \"should be \",t]);\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (t && typeof t==\"object\") {\r\n                for (var k in t) {\r\n                    var na=this.subAssertion(\"failed at \",value,\".\",k,\":\");\r\n                    na.is(value[k],t[k]);\r\n                }\r\n                return this.isBool()?true:value;\r\n            }\r\n            if (typeof t==\"string\") {\r\n                var ty=this._regedType[t];\r\n                if (ty) return this.is(value,ty);\r\n                //console.log(\"assertion Warning:\",\"unregistered type:\", t, \"value:\",value);\r\n                return this.isBool()?true:value;\r\n            }\r\n            return this.fail(value, \"Invaild type: \",t);\r\n        },\r\n        ensureError: function (action, err) {\r\n            try {\r\n                action();\r\n            } catch(e) {\r\n                if(typeof err==\"string\") {\r\n                    assert(e+\"\"===err,action+\" thrown an error \"+e+\" but expected:\"+err);\r\n                }\r\n                console.log(\"Error thrown successfully: \",e.message);\r\n                return;\r\n            }\r\n            this.fail(action,\"should throw an error\",err);\r\n        },\r\n        setMode:function (mode) {\r\n            this._mode=mode;\r\n        },\r\n        isDefensive:function () {\r\n            return this._mode===this.MODE_DEFENSIVE;\r\n        },\r\n        isBool:function () {\r\n            return this._mode===this.MODE_BOOL;\r\n        },\r\n        isStrict:function () {\r\n            return !this.isDefensive() && !this.isBool();\r\n        }\r\n    };\r\n    $a=function (args) {\r\n        var a=[];\r\n        for (var i=0; i<args.length ;i++) a.push(args[i]);\r\n        return a;\r\n    };\r\n    var top=new Assertion();\r\n    var assert=function () {\r\n        try {\r\n            return top.assert.apply(top,arguments);\r\n        } catch(e) {\r\n            throw new Error(e.stack);\r\n        }\r\n    };\r\n    [\"setMode\",\"isDefensive\",\"is\",\"isset\",\"ne\",\"eq\",\"ensureError\"].forEach(function (m) {\r\n        assert[m]=function () {\r\n            try {\r\n                return top[m].apply(top,arguments);\r\n            } catch(e) {\r\n                console.log(e.stack);\r\n                //if (top.isDefensive()) return arguments[0];\r\n                //if (top.isBool()) return false;\r\n                throw new Error(e.message);\r\n            }\r\n        };\r\n    });\r\n    assert.fail=top.fail.bind(top);\r\n    assert.MODE_STRICT=top.MODE_STRICT;\r\n    assert.MODE_DEFENSIVE=top.MODE_DEFENSIVE;\r\n    assert.MODE_BOOL=top.MODE_BOOL;\r\n    assert.f=function (f) {\r\n        return {\r\n            _assert_func: f\r\n        };\r\n    };\r\n    assert.opt=function (t) {\r\n        return assert.f(function (v) {\r\n            return v==null || v instanceof t;\r\n        });\r\n    };\r\n    assert.and=function () {\r\n        var types=$a(arguments);\r\n        assert(types instanceof Array);\r\n        return assert.f(function (value) {\r\n            var t=this;\r\n            for (var i=0; i<types.length; i++) {\r\n                t.is(value,types[i]);\r\n            }\r\n        });\r\n    };\r\n    function flatten(a) {\r\n        if (a instanceof Array) {\r\n            var res=[];\r\n            a.forEach(function (e) {\r\n                res=res.concat(flatten(e));\r\n            });\r\n            return res;\r\n        }\r\n        return [a];\r\n    }\r\n    function isArg(a) {\r\n        return \"length\" in a && \"caller\" in a && \"callee\" in a;\r\n    };\r\n    return assert;\r\n});\r\n\r\ndefine('PathUtil',[\"assert\"],function (assert) {\r\nfunction endsWith(str,postfix) {\r\n    assert.is(arguments,[String,String]);\r\n    return str.substring(str.length-postfix.length)===postfix;\r\n}\r\nfunction startsWith(str,prefix) {\r\n    assert.is(arguments,[String,String]);\r\n    return str.substring(0, prefix.length)===prefix;\r\n}\r\nvar driveLetter=/^([a-zA-Z]):/;\r\n// hyphen on protocol -> chrome-extension://....\r\nvar url=/^([a-z\\-]+):\\/\\/\\/?([^\\/]+)\\//;\r\nvar PathUtil;\r\nvar Path=assert.f(function (s) {\r\n    this.is(s,String);\r\n    this.assert( PathUtil.isPath(s) , [s, \" is not a path\"]);\r\n});\r\nvar Absolute=assert.f(function (s) {\r\n    this.is(s,String);\r\n    this.assert( PathUtil.isAbsolutePath(s) , [s, \" is not a absolute path\"]);\r\n});\r\nvar Relative=assert.f(function (s) {\r\n    this.is(s,String);\r\n    this.assert( !PathUtil.isAbsolutePath(s) , [s, \" is not a relative path\"]);\r\n});\r\n\r\nvar Dir=assert.f(function (s) {\r\n    this.is(s,Path);\r\n    this.assert( PathUtil.isDir(s) , [s, \" is not a directory path\"]);\r\n});\r\nvar AbsDir=assert.and(Dir,Absolute);\r\nvar File=assert.f(function (s) {\r\n    this.is(s,Path);\r\n    this.assert( !PathUtil.isDir(s) , [s, \" is not a file path\"]);\r\n});\r\n\r\nvar SEP=\"/\";\r\nPathUtil={\r\n    Path: Path,Absolute:Absolute, Relative:Relative, Dir:Dir,File:File,\r\n    AbsDir:AbsDir,\r\n    SEP: SEP,\r\n    endsWith: endsWith, startsWith:startsWith,\r\n    isChildOf: function(child, parent) {\r\n        return this.startsWith( this.normalize(child), this.normalize(parent));\r\n    },\r\n    normalize: function (path) {\r\n        return this.fixSep(path,\"/\").replace(/\\/+$/,\"/\");\r\n    },\r\n    hasDriveLetter: function (path) {\r\n        return driveLetter.exec(path);\r\n    },\r\n    isURL: function (path) {\r\n        var r=url.exec(path);\r\n        if (!r) return;\r\n        return {protocol:r[1], hostPort:r[2], path:SEP+path.substring(r[0].length)  };\r\n    },\r\n    isPath: function (path) {\r\n    \tassert.is(arguments,[String]);\r\n\t\treturn true;//!path.match(/\\/\\//);\r\n    },\r\n    isRelativePath: function (path) {\r\n\t\tassert.is(arguments,[String]);\r\n\t\treturn PathUtil.isPath(path) && !PathUtil.isAbsolutePath(path);\r\n    },\r\n    isAbsolutePath: function (path) {\r\n\t\tassert.is(arguments,[String]);\r\n\t\treturn PathUtil.isPath(path) &&\r\n\t\t(PathUtil.startsWith(path,SEP) || PathUtil.hasDriveLetter(path) ||  PathUtil.isURL(path));\r\n    },\r\n    isDir: function (path) {\r\n        path=PathUtil.fixSep(path);\r\n\t\tassert.is(arguments,[Path]);\r\n        return endsWith(path,SEP);\r\n    },\r\n    hasBackslashSep:function (path) {\r\n        return path.indexOf(\"\\\\\")>=0;\r\n    },\r\n    fixSep: function (path,to) {\r\n        to=to||\"/\";\r\n        assert.is(arguments,[String]);\r\n        return assert.is( path.replace(/[\\\\\\/]/g,to), Path);\r\n    },\r\n    directorify: function (path) {\r\n        //path=PathUtil.fixSep(path);\r\n        if (PathUtil.isDir(path)) return path;\r\n        return assert.is(path+SEP, Dir);\r\n    },\r\n    filify: function (path) {\r\n        //path=PathUtil.fixSep(path);\r\n        if (!PathUtil.isDir(path)) return path;\r\n        return assert.is(path.substring(0,path.length-1),File);\r\n    },\r\n\tsplitPath: function (path) {\r\n\t\tassert.is(arguments,[Path]);\r\n\t\tvar u;\r\n\t\tif (u=this.isURL(path)) {\r\n\t\t    var p=this.splitPath(u.path);\r\n\t\t    p[0]=u.protocol+\"://\"+u.hostPort;\r\n\t\t    return p;\r\n\t\t}\r\n\t\tpath=path.replace(/\\/+/g,SEP);\r\n\t    var res=path.split(SEP);\r\n        if (res[res.length-1]==\"\") {\r\n            res[res.length-2]+=SEP;\r\n            res.pop();\r\n        }\r\n        return res;\r\n    },\r\n    name: function(path) {\r\n\t\tassert.is(arguments,[String]);\r\n        return PathUtil.splitPath(path).pop();\r\n    },\r\n    ext: function(path) {\r\n\t\tassert.is(arguments,[String]);\r\n        var n = PathUtil.name(path);\r\n        var r = (/\\.[a-zA-Z0-9]+$/).exec(n);\r\n        if (r) return r[0];\r\n        return null;\r\n    },\r\n    truncExt: function(path, ext) {\r\n\t\tassert.is(path,String);\r\n        var name = PathUtil.name(path);\r\n        ext=ext || PathUtil.ext(path);\r\n        assert.is(ext,String);\r\n        return name.substring(0, name.length - ext.length);\r\n    },\r\n    truncSEP: function (path) {\r\n\t\tassert.is(arguments,[Path]);\r\n\t\tif (!PathUtil.isDir(path)) return path;\r\n\t\treturn path.substring(0,path.length-1);\r\n    },\r\n    endsWith: function(path, postfix) {\r\n\t\tassert.is(arguments,[String,String]);\r\n        return endsWith(PathUtil.name(path), postfix);\r\n    },\r\n    parent: function(path) {\r\n\t\tassert.is(arguments,[String]);\r\n        return PathUtil.up(path);\r\n    },\r\n    rel: function(path,relPath) {\r\n        if (relPath==\"\") return path;\r\n\t\tassert.is(arguments,[AbsDir, Relative]);\r\n    \tvar paths=PathUtil.splitPath(relPath);\r\n        var resPath=path;\r\n        resPath=resPath.replace(/\\/$/,\"\");\r\n        var t=PathUtil;\r\n        paths.forEach(function (n) {\r\n             if (n==\"..\" || n==\"../\") resPath=t.up(resPath);\r\n             else {\r\n                 resPath=resPath.replace(/\\/$/,\"\");\r\n                 resPath+=SEP+(n==\".\"||n==\"./\" ? \"\": n);\r\n             }\r\n        });\r\n        return resPath;\r\n    },\r\n    relPath: function(path,base) {\r\n\t\tassert.is(arguments,[Absolute,Absolute]);\r\n        if (path.substring(0,base.length)!=base) {\r\n            return \"../\"+PathUtil.relPath(path, this.up(base));\r\n        }\r\n        return path.substring(base.length);\r\n    },\r\n    up: function(path) {\r\n        //path=PathUtil.fixSep(path);\r\n        if (path==SEP) return null;\r\n        var ps=PathUtil.splitPath(path);\r\n        ps.pop();\r\n        return ps.join(SEP)+SEP;\r\n    }\r\n};\r\n[\"directorify\", \"filify\", \"splitPath\", \"name\", \"rel\", \"relPath\", \"up\"].forEach(function (k) {\r\n    var old=PathUtil[k];\r\n    PathUtil[k]=function () {\r\n        var backslashifyAfter=false;\r\n        var a=Array.prototype.slice.call(arguments).map(function (e) {\r\n            if (PathUtil.hasBackslashSep(e)) {\r\n                backslashifyAfter=true;\r\n                return PathUtil.fixSep(e);\r\n            } else {\r\n                return e;\r\n            }\r\n        });\r\n        var res=old.apply(PathUtil,a);\r\n        if (backslashifyAfter) {\r\n            return PathUtil.fixSep(res,\"\\\\\");\r\n        } else {\r\n            return res;\r\n        }\r\n    };\r\n});\r\n\r\nPathUtil.isAbsolute=PathUtil.isAbsolutePath;\r\nPathUtil.isRelative=PathUtil.isRelativePath;\r\nif (typeof window==\"object\") window.PathUtil=PathUtil;\r\nreturn PathUtil;\r\n});\r\n\r\ndefine('MIMETypes',[], function () {\r\n   return {\r\n      \".png\":\"image/png\",\r\n      \".gif\":\"image/gif\",\r\n      \".jpeg\":\"image/jpeg\",\r\n      \".jpg\":\"image/jpeg\",\r\n      \".ico\":\"image/icon\",\r\n      \".wav\":\"audio/x-wav\",\r\n      \".mp3\":\"audio/mp3\",\r\n      \".ogg\":\"audio/ogg\",\r\n      \".midi\":\"audio/midi\",\r\n      \".mid\":\"audio/midi\",\r\n      \".mzo\":\"audio/mzo\",\r\n      \".txt\":\"text/plain\",\r\n      \".html\":\"text/html\",\r\n      \".htm\":\"text/html\",\r\n      \".css\":\"text/css\",\r\n      \".js\":\"text/javascript\",\r\n      \".json\":\"text/json\",\r\n      \".zip\":\"application/zip\",\r\n      \".swf\":\"application/x-shockwave-flash\",\r\n      \".pdf\":\"application/pdf\",\r\n      \".doc\":\"application/word\",\r\n      \".xls\":\"application/excel\",\r\n      \".ppt\":\"application/powerpoint\",\r\n      '.docx':'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n      '.docm':'application/vnd.ms-word.document.macroEnabled.12',\r\n      '.dotx':'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n      '.dotm':'application/vnd.ms-word.template.macroEnabled.12',\r\n      '.xlsx':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      '.xlsm':'application/vnd.ms-excel.sheet.macroEnabled.12',\r\n      '.xltx':'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n      '.xltm':'application/vnd.ms-excel.template.macroEnabled.12',\r\n      '.xlsb':'application/vnd.ms-excel.sheet.binary.macroEnabled.12',\r\n      '.xlam':'application/vnd.ms-excel.addin.macroEnabled.12',\r\n      '.pptx':'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n      '.pptm':'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n      '.potx':'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n      '.potm':'application/vnd.ms-powerpoint.template.macroEnabled.12',\r\n      '.ppsx':'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n      '.ppsm':'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\r\n      '.ppam':'application/vnd.ms-powerpoint.addin.macroEnabled.12',\r\n      \".tonyu\":\"text/tonyu\",\r\n      \".c\":\"text/c\",\r\n      \".dtl\":\"text/dolittle\"\r\n   };\r\n});\r\n\r\ndefine('DeferredUtil',[], function () {\r\n    var root=(\r\n        typeof window!==\"undefined\" ? window :\r\n        typeof self!==\"undefined\" ? self :\r\n        typeof global!==\"undefined\" ? global : null\r\n    );\r\n    //  promise.then(S,F)  and promise.then(S).fail(F) is not same!\r\n    //  ->  when fail on S,  F is executed?\r\n    //   same is promise.then(S).then(same,F)\r\n    var DU;\r\n    var DUBRK=function(r){this.res=r;};\r\n    function same(e){return e;}\r\n    DU={\r\n        isNativePromise: function (p) {\r\n            return p && (typeof p.then===\"function\") &&\r\n            (typeof p.promise!==\"function\") && (typeof p.catch===\"function\") ;\r\n        },\r\n        isJQPromise: function (p) {\r\n            return p && (typeof p.then===\"function\") &&\r\n            (typeof p.promise===\"function\") &&(typeof p.fail===\"function\") ;\r\n        },\r\n        isPromise: function (p) {\r\n            return p && (typeof p.then===\"function\") &&\r\n            ((typeof p.promise===\"function\") || (typeof p.catch===\"function\")) ;\r\n        },\r\n        all: function (a) {\r\n            //var a=Array.prototype.slice.call(arguments);\r\n            return DU.promise(function (succ,fail) {\r\n                var res=[],rest=a.length;\r\n                a.forEach(function (p, i) {\r\n                    DU.resolve(p).then(function (r) {\r\n                        res[i]=r;\r\n                        rest--;\r\n                        if (rest===0) {\r\n                            succ(res);\r\n                        }\r\n                    },fail);\r\n                });\r\n            });\r\n        },\r\n        resolve: function (p) {\r\n            if (DU.config.useJQ && DU.isJQPromise(p)) return p;\r\n            if (!DU.config.useJQ && DU.isNativePromise(p)) return p;\r\n            return DU.promise(function (succ,fail) {\r\n                if (DU.isPromise(p)) {\r\n                    p.then(succ,fail);\r\n                } else {\r\n                    succ(p);\r\n                }\r\n            });\r\n            /*if (DU.isPromise(p)) { // NO! it returns Promise when using JQPromise and vise versa.\r\n                return f;\r\n            }\r\n            if (DU.confing.useJQ) {\r\n                return $.when(p);\r\n            }*/\r\n        },\r\n        throwNowIfRejected: function (p) {\r\n            // If Promise p has already rejected, throws the rejeceted reason immediately.\r\n            var state;\r\n            var err;\r\n            var res=p.then(function (r) {\r\n                if (!state) {\r\n                    state=\"resolved\";\r\n                }\r\n                return r;\r\n            },function (e) {\r\n                if (!state) {\r\n                    state=\"rejected\";\r\n                    err=e;\r\n                } else {\r\n                    return DU.reject(e);\r\n                }\r\n            });\r\n            if (!state) state=\"notyet\";\r\n            if (state===\"rejected\") throw err;\r\n            return res;\r\n        },\r\n        assertResolved: function (p) {\r\n            var res,resolved;\r\n            p.then(function (r) {\r\n                res=r;\r\n                resolved=true;\r\n            });\r\n            if (!resolved) {\r\n                throw new Error(\"Promise not resolved\");\r\n            }\r\n            return res;\r\n        },\r\n        /*toJQPromise: function (p) {// From native Promise\r\n            if (!p) return $.when(p);\r\n            if ($.isFunction(p.promise)) return p;\r\n            if (!$.isFunction(p.then) || !$.isFunction(p.catch)) return $.when(p);\r\n            var d=new $.Deferred();\r\n            p.then(function (r) {\r\n                d.resolve(r);\r\n            }).catch(function (r) {\r\n                d.reject(r);\r\n            });\r\n            return d.promise();\r\n        },*/\r\n        ensureDefer: function (v) {\r\n            return DU.promise(function (resolve,reject) {\r\n                var isDeferred;\r\n                DU.resolve(v).then(function (r) {\r\n                    if (!isDeferred) {\r\n                        setTimeout(function () {\r\n                            resolve(r);\r\n                        },0);\r\n                    } else {\r\n                        resolve(r);\r\n                    }\r\n                }).then(same,function (r) {\r\n                    if (!isDeferred) {\r\n                        setTimeout(function () {\r\n                            reject(r);\r\n                        },0);\r\n                    } else {\r\n                        reject(r);\r\n                    }\r\n                });\r\n                isDeferred=true;\r\n            });\r\n        },\r\n        directPromise:function (v) {\r\n            return DU.timeout(v,0);\r\n        },\r\n        then: function (f) {\r\n            return DU.directPromise().then(f);\r\n        },\r\n        timeout:function (timeout,value) {\r\n            return DU.promise(function (resolve) {\r\n                setTimeout(function () {resolve(value);},timeout||0);\r\n            });\r\n        },\r\n        funcPromise:function (f) {\r\n            if (DU.config.useJQ) {\r\n                var d=new $.Deferred();\r\n                try {\r\n                    f(function (v) {\r\n                        d.resolve(v);\r\n                    },function (e) {\r\n                        d.reject(e);\r\n                    });\r\n                }catch(e) {\r\n                    d.reject(e);\r\n                }\r\n                return d.promise();\r\n            } else if (DU.external.Promise) {\r\n                return new DU.external.Promise(function (resolve,reject) {\r\n                    try {\r\n                        f(resolve,reject);\r\n                    }catch(e) {\r\n                        reject(e);\r\n                    }\r\n                });\r\n            } else {\r\n                throw new Error(\"promise is not found\");\r\n            }\r\n        },\r\n        reject: function (e) {\r\n            if (DU.config.useJQ) {\r\n                var d=new $.Deferred();\r\n                d.reject(e);\r\n                return d.promise();\r\n            } else {\r\n                return new DU.external.Promise(function (s,rej) {\r\n                    rej(e);\r\n                });\r\n            }\r\n        },\r\n        throwPromise:function (e) {\r\n            if (DU.config.useJQ) {\r\n                var d=new $.Deferred();\r\n                setTimeout(function () {\r\n                    d.reject(e);\r\n                }, 0);\r\n                return d.promise();\r\n            } else {\r\n                return new DU.external.Promise(function (s,rej) {\r\n                    rej(e);\r\n                });\r\n            }\r\n        },\r\n        throwF: function (f) {\r\n            return function () {\r\n                try {\r\n                    return f.apply(this,arguments);\r\n                } catch(e) {\r\n                    console.log(e,e.stack);\r\n                    return DU.throwPromise(e);\r\n                }\r\n            };\r\n        },\r\n        each: function (set,f) {\r\n            if (set instanceof Array) {\r\n                return DU.loop(function (i) {\r\n                    if (i>=set.length) return DU.brk();\r\n                    return DU.resolve(f(set[i],i)).then(function () {\r\n                        return i+1;\r\n                    });\r\n                },0);\r\n            } else {\r\n                var objs=[];\r\n                for (var i in set) {\r\n                    objs.push({k:i,v:set[i]});\r\n                }\r\n                return DU.each(objs,function (e) {\r\n                    return f(e.k, e.v);\r\n                });\r\n            }\r\n        },\r\n        loop: function (f,r) {\r\n            try {\r\n                var err;\r\n                while(true) {\r\n                    if (r instanceof DUBRK) return DU.when1(r.res);\r\n                    var deff1=true, deff2=false;\r\n                    //  not deffered    deferred\r\n                    var r1=f(r);\r\n                    var dr=DU.resolve(r1).then(function (r2) {\r\n                        r=r2;\r\n                        deff1=false;\r\n                        if (r instanceof DUBRK) return r.res;\r\n                        if (deff2) return DU.loop(f,r); //\r\n                    }).then(same,function (e) {\r\n                        deff1=false;\r\n                        err=e;\r\n                    });\r\n                    if (err) throw err;\r\n                    deff2=true;\r\n                    if (deff1) return dr;//\r\n                    //\r\n                }\r\n            }catch (e) {\r\n                return DU.reject(e);\r\n            }\r\n        },\r\n        brk: function (res) {\r\n            return new DUBRK(res);\r\n        },\r\n        tryLoop: function (f,r) {\r\n            return DU.loop(DU.tr(f),r);\r\n        },\r\n        tryEach: function (s,f) {\r\n            return DU.loop(s,DU.tr(f));\r\n        },\r\n        documentReady:function () {\r\n            return DU.callbackToPromise(function (s) {$(s);});\r\n        },\r\n        requirejs:function (modules) {\r\n            if (!root.requirejs) throw new Error(\"requirejs is not loaded\");\r\n            return DU.callbackToPromise(function (s) {\r\n                root.requirejs(modules,s);\r\n            });\r\n        }\r\n    };\r\n    DU.NOP=function (r) {return r;};\r\n    DU.E=function () {\r\n        console.log(\"DUE\",arguments);\r\n        DU.errorHandler.apply(DU,arguments);\r\n    };\r\n    DU.errorHandler=function (e) {\r\n        console.error.apply(console,arguments);\r\n        alert(e);\r\n    };\r\n    DU.setE=function (f) {\r\n        DU.errorHandler=f;\r\n    };\r\n    DU.begin=DU.try=DU.tr=DU.throwF;\r\n    DU.promise=DU.callbackToPromise=DU.funcPromise;\r\n    DU.when1=DU.resolve;\r\n    DU.config={};\r\n    if (root.$ && root.$.Deferred) {\r\n        DU.config.useJQ=true;\r\n    }\r\n    DU.external={Promise:root.Promise};\r\n    if (!root.DeferredUtil) root.DeferredUtil=DU;\r\n    return DU;\r\n});\r\n\r\ndefine('FSClass',[\"extend\",\"PathUtil\",\"MIMETypes\",\"assert\",\"DeferredUtil\"],\r\nfunction (extend, P, M,assert,DU){\r\n    var FS=function () {\r\n    };\r\n    var fstypes={};\r\n    FS.addFSType=function (name,fsgen) {\r\n        fstypes[name]=fsgen;\r\n    };\r\n    FS.availFSTypes=function () {\r\n        return fstypes;\r\n    };\r\n    function stub(n) {\r\n        throw new Error (n+\" is STUB!\");\r\n    }\r\n    extend(FS.prototype, {\r\n        err: function (path, mesg) {\r\n            throw new Error(path+\": \"+mesg);\r\n        },\r\n        fstype:function () {\r\n            return \"Unknown\";\r\n        },\r\n        isReadOnly: function (path, options) {// mainly for check ENTIRELY read only\r\n            stub(\"isReadOnly\");\r\n        },\r\n        supportsSync: function () {\r\n            return true;\r\n        },\r\n        resolveFS:function (path, options) {\r\n            assert(this.getRootFS()!==this);\r\n            return this.getRootFS().resolveFS(path);\r\n        },\r\n        mounted: function (rootFS, mountPoint ) {\r\n            //assert.is(arguments,[FS,P.AbsDir]);\r\n            this.rootFS=rootFS;\r\n            this.mountPoint=mountPoint;\r\n        },\r\n        inMyFS:function (path) {\r\n            return !this.mountPoint || P.startsWith(path, this.mountPoint);\r\n        },\r\n        /*dirFromFstab: function (path, options) {\r\n            assert.is(path, P.AbsDir);\r\n            var res=(options||{}).res || [];\r\n            this.fstab().forEach(function (tb) {\r\n                if (P.up( tb.path )==path) res.push(P.name(tb.path));\r\n            });\r\n            return res;\r\n        },*/\r\n        getRootFS: function () {\r\n            return assert( this.rootFS, \"rootFS is not set\" );\r\n        },\r\n        //-------- end of mouting\r\n        //-------- spec\r\n        getReturnTypes: function (path, options) {\r\n            //{getContent:String|DataURL|ArrayBuffer|OutputStream|Writer\r\n            //   ,opendir:Array|...}\r\n            stub(\"\");\r\n        },\r\n        //-------  for file\r\n        getContent: function (path, options) {\r\n            // options:{type:String|DataURL|ArrayBuffer|OutputStream|Writer}\r\n            // succ : [type],\r\n            stub(\"getContent\");\r\n        },\r\n        size: function (path) {\r\n            var c=this.getContent(path,{type:ArrayBuffer});\r\n            var l=c.toBin().byteLength;\r\n            return l;\r\n        },\r\n        getContentAsync: function (path, options) {\r\n            if (!this.supportsSync()) stub(\"getContentAsync\");\r\n            return DU.resolve(this.getContent.apply(this,arguments));\r\n        },\r\n        setContent: function (path, content, options) {\r\n            // content: String|ArrayBuffer|InputStream|Reader\r\n            stub(\"\");\r\n        },\r\n        setContentAsync: function (path, content, options) {\r\n            var t=this;\r\n            if (!t.supportsSync()) stub(\"setContentAsync\");\r\n            return DU.resolve(content).then(function (content) {\r\n                return DU.resolve(t.setContent(path,content,options));\r\n            });\r\n        },\r\n        appendContent: function (path, content, options) {\r\n            //var nc=this.getContent(path,options).toPlainText()+content.toPlainText();\r\n            //return this.setContent(path, Content.fromPlainText(nc) , options);\r\n            stub(\"\");\r\n        },\r\n        appendContentAsync: function (path, content, options) {\r\n            var t=this;\r\n            if (!t.supportsSync()) stub(\"appendContentAsync\");\r\n            return DU.resolve(content).then(function (content) {\r\n                return DU.resolve(t.appendContent(path,content,options));\r\n            });\r\n        },\r\n        getMetaInfo: function (path, options) {\r\n            stub(\"\");\r\n        },\r\n        setMetaInfo: function (path, info, options) {\r\n            stub(\"\");\r\n        },\r\n        mkdir: function (path, options) {\r\n            stub(\"mkdir\");\r\n        },\r\n        touch: function (path) {\r\n            stub(\"touch\");\r\n        },\r\n        exists: function (path, options) {\r\n            // exists return false if path is existent by follwing symlink\r\n            stub(\"exists\");\r\n        },\r\n        opendir: function (path, options) {\r\n            //ret: [String] || Stream<string> // https://nodejs.org/api/stream.html#stream_class_stream_readable\r\n            stub(\"opendir\");\r\n        },\r\n        opendirAsync: function (path, options) {\r\n            if (!this.supportsSync()) stub(\"opendirAsync\");\r\n            return DU.resolve(this.opendir.apply(this,arguments));\r\n        },\r\n        cp: function(path, dst, options) {\r\n            assert.is(arguments,[P.Absolute,P.Absolute]);\r\n            this.assertExist(path);\r\n            options=options||{};\r\n            var srcIsDir=this.isDir(path);\r\n            var dstfs=this.getRootFS().resolveFS(dst);\r\n            var dstIsDir=dstfs.isDir(dst);\r\n            if (!srcIsDir && !dstIsDir) {\r\n                if (this.supportsSync() && dstfs.supportsSync()) {\r\n                    var cont=this.getContent(path);\r\n                    var res=dstfs.setContent(dst,cont);\r\n                    if (options.a) {\r\n                        dstfs.setMetaInfo(dst, this.getMetaInfo(path));\r\n                    }\r\n                    return res;\r\n                } else {\r\n                    return dstfs.setContentAsync(\r\n                            dst,\r\n                            this.getContentAsync(path)\r\n                    ).then(function (res) {\r\n                        if (options.a) {\r\n                            return dstfs.setMetaInfo(dst, this.getMetaInfo(path));\r\n                        }\r\n                        return res;\r\n                    });\r\n                }\r\n            } else {\r\n                throw new Error(\"only file to file supports\");\r\n            }\r\n        },\r\n        mv: function (path,to,options) {\r\n            this.cp(path,to,options);\r\n            return this.rm(path,{r:true});\r\n        },\r\n        rm:function (path, options) {\r\n            stub(\"\");\r\n        },\r\n        link: function (path, to, options) {\r\n            throw new Error(\"ln \"+to+\" \"+path+\" : This FS not support link.\");\r\n        },\r\n        getURL: function (path) {\r\n            stub(\"\");\r\n        },\r\n        onAddObserver: function (path) {\r\n        }\r\n    });\r\n    //res=[]; for (var k in a) { res.push(k); } res;\r\n    FS.delegateMethods=function (prototype,  methods) {\r\n        for (var n in methods) {\r\n            (function (n){\r\n                assert.ne(n,\"inMyFS\");\r\n                prototype[n]=function () {\r\n                    var path=arguments[0];\r\n                    assert.is(path,P.Absolute);\r\n                    var fs=this.resolveFS(path);\r\n                    //console.log(n, f.fs===this  ,f.fs, this);\r\n                    if (fs!==this) {\r\n                        console.log(\"Invoked for other fs\",this.mountPoint, fs.mountPoint)\r\n                        //arguments[0]=f.path;\r\n                        return fs[n].apply(fs, arguments);\r\n                    } else {\r\n                        return methods[n].apply(this, arguments);\r\n                    }\r\n                };\r\n            })(n);\r\n        }\r\n    };\r\n    FS.delegateMethods(FS.prototype, {\r\n        assertWriteable: function (path) {\r\n            if (this.isReadOnly(path)) this.err(path, \"read only.\");\r\n        },\r\n        getContentType: function (path, options) {\r\n            var e=(P.ext(path)+\"\").toLowerCase();\r\n            return M[e] || (options||{}).def || \"application/octet-stream\";\r\n        },\r\n        getBlob: function (path, options) {\r\n            var c=this.getContent(path);\r\n            options=options||{};\r\n            options.blobType=options.blobType||Blob;\r\n            options.binType=options.binType||ArrayBuffer;\r\n            if (c.hasPlainText()) {\r\n                return new options.blobType([c.toPlainText()],this.getContentType(path));\r\n            } else {\r\n                return new options.blobType([c.toBin(options.binType)],this.getContentType(path));\r\n            }\r\n        },\r\n        isText:function (path) {\r\n            var m=this.getContentType(path);\r\n            return P.startsWith( m, \"text\");\r\n        },\r\n        assertExist: function (path, options) {\r\n            if (!this.exists(path, options)) {\r\n                this.err(path, \": No such \"+(P.isDir(path)?\"directory\":\"file\"));\r\n            }\r\n        },\r\n        isDir: function (path,options) {\r\n            return P.isDir(path);\r\n        },\r\n        find: function (path, options) {\r\n            assert.is(arguments,[P.Absolute]);\r\n            var ls=this.opendir(path, options);\r\n            var t=this;\r\n            var res=[path];\r\n            ls.forEach(function (e) {\r\n                var ep=P.rel(path, e);\r\n                if (P.isDir(ep)) {\r\n                    var fs=t.resolveFS(ep);\r\n                    res=res.concat(\r\n                            fs.find( ep ,options)\r\n                    );\r\n                } else {\r\n                    res.push( ep );//getPathFromRootFS\r\n                }\r\n            });\r\n            return res;\r\n        },\r\n        resolveLink: function (path) {\r\n            assert.is(path,P.Absolute);\r\n            // returns non-link path\r\n            // ln -s /a/b/ /c/d/\r\n            // resolveLink /a/b/    ->  /a/b/\r\n            // resolveLink /c/d/e/f -> /a/b/e/f\r\n            // resolveLink /c/d/non_existent -> /a/b/non_existent\r\n            // isLink      /c/d/    -> /a/b/\r\n            // isLink      /c/d/e/f -> null\r\n            // ln /testdir/ /ram/files/\r\n            // resolveLink /ram/files/sub/test2.txt -> /testdir/sub/test2.txt\r\n            // path=/ram/files/test.txt\r\n            for (var p=path ; p ; p=P.up(p)) {\r\n                assert(!this.mountPoint || P.startsWith(p, this.mountPoint), p+\" is out of mountPoint. path=\"+path);\r\n                var l=this.isLink(p);  // p=/ram/files/ l=/testdir/\r\n                if (l) {\r\n                    assert(l!=p,\"l==p==\"+l);\r\n                    //        /testdir/    test.txt\r\n                    var np=P.rel(l,P.relPath(path, p));  //   /testdir/test.txt\r\n                    assert(np!=path,\"np==path==\"+np);\r\n                    return assert.is(this.getRootFS().resolveFS(np).resolveLink(np),P.Absolute)  ;\r\n                }\r\n                if (this.exists(p)) return path;\r\n            }\r\n            return path;\r\n        },\r\n        isLink: function (path) {\r\n            return null;\r\n        },\r\n        opendirEx: function (path, options) {\r\n            assert.is(path, P.AbsDir);\r\n            var ls=this.opendir(path);\r\n            var t=this;\r\n            var dest={};\r\n            ls.forEach(function (f) {\r\n                var p=P.rel(path,f);\r\n                dest[f]=t.getMetaInfo(p);\r\n            });\r\n            return dest;\r\n        },\r\n        getDirTree: function (path, options) {\r\n            options=options||{};\r\n            var dest=options.dest=options.dest||{};\r\n            options.style=options.style||\"flat-absolute\";\r\n            options.excludes=options.excludes||[];\r\n            assert.is(options.excludes,Array);\r\n            if (!options.base) {\r\n                options.base=path;\r\n            }\r\n            assert.is(path, P.AbsDir);\r\n            var tr=this.opendirEx(path,options);\r\n            if (options.style==\"no-recursive\") return tr;\r\n            var t=this;\r\n            for (var f in tr) {\r\n                var meta=tr[f];\r\n                var p=P.rel(path,f);\r\n                var relP=P.relPath(p,options.base);\r\n                switch(options.style) {\r\n                    case \"flat-relative\":\r\n                    case \"hierarchical\":\r\n                        if (options.excludes.indexOf(relP)>=0) {\r\n                            continue;\r\n                        }\r\n                        break;\r\n                    case \"flat-absolute\":\r\n                        if (options.excludes.indexOf(p)>=0) {\r\n                            continue;\r\n                        }\r\n                        break;\r\n                }\r\n                if (t.isDir(p)) {\r\n                    switch(options.style) {\r\n                    case \"flat-absolute\":\r\n                    case \"flat-relative\":\r\n                        t.getDirTree(p,options);\r\n                        break;\r\n                    case \"hierarchical\":\r\n                        options.dest={};\r\n                        dest[f]=t.getDirTree(p,options);\r\n                        break;\r\n                    }\r\n                } else {\r\n                    switch(options.style) {\r\n                    case \"flat-absolute\":\r\n                        dest[p]=meta;\r\n                        break;\r\n                    case \"flat-relative\":\r\n                        dest[relP]=meta;\r\n                        break;\r\n                    case \"hierarchical\":\r\n                        dest[f]=meta;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return dest;\r\n        }\r\n        /*get: function (path) {\r\n            assert.eq(this.resolveFS(path), this);\r\n            return new SFile(this, path);\r\n            //var r=this.resolveFS(path);\r\n            //return new SFile(r.fs, r.path);\r\n        }*/\r\n\r\n    });\r\n    return FS;\r\n});\r\n\r\ndefine('Util',[],function () {\r\nfunction getQueryString(key, default_)\r\n{\r\n   if (default_==null) default_=\"\";\r\n   key = key.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n   var regex = new RegExp(\"[\\\\?&]\"+key+\"=([^&#]*)\");\r\n   var qs = regex.exec(window.location.href);\r\n   if(qs == null)\r\n    return default_;\r\n   else\r\n    return decodeURLComponentEx(qs[1]);\r\n}\r\nfunction decodeURLComponentEx(s){\r\n    return decodeURIComponent(s.replace(/\\+/g, '%20'));\r\n}\r\nfunction endsWith(str,postfix) {\r\n    return str.substring(str.length-postfix.length)===postfix;\r\n}\r\nfunction startsWith(str,prefix) {\r\n    return str.substring(0, prefix.length)===prefix;\r\n}\r\nfunction privatize(o){\r\n    if (o.__privatized) return o;\r\n    var res={__privatized:true};\r\n    for (var n in o) {\r\n        (function (n) {\r\n            var m=o[n];\r\n            if (n.match(/^_/)) return;\r\n            if (typeof m!=\"function\") return;\r\n            res[n]=function () {\r\n                var r=m.apply(o,arguments);\r\n                return r;\r\n            };\r\n        })(n);\r\n    }\r\n    return res;\r\n}\r\nfunction extend(d,s) {\r\n    for (var i in (s||{})) {d[i]=s[i];} \r\n    return d;\r\n}\r\nreturn {\r\n    getQueryString:getQueryString,\r\n    endsWith: endsWith, startsWith: startsWith,\r\n    privatize: privatize,extend:extend\r\n};\r\n});\r\n\r\n/*\r\n* FileSaver.js\r\n* A saveAs() FileSaver implementation.\r\n*\r\n* By Eli Grey, http://eligrey.com\r\n*\r\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\r\n* source  : http://purl.eligrey.com/github/FileSaver.js\r\n*/\r\ndefine('FileSaver',[],function (){\r\n\r\n// The one and only way of getting global scope in all environments\r\n// https://stackoverflow.com/q/3277182/1008999\r\nvar _global = typeof window === 'object' && window.window === window\r\n  ? window : typeof self === 'object' && self.self === self\r\n  ? self : typeof global === 'object' && global.global === global\r\n  ? global\r\n  : this\r\n\r\nfunction bom (blob, opts) {\r\n  if (typeof opts === 'undefined') opts = { autoBom: false }\r\n  else if (typeof opts !== 'object') {\r\n    console.warn('Depricated: Expected third argument to be a object')\r\n    opts = { autoBom: !opts }\r\n  }\r\n\r\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\r\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\r\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\r\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\r\n  }\r\n  return blob\r\n}\r\n\r\nfunction download (url, name, opts) {\r\n  var xhr = new XMLHttpRequest()\r\n  xhr.open('GET', url)\r\n  xhr.responseType = 'blob'\r\n  xhr.onload = function () {\r\n    saveAs(xhr.response, name, opts)\r\n  }\r\n  xhr.onerror = function () {\r\n    console.error('could not download file')\r\n  }\r\n  xhr.send()\r\n}\r\n\r\nfunction corsEnabled (url) {\r\n  var xhr = new XMLHttpRequest()\r\n  // use sync to avoid popup blocker\r\n  xhr.open('HEAD', url, false)\r\n  xhr.send()\r\n  return xhr.status >= 200 && xhr.status <= 299\r\n}\r\n\r\n// `a.click()` doesn't work for all browsers (#465)\r\nfunction click(node) {\r\n  try {\r\n    node.dispatchEvent(new MouseEvent('click'))\r\n  } catch (e) {\r\n    var evt = document.createEvent('MouseEvents')\r\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\r\n                          20, false, false, false, false, 0, null)\r\n    node.dispatchEvent(evt)\r\n  }\r\n}\r\n\r\nvar saveAs = _global.saveAs ||\r\n// probably in some web worker\r\n(typeof window !== 'object' || window !== _global)\r\n  ? function saveAs () { /* noop */ }\r\n\r\n// Use download attribute first if possible (#193 Lumia mobile)\r\n: 'download' in HTMLAnchorElement.prototype\r\n? function saveAs (blob, name, opts) {\r\n  var URL = _global.URL || _global.webkitURL\r\n  var a = document.createElement('a')\r\n  name = name || blob.name || 'download'\r\n\r\n  a.download = name\r\n  a.rel = 'noopener' // tabnabbing\r\n\r\n  // TODO: detect chrome extensions & packaged apps\r\n  // a.target = '_blank'\r\n\r\n  if (typeof blob === 'string') {\r\n    // Support regular links\r\n    a.href = blob\r\n    if (a.origin !== location.origin) {\r\n      corsEnabled(a.href)\r\n        ? download(blob, name, opts)\r\n        : click(a, a.target = '_blank')\r\n    } else {\r\n      click(a)\r\n    }\r\n  } else {\r\n    // Support blobs\r\n    a.href = URL.createObjectURL(blob)\r\n    setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\r\n    setTimeout(function () { click(a) }, 0)\r\n  }\r\n}\r\n\r\n// Use msSaveOrOpenBlob as a second approach\r\n: 'msSaveOrOpenBlob' in navigator\r\n? function saveAs (blob, name, opts) {\r\n  name = name || blob.name || 'download'\r\n\r\n  if (typeof blob === 'string') {\r\n    if (corsEnabled(blob)) {\r\n      download(blob, name, opts)\r\n    } else {\r\n      var a = document.createElement('a')\r\n      a.href = blob\r\n      a.target = '_blank'\r\n      setTimeout(function () { click(a) })\r\n    }\r\n  } else {\r\n    navigator.msSaveOrOpenBlob(bom(blob, opts), name)\r\n  }\r\n}\r\n\r\n// Fallback to using FileReader and a popup\r\n: function saveAs (blob, name, opts, popup) {\r\n  // Open a popup immediately do go around popup blocker\r\n  // Mostly only avalible on user interaction and the fileReader is async so...\r\n  popup = popup || open('', '_blank')\r\n  if (popup) {\r\n    popup.document.title =\r\n    popup.document.body.innerText = 'downloading...'\r\n  }\r\n\r\n  if (typeof blob === 'string') return download(blob, name, opts)\r\n\r\n  var force = blob.type === 'application/octet-stream'\r\n  var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\r\n  var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\r\n\r\n  if ((isChromeIOS || (force && isSafari)) && typeof FileReader === 'object') {\r\n    // Safari doesn't allow downloading of blob urls\r\n    var reader = new FileReader()\r\n    reader.onloadend = function () {\r\n      var url = reader.result\r\n      url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\r\n      if (popup) popup.location.href = url\r\n      else location = url\r\n      popup = null // reverse-tabnabbing #460\r\n    }\r\n    reader.readAsDataURL(blob)\r\n  } else {\r\n    var URL = _global.URL || _global.webkitURL\r\n    var url = URL.createObjectURL(blob)\r\n    if (popup) popup.location = url\r\n    else location.href = url\r\n    popup = null // reverse-tabnabbing #460\r\n    setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\r\n  }\r\n}\r\n\r\n_global.saveAs = saveAs.saveAs = saveAs\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = saveAs;\r\n}\r\nreturn saveAs;\r\n});\r\n\r\ndefine('Content',[\"assert\",\"Util\",\"FileSaver\"],function (assert,Util,saveAs) {\r\n    var Content=function () {};\r\n    var extend=Util.extend;\r\n    // ------ constructor\r\n    Content.plainText=function (s,contentType){\r\n        var b=new Content;\r\n        b.contentType=contentType||\"text/plain\";\r\n        b.plain=s;\r\n        return b;\r\n    };\r\n    Content.url=function (s) {\r\n        var b=new Content;\r\n        b.url=s;\r\n        return b;\r\n    };\r\n    Content.buffer2ArrayBuffer = function (a) {\r\n        if (Content.isBuffer(a)) {\r\n            var u=new Uint8Array(a);\r\n            var r=u.buffer;\r\n            if (r instanceof ArrayBuffer) return r;\r\n            var ary=Array.prototype.slice.call(u);\r\n            return assert(new Uint8Array(ary).buffer,\"n2a: buf is not set\");\r\n        }\r\n        return assert(a,\"n2a: a is not set\");\r\n    };\r\n    Content.arrayBuffer2Buffer= function (a) {\r\n        if (a instanceof ArrayBuffer) {\r\n            var b=new Buffer(new Uint8Array(a));\r\n            return b;\r\n        }\r\n        return assert(a,\"a2n: a is not set\");\r\n    };\r\n\r\n    Content.bin=function (bin, contentType) {\r\n        assert(contentType, \"contentType should be set\");\r\n        var b=new Content;\r\n        if (Content.isNodeBuffer(bin)) {\r\n            b.bufType=\"node\";\r\n            b.nodeBuffer=bin;\r\n        } else if (bin instanceof ArrayBuffer) {\r\n            b.bufType=\"array2\";\r\n            b.arrayBuffer=bin;\r\n        } else if (bin && Content.isBuffer(bin.buffer)) {\r\n            // in node.js v8.9.1 ,\r\n            ///  bin is Buffer, bin.buffer is ArrayBuffer\r\n            //   and bin.buffer is content of different file(memory leak?) \r\n            b.bufType=\"array1\";\r\n            b.arrayBuffer=bin.buffer;\r\n        } else {\r\n            throw new Error(bin+\" is not a bin\");\r\n        }\r\n        b.contentType=contentType;\r\n        return b;\r\n    };\r\n    Content.looksLikeDataURL=function (text) {\r\n        return text.match(/^data:/);\r\n    };\r\n    Content.download=saveAs;\r\n    // why blob is not here... because blob content requires FileReader (cannot read instantly!)\r\n    //------- methods\r\n    var p=Content.prototype;\r\n    p.toBin = function (binType) {\r\n        binType=binType || (Content.hasNodeBuffer() ? Buffer: ArrayBuffer);\r\n        if (this.nodeBuffer) {\r\n            if (binType===Buffer) {\r\n                return this.nodeBuffer;\r\n            } else {\r\n                return this.arrayBuffer=( Content.buffer2ArrayBuffer(this.nodeBuffer) );\r\n            }\r\n        } else if (this.arrayBuffer) {\r\n            if (binType===ArrayBuffer) {\r\n                return this.arrayBuffer;\r\n            } else {\r\n                return this.nodeBuffer=( Content.arrayBuffer2Buffer(this.arrayBuffer) );\r\n            }\r\n        } else if (this.url) {\r\n            var d=new DataURL(this.url, binType);\r\n            return this.setBuffer(d.buffer);\r\n        } else if (this.plain!=null) {\r\n            return this.setBuffer( Content.str2utf8bytes(this.plain, binType) );\r\n        }\r\n        throw new Error(\"No data\");\r\n    };\r\n    p.setBuffer=function (b) {\r\n        assert(b,\"b is not set\");\r\n        if (Content.isNodeBuffer(b)) {\r\n            return this.nodeBuffer=b;\r\n        } else {\r\n            return this.arrayBuffer=b;\r\n        }\r\n    };\r\n    p.toArrayBuffer=function () {\r\n        return this.toBin(ArrayBuffer);\r\n    };\r\n    p.toNodeBuffer=function () {\r\n        return this.toBin(Buffer);\r\n    };\r\n    p.toURL=function () {\r\n        if (this.url) {\r\n            return this.url;\r\n        } else {\r\n            if (!this.arrayBuffer && this.plain!=null) {\r\n                this.arrayBuffer=Content.str2utf8bytes(this.plain,ArrayBuffer);\r\n            }\r\n            if (this.arrayBuffer || this.nodeBuffer) {\r\n                var d=new DataURL(this.arrayBuffer || this.nodeBuffer,this.contentType);\r\n                return this.url=d.url;\r\n            }\r\n        }\r\n        throw new Error(\"No data\");\r\n    };\r\n    p.toPlainText=function () {\r\n        if (this.hasPlainText()) {\r\n            return this.plain;\r\n        } else {\r\n            if (this.url && !this.hasBin() ) {\r\n                var d=new DataURL(this.url,ArrayBuffer);\r\n                this.arrayBuffer=d.buffer;\r\n            }\r\n            if (this.hasBin()) {\r\n                return this.plain=Content.utf8bytes2str(\r\n                        this.nodeBuffer || new Uint8Array(this.arrayBuffer)\r\n                );\r\n            }\r\n        }\r\n        throw new Error(\"No data\");\r\n    };\r\n    p.hasURL=function (){return this.url;};\r\n    p.hasPlainText=function (){return this.plain!=null;};\r\n    p.hasBin=function (){return this.nodeBuffer || this.arrayBuffer;};\r\n    p.hasNodeBuffer= function () {return this.nodeBuffer;};\r\n    p.hasArrayBuffer= function () {return this.arrayBuffer;};\r\n    p.toBlob=function () {\r\n        return new Blob([this.toBin(ArrayBuffer)],{type:this.contentType});\r\n    };\r\n    p.download=function (name) {\r\n        Content.download(this.toBlob(),name);\r\n    };\r\n    //--------Util funcs\r\n    // From http://hakuhin.jp/js/base64.html#BASE64_DECODE_ARRAY_BUFFER\r\n    Content.Base64_To_ArrayBuffer=function (base64,binType){\r\n\t    var A=binType||ArrayBuffer;\r\n        base64=base64.replace(/[\\n=]/g,\"\");\r\n        var dic = new Object();\r\n        dic[0x41]= 0; dic[0x42]= 1; dic[0x43]= 2; dic[0x44]= 3; dic[0x45]= 4; dic[0x46]= 5; dic[0x47]= 6; dic[0x48]= 7; dic[0x49]= 8; dic[0x4a]= 9; dic[0x4b]=10; dic[0x4c]=11; dic[0x4d]=12; dic[0x4e]=13; dic[0x4f]=14; dic[0x50]=15;\r\n        dic[0x51]=16; dic[0x52]=17; dic[0x53]=18; dic[0x54]=19; dic[0x55]=20; dic[0x56]=21; dic[0x57]=22; dic[0x58]=23; dic[0x59]=24; dic[0x5a]=25; dic[0x61]=26; dic[0x62]=27; dic[0x63]=28; dic[0x64]=29; dic[0x65]=30; dic[0x66]=31;\r\n        dic[0x67]=32; dic[0x68]=33; dic[0x69]=34; dic[0x6a]=35; dic[0x6b]=36; dic[0x6c]=37; dic[0x6d]=38; dic[0x6e]=39; dic[0x6f]=40; dic[0x70]=41; dic[0x71]=42; dic[0x72]=43; dic[0x73]=44; dic[0x74]=45; dic[0x75]=46; dic[0x76]=47;\r\n        dic[0x77]=48; dic[0x78]=49; dic[0x79]=50; dic[0x7a]=51; dic[0x30]=52; dic[0x31]=53; dic[0x32]=54; dic[0x33]=55; dic[0x34]=56; dic[0x35]=57; dic[0x36]=58; dic[0x37]=59; dic[0x38]=60; dic[0x39]=61; dic[0x2b]=62; dic[0x2f]=63;\r\n        var num = base64.length;\r\n        var n = 0;\r\n        var b = 0;\r\n        var e;\r\n\r\n        if(!num) return (new A(0));\r\n        //if(num < 4) return null;\r\n        //if(num % 4) return null;\r\n\r\n        // AA     12    1\r\n        // AAA    18    2\r\n        // AAAA   24    3\r\n        // AAAAA  30    3\r\n        // AAAAAA 36    4\r\n        // num*6/8\r\n        e = Math.floor(num / 4 * 3);\r\n        if(base64.charAt(num - 1) == '=') e -= 1;\r\n        if(base64.charAt(num - 2) == '=') e -= 1;\r\n\r\n        var ary_buffer = new A( e );\r\n        var ary_u8 = (Content.isNodeBuffer(ary_buffer) ? ary_buffer : new Uint8Array( ary_buffer ));//new Uint8Array( ary_buffer );\r\n        var i = 0;\r\n        var p = 0;\r\n        while(p < e){\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i));//return null;\r\n            n = (b << 2);\r\n            i ++;\r\n\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n            ary_u8[p] = n | ((b >> 4) & 0x3);\r\n            n = (b & 0x0f) << 4;\r\n            i ++;\r\n            p ++;\r\n            if(p >= e) break;\r\n\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n            ary_u8[p] = n | ((b >> 2) & 0xf);\r\n            n = (b & 0x03) << 6;\r\n            i ++;\r\n            p ++;\r\n            if(p >= e) break;\r\n\r\n            b = dic[base64.charCodeAt(i)];\r\n            if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n            ary_u8[p] = n | b;\r\n            i ++;\r\n            p ++;\r\n        }\r\n        function fail(m) {\r\n            console.log(m);\r\n            console.log(base64,i);\r\n            throw new Error(m);\r\n        }\r\n        return ary_buffer;\r\n    };\r\n\r\n    Content.Base64_From_ArrayBuffer=function (ary_buffer){\r\n        var dic = [\r\n            'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P',\r\n            'Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f',\r\n            'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v',\r\n            'w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'\r\n        ];\r\n        var base64 = \"\";\r\n        var ary_u8 = new Uint8Array( ary_buffer );\r\n        var num = ary_u8.length;\r\n        var n = 0;\r\n        var b = 0;\r\n\r\n        var i = 0;\r\n        while(i < num){\r\n            b = ary_u8[i];\r\n            base64 += dic[(b >> 2)];\r\n            n = (b & 0x03) << 4;\r\n            i ++;\r\n            if(i >= num) break;\r\n\r\n            b = ary_u8[i];\r\n            base64 += dic[n | (b >> 4)];\r\n            n = (b & 0x0f) << 2;\r\n            i ++;\r\n            if(i >= num) break;\r\n\r\n            b = ary_u8[i];\r\n            base64 += dic[n | (b >> 6)];\r\n            base64 += dic[(b & 0x3f)];\r\n            i ++;\r\n        }\r\n\r\n        var m = num % 3;\r\n        if(m){\r\n            base64 += dic[n];\r\n        }\r\n        if(m == 1){\r\n            base64 += \"==\";\r\n        }else if(m == 2){\r\n            base64 += \"=\";\r\n        }\r\n        return base64;\r\n    };\r\n\r\n    Content.hasNodeBuffer=function () {\r\n        return typeof Buffer!=\"undefined\";\r\n    };\r\n    Content.isNodeBuffer=function (data) {\r\n        return (Content.hasNodeBuffer() && data instanceof Buffer);\r\n    };\r\n    Content.isBuffer=function (data) {\r\n        return data instanceof ArrayBuffer || Content.isNodeBuffer(data);\r\n    };\r\n    Content.utf8bytes2str=function (bytes) {\r\n        var e=[];\r\n        for (var i=0 ; i<bytes.length ; i++) {\r\n             e.push(\"%\"+(\"0\"+bytes[i].toString(16)).slice(-2));\r\n        }\r\n        //try {\r\n            return decodeURIComponent(e.join(\"\"));\r\n        /*} catch (er) {\r\n            console.log(e.join(\"\"));\r\n            throw er;\r\n        }*/\r\n    };\r\n    Content.str2utf8bytes=function (str, binType) {\r\n        var e=encodeURIComponent(str);\r\n        var r=/^%(..)/;\r\n        var a=[];\r\n        var ad=0;\r\n        for (var i=0 ; i<e.length; i++) {\r\n            var m=r.exec( e.substring(i));\r\n            if (m) {\r\n                a.push(parseInt(\"0x\"+m[1]));\r\n                i+=m[0].length-1;\r\n            } else a.push(e.charCodeAt(i));\r\n        }\r\n        return (typeof Buffer!=\"undefined\" && binType===Buffer ? new Buffer(a) : new Uint8Array(a).buffer);\r\n    };\r\n    //-------- DataURL\r\n    var A=Content.hasNodeBuffer() ? Buffer :ArrayBuffer;\r\n    //var isBuffer=Util.isBuffer;\r\n    var DataURL=function (data, contentType){\r\n      // data: String/Array/ArrayBuffer\r\n      if (typeof data==\"string\") {\r\n          this.url=data;\r\n          this.binType=contentType || A;\r\n          this.dataURL2bin(data);\r\n      } else if (data && Content.isBuffer(data.buffer)) {\r\n          this.buffer=data.buffer;\r\n          assert.is(contentType,String);\r\n          this.contentType=contentType;\r\n          this.bin2dataURL(this.buffer, this.contentType);\r\n      } else if (Content.isBuffer(data)) {\r\n          this.buffer=data;\r\n          assert.is(contentType,String);\r\n          this.contentType=contentType;\r\n          this.bin2dataURL(this.buffer, this.contentType);\r\n      } else {\r\n          console.log(arguments);\r\n          assert.fail(\"Invalid args: \",arguments);\r\n      }\r\n   };\r\n   Content.DataURL=DataURL;\r\n   extend(DataURL.prototype,{\r\n      bin2dataURL: function (b, contentType) {\r\n          assert(Content.isBuffer(b));\r\n          assert.is(contentType,String);\r\n  \t     var head=this.dataHeader(contentType);\r\n\t     var base64=Content.Base64_From_ArrayBuffer(b);\r\n\t     assert.is(base64,String);\r\n\t     return this.url=head+base64;\r\n\t  },\r\n\t  dataURL2bin: function (dataURL) {\r\n          assert.is(arguments,[String]);\r\n\t      var reg=/^data:([^;]+);base64,/i;\r\n\t      var r=reg.exec(dataURL);\r\n\t      assert(r, [\"malformed dataURL:\", dataURL] );\r\n\t      this.contentType=r[1];\r\n\t      this.buffer=Content.Base64_To_ArrayBuffer(dataURL.substring(r[0].length) , this.binType);\r\n          return assert.is(this.buffer , this.binType);\r\n  \t  },\r\n  \t  dataHeader: function (ctype) {\r\n\t      assert.is(arguments,[String]);\r\n\t      return \"data:\"+ctype+\";base64,\";\r\n   \t  },\r\n   \t  toString: function () {return assert.is(this.url,String);}\r\n   });\r\n\r\n    return Content;\r\n});\r\n\r\n/*global process, global, Buffer*/\r\ndefine('NativeFS',[\"FSClass\",\"assert\",\"PathUtil\",\"extend\",\"Content\"],\r\n        function (FS,A,P,extend,Content) {\r\n    var assert=A,fs;\r\n    try {\r\n        fs=global.require(\"fs\");\r\n        fs.existsSync('test.txt');\r\n    }catch(e){\r\n        return function () {\r\n            throw new Error(\"This system not support native FS\");\r\n        };\r\n    }\r\n    var NativeFS=function (rootPoint) {\r\n        if (rootPoint) {\r\n            A.is(rootPoint, P.AbsDir);\r\n            this.rootPoint=rootPoint;\r\n        }\r\n    };\r\n    var hasDriveLetter=P.hasDriveLetter(process.cwd());\r\n    NativeFS.available=true;\r\n    var SEP=P.SEP;\r\n    //var json=JSON; // JSON changes when page changes, if this is node module, JSON is original JSON\r\n    var Pro=NativeFS.prototype=new FS();\r\n    Pro.toNativePath = function (path) {\r\n        // rootPoint: on NativePath   C:/jail/\r\n        // mountPoint: on VirtualFS   /mnt/natfs/\r\n        if (!this.rootPoint) return path;\r\n        A.is(path, P.Absolute);\r\n        A(this.inMyFS(path),path+\" is not fs of \"+this);\r\n        //console.log(\"tonat:MP\",P.rel( this.rootPoint, P.relPath(path, this.mountPoint || P.SEP)));\r\n        return P.rel( this.rootPoint, P.relPath(path, this.mountPoint || P.SEP));\r\n    };\r\n    Pro.arrayBuffer2Buffer= function (a) {\r\n        if (a instanceof ArrayBuffer) {\r\n            var b=new Buffer(new Uint8Array(a));\r\n            return b;\r\n        }\r\n        return a;\r\n    };\r\n\r\n    FS.addFSType(\"NativeFS\",function (path, options) {\r\n            return new NativeFS(options.r);\r\n    });\r\n    NativeFS.prototype.fstype=function () {\r\n        return \"Native\"+(this.rootPoint?\"(\"+this.rootPoint+\")\":\"\");\r\n    };\r\n    NativeFS.prototype.inMyFS=function (path) {\r\n        //console.log(\"inmyfs\",path);\r\n        if (this.mountPoint) {\r\n            return P.startsWith(path, this.mountPoint);\r\n        } else {\r\n//            console.log(path, hasDriveLetter , P.hasDriveLetter(path));\r\n            return !( !!hasDriveLetter ^ !!P.hasDriveLetter(path));\r\n        }\r\n    };\r\n    function E(r){return r;}\r\n    FS.delegateMethods(NativeFS.prototype, {\r\n        getReturnTypes: function(path, options) {\r\n            E(path,options);\r\n            assert.is(arguments,[String]);\r\n            return {\r\n                getContent: ArrayBuffer, opendir:[String]\r\n            };\r\n        },\r\n        getContent: function (path, options) {\r\n            options=options||{};\r\n            A.is(path,P.Absolute);\r\n            var np=this.toNativePath(path);\r\n            this.assertExist(path);\r\n            /*if (this.isText(path)) {\r\n                return Content.plainText( fs.readFileSync(np, {encoding:\"utf8\"}) );\r\n            } else {*/\r\n                return Content.bin( fs.readFileSync(np) , this.getContentType(path));\r\n            //}\r\n        },\r\n        size: function(path) {\r\n            var np=this.toNativePath(path);\r\n            var st=fs.statSync(np);\r\n            return st.size;\r\n        },\r\n        setContent: function (path,content) {\r\n            A.is(arguments,[P.Absolute,Content]);\r\n            var pa=P.up(path);\r\n            if (pa) this.getRootFS().resolveFS(pa).mkdir(pa);\r\n            var np=this.toNativePath(path);\r\n            if (content.hasBin() || !content.hasPlainText() ) {\r\n                fs.writeFileSync(np, content.toNodeBuffer() );\r\n            } else {\r\n                // !hasBin && hasText\r\n                fs.writeFileSync(np, content.toPlainText());\r\n            }\r\n        },\r\n        appendContent: function (path,content) {\r\n            A.is(arguments,[P.Absolute,Content]);\r\n            var pa=P.up(path);\r\n            if (pa) this.getRootFS().resolveFS(pa).mkdir(pa);\r\n            var np=this.toNativePath(path);\r\n            if (content.hasBin() || !content.hasPlainText() ) {\r\n                fs.appendFileSync(np, content.toNodeBuffer() );\r\n            } else {\r\n                // !hasBin && hasText\r\n                fs.appendFileSync(np, content.toPlainText());\r\n            }\r\n        },\r\n        getMetaInfo: function(path, options) {\r\n            this.assertExist(path, options);\r\n            var s=this.stat(path);\r\n            s.lastUpdate=s.mtime.getTime();\r\n            return s;\r\n        },\r\n        setMetaInfo: function(path, info, options) {\r\n            E(path, info, options);\r\n            //options.lastUpdate\r\n\r\n            //TODO:\r\n        },\r\n        isReadOnly: function (path) {\r\n            E(path);\r\n            // TODO:\r\n            return false;\r\n        },\r\n        stat: function (path) {\r\n            A.is(path,P.Absolute);\r\n            var np=this.toNativePath(path);\r\n            return fs.statSync(np);\r\n        },\r\n        mkdir: function(path, options) {\r\n            options=options||{};\r\n            assert.is(arguments,[P.Absolute]);\r\n            if (this.exists(path)){\r\n                if (this.isDir(path)) {\r\n                    return;\r\n                } else {\r\n                    throw new Error(this+\" is a file. not a dir.\");\r\n                }\r\n            }\r\n            this.assertWriteable(path);\r\n            var pa=P.up(path);\r\n            if (pa) this.getRootFS().resolveFS(pa).mkdir(pa);\r\n            var np=this.toNativePath(path);\r\n            fs.mkdirSync(np);\r\n            return this.assertExist(np);\r\n        },\r\n        opendir: function (path, options) {\r\n            assert.is(arguments,[String]);\r\n            options=options||{};\r\n            var np=this.toNativePath(path);\r\n            var ts=P.truncSEP(np);\r\n            var r=fs.readdirSync(np);\r\n            if (!options.nosep) {\r\n                r=r.map(function (e) {\r\n                    var s=fs.statSync(ts+SEP+e);\r\n                    var ss=s.isDirectory()?SEP:\"\";\r\n                    return e+ss;\r\n                });\r\n            }\r\n            var res=[]; //this.dirFromFstab(path);\r\n            return assert.is(res.concat(r),Array);\r\n        },\r\n        rm: function(path, options) {\r\n            assert.is(arguments,[P.Absolute]);\r\n            options=options||{};\r\n            this.assertExist(path);\r\n            var np=this.toNativePath(path);\r\n            if (this.isDir(path)) {\r\n                return fs.rmdirSync(np);\r\n            } else {\r\n                return fs.unlinkSync(np);\r\n            }\r\n        },\r\n        // mv: is Difficult, should check dst.fs==src.fs\r\n        //     and both have not subFileSystems\r\n        exists: function (path, options) {\r\n            options=options||{};\r\n            var np=this.toNativePath(path);\r\n            return fs.existsSync(np);\r\n        },\r\n        isDir: function (path) {\r\n            if (!this.exists(path)) {\r\n                return P.isDir(path);\r\n            }\r\n            return this.stat(path).isDirectory();\r\n        },\r\n        /*link: function(path, to, options) {\r\n        }//TODO\r\n        isLink:\r\n        */\r\n        touch: function (path) {\r\n            if (!this.exists(path) && this.isDir(path)) {\r\n                this.mkdir(path);\r\n            } else if (this.exists(path) /*&& !this.isDir(path)*/ ) {\r\n                // TODO(setlastupdate)\r\n                fs.utimesSync(path,Date.now()/1000,Date.now()/1000);\r\n            }\r\n        },\r\n        getURL:function (path) {\r\n            return \"file:///\"+path.replace(/\\\\/g,\"/\");\r\n        },\r\n        onAddObserver: function (apath,options) {\r\n            var t=this;\r\n            var rfs=t.getRootFS();\r\n            options=options||{};\r\n            var isDir=this.isDir(apath);\r\n            //console.log(\"Invoke oao\",options);\r\n            var w=fs.watch(apath, options, function (evt,rpath) {\r\n                //console.log(path);\r\n                var fpath=isDir ? P.rel(apath,rpath) : apath;\r\n                var meta;\r\n                if (t.exists(fpath)) {\r\n                    meta=extend({eventType:evt},t.getMetaInfo(fpath));\r\n                } else {\r\n                    meta={eventType:evt};\r\n                }\r\n                rfs.notifyChanged(fpath,meta);\r\n            });\r\n            return {\r\n                remove: function () {\r\n                    w.close();\r\n                }\r\n            };\r\n        }\r\n    });\r\n    return NativeFS;\r\n});\r\n\r\ndefine('LSFS',[\"FSClass\",\"PathUtil\",\"extend\",\"assert\",\"Util\",\"Content\"],\r\n        function(FS,P,extend,assert,Util,Content) {\r\n    var LSFS = function(storage,options) {\r\n        assert(storage,\" new LSFS fail: no storage\");\r\n    \tthis.storage=storage;\r\n    \tthis.options=options||{};\r\n    \tif (this.options.useDirCache) this.dirCache={};\r\n    };\r\n    var isDir = P.isDir.bind(P);\r\n    var up = P.up.bind(P);\r\n    var endsWith= P.endsWith.bind(P);\r\n    //var getName = P.name.bind(P);\r\n    //var Path=P.Path;\r\n    var Absolute=P.Absolute;\r\n    var SEP= P.SEP;\r\n    function now(){\r\n        return new Date().getTime();\r\n    }\r\n    LSFS.ramDisk=function (options) {\r\n        var s={};\r\n        s[P.SEP]=\"{}\";\r\n        options=options||{};\r\n        if (!(\"useDirCache\" in options)) options.useDirCache=true;\r\n        return new LSFS(s,options);\r\n    };\r\n    FS.addFSType(\"localStorage\",function (path, options) {\r\n        return new LSFS(localStorage,options);\r\n    });\r\n    FS.addFSType(\"ram\",function (path, options) {\r\n        return LSFS.ramDisk(options);\r\n    });\r\n\r\n    LSFS.now=now;\r\n    LSFS.prototype=new FS();\r\n    //private methods\r\n    LSFS.prototype.resolveKey=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        if (this.mountPoint) {\r\n            return P.SEP+P.relPath(path,this.mountPoint);//FromMountPoint(path);\r\n        } else {\r\n            return path;\r\n        }\r\n    };\r\n    LSFS.prototype.getItem=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        return this.storage[key];\r\n    };\r\n    LSFS.prototype.setItem=function (path, value) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        /*if (key.indexOf(\"..\")>=0) {\r\n            console.log(path,key,value);\r\n        }*/\r\n        assert(key.indexOf(\"..\")<0);\r\n        assert(P.startsWith(key,P.SEP));\r\n        this.storage[key]=value;\r\n    };\r\n    LSFS.prototype.removeItem=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        delete this.storage[key];\r\n    };\r\n    LSFS.prototype.itemExists=function (path) {\r\n        assert.is(path,P.Absolute);\r\n        var key=this.resolveKey(path);\r\n        assert(this.storage,\"No storage\");\r\n        return key in this.storage;\r\n    };\r\n    /*LSFS.prototype.inMyFS=function (path){\r\n        return !this.mountPoint || P.startsWith(path, this.mountPoint);\r\n    };*/\r\n    LSFS.prototype.getDirInfo=function getDirInfo(path) {\r\n        assert.is(arguments,[P.AbsDir]);\r\n        if (path == null) throw new Error(\"getDir: Null path\");\r\n        if (!endsWith(path, SEP)) path += SEP;\r\n        assert(this.inMyFS(path));\r\n        if (this.dirCache && this.dirCache[path]) return this.dirCache[path];\r\n        var dinfo =  {},dinfos;\r\n        try {\r\n            dinfos = this.getItem(path);\r\n            if (dinfos) {\r\n                dinfo = JSON.parse(dinfos);\r\n            }\r\n        } catch (e) {\r\n            console.log(\"dinfo err : \" , path , dinfos);\r\n        }\r\n        if (this.dirCache) this.dirCache[path]=dinfo;\r\n        return dinfo;\r\n    };\r\n    LSFS.prototype.putDirInfo=function putDirInfo(path, dinfo, trashed) {\r\n  \t    assert.is(arguments,[P.AbsDir, Object]);\r\n  \t    if (!isDir(path)) throw new Error(\"Not a directory : \" + path);\r\n  \t    assert(this.inMyFS(path));\r\n  \t    if (this.dirCache) this.dirCache[path] = dinfo;\r\n  \t    this.setItem(path, JSON.stringify(dinfo));\r\n        var ppath = up(path);\r\n        if (ppath == null) return;\r\n        if (!this.inMyFS(ppath)) {\r\n            //assert(this.getRootFS()!==this);\r\n            //this.getRootFS().resolveFS(ppath).touch(ppath);\r\n            return;\r\n        }\r\n        var pdinfo = this.getDirInfo(ppath);\r\n        this._touch(pdinfo, ppath, P.name(path), trashed);\r\n    };\r\n    LSFS.prototype._touch=function _touch(dinfo, path, name, trashed) {\r\n        // path:path of dinfo\r\n        // trashed: this touch is caused by trashing the file/dir.\r\n        assert.is(arguments,[Object, String, String]);\r\n        assert(this.inMyFS(path));\r\n        var eventType=\"change\";\r\n        if (!dinfo[name]) {\r\n            eventType=\"create\";\r\n            dinfo[name] = {};\r\n            if (trashed) dinfo[name].trashed = true;\r\n        }\r\n        if (!trashed) delete dinfo[name].trashed;\r\n        dinfo[name].lastUpdate = now();\r\n        var meta=extend({eventType:eventType},dinfo[name]);\r\n        this.getRootFS().notifyChanged(P.rel(path,name), meta);\r\n        this.putDirInfo(path, dinfo, trashed);\r\n    };\r\n    LSFS.prototype.removeEntry=function removeEntry(dinfo, path, name) { // path:path of dinfo\r\n        assert.is(arguments,[Object, String, String]);\r\n        if (dinfo[name]) {\r\n            dinfo[name] = {\r\n                lastUpdate: now(),\r\n                trashed: true\r\n            };\r\n            this.getRootFS().notifyChanged(P.rel(path,name), {eventType:\"trash\"});\r\n            this.putDirInfo(path, dinfo, true);\r\n        }\r\n    };\r\n    LSFS.prototype.removeEntryWithoutTrash=function (dinfo, path, name) { // path:path of dinfo\r\n        assert.is(arguments,[Object, String, String]);\r\n        if (dinfo[name]) {\r\n            delete dinfo[name];\r\n            this.getRootFS().notifyChanged(P.rel(path,name), {eventType:\"delete\"});\r\n            this.putDirInfo(path, dinfo, true);\r\n        }\r\n    };\r\n    LSFS.prototype.isRAM=function (){\r\n        return this.storage!==localStorage;\r\n    };\r\n    LSFS.prototype.fstype=function () {\r\n        return (this.isRAM() ? \"ramDisk\" : \"localStorage\" );\r\n    };\r\n    LSFS.getUsage=function () {\r\n        var using=0;\r\n        for (var i in localStorage) {\r\n            if (typeof localStorage[i]==\"string\"){\r\n                using+=localStorage[i].length;\r\n            }\r\n        }\r\n        return using;\r\n    };\r\n    LSFS.getCapacity=function () {\r\n        var seq=0;\r\n        var str=\"a\";\r\n        var KEY=\"___checkls___\";\r\n        var using=0;\r\n        var lim=Math.pow(2,25);//32MB?\r\n        try {\r\n            // make 1KB str\r\n            for (var i=0; i<10 ;i++) {\r\n                str+=str;\r\n            }\r\n            for (var i in localStorage) {\r\n                if (i.substring(0,KEY.length)==KEY) delete localStorage[i];\r\n                else if (typeof localStorage[i]==\"string\"){\r\n                    using+=localStorage[i].length;\r\n                }\r\n            }\r\n            var ru=using;\r\n            while (add()) {\r\n                if (str.length<lim) {\r\n                    str+=str;\r\n                } else break;\r\n            }\r\n            while(str.length>1024) {\r\n                str=str.substring(str.length/2);\r\n                add();\r\n            }\r\n            return {using:ru, max:using};\r\n        } finally {\r\n            for (var i=0; i<seq; i++) {\r\n                 delete localStorage[KEY+i];\r\n            }\r\n        }\r\n        function add() {\r\n            try {\r\n                localStorage[KEY+seq]=str;\r\n                seq++;\r\n                using+=str.length;\r\n                //console.log(\"Added \"+str.length, str.length, using);\r\n                return true;\r\n            } catch(e) {\r\n                delete localStorage[KEY+seq];\r\n                //console.log(\"Add Fail \"+str.length);\r\n                return false;\r\n            }\r\n        }\r\n    };\r\n\r\n    // public methods (with resolve fs)\r\n    FS.delegateMethods(LSFS.prototype, {\r\n        isReadOnly: function () {return this.options.readOnly;},\r\n        getReturnTypes: function(path, options) {\r\n            assert.is(arguments,[String]);\r\n            return {\r\n                getContent: String, opendir:[String]\r\n            };\r\n        },\r\n        getContent: function(path, options) {\r\n            assert.is(arguments,[Absolute]);\r\n            this.assertExist(path); // Do not use this??( because it does not follow symlinks)\r\n            var c;\r\n            var cs=this.getItem(path);\r\n            if (Content.looksLikeDataURL(cs)) {\r\n                c=Content.url(cs);\r\n            } else {\r\n                c=Content.plainText(cs);\r\n            }\r\n            return c;\r\n        },\r\n        setContent: function(path, content, options) {\r\n            assert.is(arguments,[Absolute,Content]);\r\n            this.assertWriteable(path);\r\n            var t=null;\r\n            if (content.hasPlainText()) {\r\n                t=content.toPlainText();\r\n                if (Content.looksLikeDataURL(t)) t=null;\r\n            }\r\n            if (t!=null) {\r\n                this.setItem(path, t);\r\n            } else {\r\n                this.setItem(path, content.toURL());\r\n            }\r\n            this.touch(path);\r\n        },\r\n        getMetaInfo: function(path, options) {\r\n            this.assertExist(path, {includeTrashed:true});\r\n            assert.is(arguments,[Absolute]);\r\n            if (path==P.SEP) {\r\n                return {};\r\n            }\r\n            var parent=assert(P.up(path));\r\n            if (!this.inMyFS(parent)) {\r\n                return {};\r\n            }\r\n            var name=P.name(path);\r\n            assert.is(parent,P.AbsDir);\r\n            var pinfo=this.getDirInfo(parent);\r\n            return assert(pinfo[name]);\r\n        },\r\n        setMetaInfo: function(path, info, options) {\r\n            assert.is(arguments,[String,Object]);\r\n            this.assertWriteable(path);\r\n            var parent=assert(P.up(path));\r\n            if (!this.inMyFS(parent)) {\r\n                return;\r\n            }\r\n            var pinfo=this.getDirInfo(parent);\r\n            var name=P.name(path);\r\n            pinfo[name]=info;\r\n            this.putDirInfo(parent, pinfo, pinfo[name].trashed);\r\n        },\r\n        mkdir: function(path, options) {\r\n            assert.is(arguments,[Absolute]);\r\n            this.assertWriteable(path);\r\n\t\t\tthis.touch(path);\r\n        },\r\n        opendir: function(path, options) {\r\n            assert.is(arguments,[String]);\r\n            //succ: iterator<string> // next()\r\n            // options: {includeTrashed:Boolean}\r\n            options=options||{};\r\n            var inf=this.getDirInfo(path);\r\n            var res=[]; //this.dirFromFstab(path);\r\n            for (var i in inf) {\r\n                assert(inf[i]);\r\n                if (!inf[i].trashed || options.includeTrashed) res.push(i);\r\n            }\r\n            return assert.is(res,Array);\r\n        },\r\n        rm: function(path, options) {\r\n            assert.is(arguments,[Absolute]);\r\n            options=options||{};\r\n            this.assertWriteable(path);\r\n            var parent=P.up(path);\r\n            if (parent==null || !this.inMyFS(parent)) {\r\n                throw new Error(path+\": cannot remove. It is root of this FS.\");\r\n            }\r\n            this.assertExist(path,{includeTrashed:options.noTrash });\r\n            if (P.isDir(path)) {\r\n                var lis=this.opendir(path);\r\n                if (lis.length>0) {\r\n                    this.err(path,\"Directory not empty\");\r\n                }\r\n                if (options.noTrash) {\r\n                    this.removeItem(path);\r\n                }\r\n            } else {\r\n                this.removeItem(path);\r\n            }\r\n            var pinfo=this.getDirInfo(parent);\r\n            if (options.noTrash) {\r\n                this.removeEntryWithoutTrash(pinfo, parent, P.name(path) );\r\n            } else {\r\n                this.removeEntry(pinfo, parent, P.name(path) );\r\n            }\r\n        },\r\n        exists: function (path,options) {\r\n            assert.is(arguments,[Absolute]);\r\n            options=options||{};\r\n            var name=P.name(path);\r\n            var parent=P.up(path);\r\n            if (parent==null || !this.inMyFS(parent)) return true;\r\n            var pinfo=this.getDirInfo(parent);\r\n            var res=pinfo[name];\r\n            if (res && res.trashed && this.itemExists(path)) {\r\n                if (this.isDir(path)) {\r\n\r\n                } else {\r\n                    //assert.fail(\"Inconsistent \"+path+\": trashed, but remains in storage\");\r\n                }\r\n            }\r\n            if (!res && this.itemExists(path)) {\r\n                //assert.fail(\"Inconsistent \"+path+\": not exists in metadata, but remains in storage\");\r\n            }\r\n            if (res && !res.trashed && !res.link && !this.itemExists(path)) {\r\n                //assert.fail(\"Inconsistent \"+path+\": exists in metadata, but not in storage\");\r\n            }\r\n            if (res && !options.includeTrashed) {\r\n                res=!res.trashed;\r\n            }\r\n            return !!res;\r\n        },\r\n        link: function(path, to, options) {\r\n            assert.is(arguments,[P.Absolute,P.Absolute]);\r\n            this.assertWriteable(path);\r\n            if (this.exists(path)) this.err(path,\"file exists\");\r\n            if (P.isDir(path) && !P.isDir(to)) {\r\n                this.err(path,\" can not link to file \"+to);\r\n            }\r\n            if (!P.isDir(path) && P.isDir(to)) {\r\n                this.err(path,\" can not link to directory \"+to);\r\n            }\r\n            var m={};//assert(this.getMetaInfo(path));\r\n            m.link=to;\r\n            m.lastUpdate=now();\r\n            this.setMetaInfo(path, m);\r\n            //console.log(this.getMetaInfo(path));\r\n            //console.log(this.storage);\r\n            //console.log(this.getMetaInfo(P.up(path)));\r\n            assert(this.exists(path));\r\n            assert(this.isLink(path));\r\n        },\r\n        isLink: function (path) {\r\n            assert.is(arguments,[P.Absolute]);\r\n            if (!this.exists(path)) return null;\r\n            var m=assert(this.getMetaInfo(path));\r\n            return m.link;\r\n        },\r\n        touch: function (path) {\r\n            assert.is(arguments,[Absolute]);\r\n            this.assertWriteable(path);\r\n            if (!this.itemExists(path)) {\r\n                if (P.isDir(path)) {\r\n                    if (this.dirCache) this.dirCache[path]={};\r\n                    this.setItem(path,\"{}\");\r\n                } else {\r\n                    this.setItem(path,\"\");\r\n                }\r\n            }\r\n            var parent=up(path);\r\n            if (parent!=null) {\r\n                if (this.inMyFS(parent)) {\r\n                    var pinfo=this.getDirInfo(parent);\r\n                    this._touch(pinfo, parent , P.name(path), false);\r\n                } else {\r\n                    assert(this.getRootFS()!==this);\r\n                    this.getRootFS().resolveFS(parent).touch(parent);\r\n                }\r\n            }\r\n        },\r\n        getURL: function (path) {\r\n            return this.getContent(path).toURL();\r\n        },\r\n        opendirEx: function (path,options) {\r\n            assert.is(path,P.AbsDir);\r\n            options=options||{};\r\n            var res={};\r\n            var d=this.getDirInfo(path);\r\n            if (options.includeTrashed) {\r\n                //console.log(\"INCLTR\",d);\r\n                return d;\r\n            }\r\n            for (var k in d) {\r\n                if (d[k].trashed) continue;\r\n                res[k]=d[k];\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    return LSFS;\r\n\r\n});\r\n\r\n/**\r\n *\r\n * jquery.binarytransport.js\r\n *\r\n * @description. jQuery ajax transport for making binary data type requests.\r\n * @version 1.0\r\n * @author Henry Algus <henryalgus@gmail.com>\r\n *\r\n */\r\n\r\n// use this transport for \"binary\" data type\r\nif (typeof $!==\"undefined\")\r\n$.ajaxTransport(\"+binary\", function(options, originalOptions, jqXHR){\r\n    // check for conditions and support for blob / arraybuffer response type\r\n    if (window.FormData && ((options.dataType && (options.dataType == 'binary')) || (options.data && ((window.ArrayBuffer && options.data instanceof ArrayBuffer) || (window.Blob && options.data instanceof Blob)))))\r\n    {\r\n        return {\r\n            // create new XMLHttpRequest\r\n            send: function(headers, callback){\r\n                // setup all variables\r\n                var xhr = new XMLHttpRequest(),\r\n                url = options.url,\r\n                type = options.type,\r\n                async = options.async || true,\r\n                // blob or arraybuffer. Default is blob\r\n                dataType = options.responseType || \"blob\",\r\n                data = options.data || null,\r\n                username = options.username || null,\r\n                password = options.password || null;\r\n\r\n                xhr.addEventListener('load', function(){\r\n                    var data = {};\r\n                    data[options.dataType] = xhr.response;\r\n                    // make callback and send data\r\n                    callback(xhr.status, xhr.statusText, data, xhr.getAllResponseHeaders());\r\n                });\r\n\r\n                xhr.open(type, url, async, username, password);\r\n\r\n                // setup custom headers\r\n                for (var i in headers ) {\r\n                    xhr.setRequestHeader(i, headers[i] );\r\n                }\r\n\r\n                xhr.responseType = dataType;\r\n                xhr.send(data);\r\n            },\r\n            abort: function(){\r\n                jqXHR.abort();\r\n            }\r\n        };\r\n    }\r\n});\r\n\r\ndefine(\"jquery.binarytransport\", function(){});\r\n\r\ndefine('WebFS',[\"FSClass\",\"jquery.binarytransport\",\"DeferredUtil\",\"Content\",\"PathUtil\"],\r\n        function (FS,j,DU,Content,P) {\r\n    // FS.mount(location.protocol+\"//\"+location.host+\"/\", \"web\");\r\n    var WebFS=function (){};\r\n    var p=WebFS.prototype=new FS;\r\n    FS.addFSType(\"web\", function () {\r\n        return new WebFS;\r\n    });\r\n    p.fstype=function () {return \"Web\";};\r\n    p.supportsSync=function () {return false;};\r\n    p.inMyFS=function (path) {\r\n        return P.isURL(path);\r\n    };\r\n    FS.delegateMethods(p, {\r\n        exists: function () {return true;},\r\n        getContentAsync: function (path){\r\n            var t=this;\r\n            return DU.promise(function (succ,err) {\r\n                $.get(path,function (blob) {\r\n                    var reader = new FileReader();\r\n                    reader.addEventListener(\"loadend\", function() {\r\n                        succ(Content.bin(reader.result, t.getContentType(path)));\r\n                    });\r\n                    reader.readAsArrayBuffer(blob);\r\n                },\"binary\").fail(err);\r\n            });\r\n        },\r\n        /*setContentAsync: function (path){\r\n\r\n        },*/\r\n        getURL: function (path) {\r\n            return path;\r\n        }\r\n    });\r\n\r\n    return WebFS;\r\n\r\n});\r\ndefine('Env',[\"assert\",\"PathUtil\"],function (A,P) {\r\n    var Env=function (value) {\r\n        this.value=value;\r\n    };\r\n    Env.prototype={\r\n            expand:function (str) {\r\n                A.is(str,String);\r\n                var t=this;\r\n                return str.replace(/\\$\\{([a-zA-Z0-9_]+)\\}/g, function (a,key) {\r\n                    return t.get(key);\r\n                });\r\n            },\r\n            expandPath:function (path) {\r\n                A.is(path,String);\r\n                path=this.expand(path);\r\n                path=path.replace(/\\/+/g,\"/\");\r\n                path=path.replace(/^[a-z][a-z]+:\\//, function (r) { return r+\"/\"; } );\r\n                return A.is(path,P.Path);\r\n            },\r\n            get: function (key) {\r\n                return this.value[key];\r\n            },\r\n            set: function (key, value) {\r\n                this.value[key]=value;\r\n            }\r\n    };\r\n    return Env;\r\n});\r\ndefine('SFile',[\"extend\",\"assert\",\"PathUtil\",\"Util\",\"Content\",\"FSClass\",\"FileSaver\",\"DeferredUtil\"],\r\nfunction (extend,A,P,Util,Content,FSClass,saveAs,DU) {\r\n\r\nvar SFile=function (rootFS, path) {\r\n    A.is(path, P.Absolute);\r\n    //A(fs && fs.getReturnTypes, fs);\r\n    this._path=path;\r\n    this.rootFS=rootFS;\r\n    this.fs=rootFS.resolveFS(path);\r\n    /*this.act={};// path/fs after follwed symlink\r\n    this.act.path=this.fs.resolveLink(path);\r\n    this.act.fs=rootFS.resolveFS(this.act.path);\r\n    A.is(this.act, {fs:FSClass, path:P.Absolute});*/\r\n    if (this.isDir() && !P.isDir(path)) {\r\n        this._path+=P.SEP;\r\n    }\r\n};\r\nSFile.is=function (path) {\r\n    return path && typeof (path.isSFile)==\"function\" && path.isSFile();\r\n};\r\nfunction getPath(f) {\r\n    if (SFile.is(f)) {\r\n        return f.path();\r\n    } else {\r\n        A.is(f,P.Absolute);\r\n        return f;\r\n    }\r\n}\r\nSFile.prototype={\r\n    isSFile: function (){return true;},\r\n    setPolicy: function (p) {\r\n        if (this.policy) throw new Error(\"policy already set\");\r\n        this.policy=p;\r\n        return this._clone();\r\n    },\r\n    getPolicy: function (p) {\r\n        return this.policy;\r\n    },\r\n    _clone: function (){\r\n        return this._resolve(this.path());\r\n    },\r\n    _resolve: function (path, options) {\r\n        var res;\r\n        options=options||{};\r\n        if (SFile.is(path)) {\r\n            res=path;\r\n        } else {\r\n            A.is(path,P.Absolute);\r\n            var topdir;\r\n            var policy=options.policy || this.policy;\r\n            if (policy && (topdir=policy.topDir)) {\r\n                if (topdir.path) topdir=topdir.path();\r\n                if (!P.startsWith(path, topdir)) {\r\n                    throw new Error(path+\": cannot access. Restricted to \"+topdir);\r\n                }\r\n            }\r\n            res=new SFile(this.rootFS, path);\r\n            res.policy=policy;\r\n        }\r\n        if (res.policy) {\r\n            return Util.privatize(res);\r\n        } else {\r\n            return res;\r\n        }\r\n    },\r\n    contains: function (file) {\r\n        A(SFile.is(file),file+\" shoud be a SFile object.\");\r\n        if (!this.isDir()) return false;\r\n        return P.startsWith( file.path(), this.path());\r\n    },\r\n    path: function () {\r\n        return this._path;\r\n    },\r\n    name: function () {\r\n        return P.name(this.path());\r\n    },\r\n    truncExt: function (ext) {\r\n        return P.truncExt(this.path(),ext);\r\n    },\r\n    ext: function () {\r\n        return P.ext(this.path());\r\n    },\r\n    relPath: function (base) {\r\n        // base should be SFile or Path from rootFS\r\n        var bp=(base.path ?\r\n                base.path() :\r\n                base );\r\n        return P.relPath(this.path(), A.is(bp,P.Absolute) );\r\n    },\r\n    up: function () {\r\n        var pathR=this.path();\r\n        var pa=P.up(pathR);\r\n        if (pa==null) return null;\r\n        return this._resolve(pa);\r\n    },\r\n    rel: function (relPath) {\r\n        A.is(relPath, P.Relative);\r\n        this.assertDir();\r\n        var pathR=this.path();\r\n        return this._resolve(P.rel(pathR, relPath));\r\n    },\r\n    sibling: function (n) {\r\n        return this.up().rel(n);\r\n    },\r\n    startsWith: function (pre) {\r\n        return P.startsWith(this.name(),pre);\r\n    },\r\n    endsWith: function (post) {\r\n        return P.endsWith(this.name(),post);\r\n    },\r\n    equals:function (o) {\r\n        return (o && typeof o.path==\"function\" && o.path()==this.path());\r\n    },\r\n    toString:function (){\r\n        return this.path();\r\n    },\r\n    //Common\r\n    touch: function () {\r\n        return this.act.fs.touch(this.act.path);\r\n    },\r\n    isReadOnly: function () {\r\n        return this.act.fs.isReadOnly(this.act.path);\r\n    },\r\n    isTrashed:function () {\r\n        var m=this.metaInfo();\r\n        if (!m) return false;\r\n        return m.trashed;\r\n    },\r\n    metaInfo: function () {\r\n        if (arguments.length==0) {\r\n            return this.getMetaInfo.apply(this,arguments);\r\n        } else {\r\n            return this.setMetaInfo.apply(this,arguments);\r\n        }\r\n    },\r\n    getMetaInfo: function (options) {\r\n        return this.act.fs.getMetaInfo(this.act.path,options);\r\n    },\r\n    setMetaInfo: function (info, options) {\r\n        return this.act.fs.setMetaInfo(this.act.path,info, options);\r\n    },\r\n    getDirTree: function (options) {\r\n        return this.act.fs.getDirTree(this.act.path, options);\r\n    },\r\n    assertExists: function () {\r\n        A(this.exists(),this.path()+\" does not exist.\");\r\n    },\r\n    lastUpdate:function () {\r\n        this.assertExists();\r\n        return this.metaInfo().lastUpdate;\r\n    },\r\n    exists: function (options) {\r\n        var args=Array.prototype.slice.call(arguments);\r\n        if (typeof args[0]===\"function\") {\r\n            var f=args.shift();\r\n            return DU.resolve(this.exists.apply(this,args)).then(f);\r\n        }\r\n        options=options||{};\r\n        var p=this.fs.exists(this.path(),options);\r\n        if (p || options.noFollowLink) {\r\n            return p;\r\n        } else {\r\n            return this.act.fs.exists(this.act.path,{noFollowLink:true});\r\n        }\r\n    },\r\n    rm: function (options) {\r\n        //   ln /test/c /a/b/\r\n        //   rm a/b/c/\r\n        //   rm a/b/c/d\r\n        var t=this;\r\n        options=options||{};\r\n        if (this.isLink()) {\r\n            return DU.resolve(this.fs.rm(this.path(),options));\r\n        }\r\n        /*if (!this.exists({noFollowLink:true})) {\r\n            return this.act.fs.rm(this.act.path, options);\r\n        }*/\r\n        var a;\r\n        if (this.isDir() && (options.recursive||options.r)) {\r\n            a=this.each(function (f) {\r\n                return f.rm(options);\r\n            });\r\n        } else {\r\n            a=DU.resolve();\r\n        }\r\n        return a.then(function () {\r\n            return t.act.fs.rm(t.act.path, options);\r\n        });\r\n        //var pathT=this.path();\r\n        //this.fs.rm(pathT, options);\r\n    },\r\n    removeWithoutTrash: function (options) {\r\n        options=options||{};\r\n        options.noTrash=true;\r\n        this.rm(options);\r\n    },\r\n    isDir: function () {\r\n        return this.act.fs.isDir(this.act.path);\r\n    },\r\n    // File\r\n    text:function (f) {\r\n    \tif (typeof f===\"function\") {\r\n\t\t\treturn this.getText(f);\r\n\t\t}\r\n        if (arguments.length>0) {\r\n            return this.setText(arguments[0]);\r\n        } else {\r\n            return this.getText();\r\n        }\r\n    },\r\n    setText:function (t) {\r\n        A.is(t,String);\r\n        if (this.isDir()) {\r\n            throw new Error(\"Cannot write to directory: \"+this.path());\r\n        }\r\n        var ct=this.contentType({def:null});\r\n        //if (this.isText()) {\r\n        if (ct!==null && !ct.match(/^text/) && Content.looksLikeDataURL(t)) {\r\n            // bad knowhow: if this is a binary file apparently, convert to URL\r\n            return DU.throwNowIfRejected(this.setContent(Content.url(t)));\r\n            return DU.resolve(this.act.fs.setContent(this.act.path, Content.url(t)));\r\n        } else {\r\n            // if use fs.setContentAsync, the error should be handled by .fail\r\n            // setText should throw error immediately (Why? maybe old style of text(\"foo\") did it so...)\r\n            return DU.throwNowIfRejected(this.setContent(Content.plainText(t)));\r\n            return DU.resolve(this.act.fs.setContent(this.act.path, Content.plainText(t)));\r\n        }\r\n    },\r\n    appendText:function (t) {\r\n        A.is(t,String);\r\n        //if (this.isText()) {\r\n        return this.act.fs.appendContent(this.act.path, Content.plainText(t));\r\n        /*} else {\r\n            throw new Error(\"append only for text file\");\r\n        }*/\r\n    },\r\n    getContent: function (f) {\r\n        if (typeof f==\"function\") {\r\n            return this.act.fs.getContentAsync(this.act.path).then(f);\r\n        }\r\n        return this.act.fs.getContent(this.act.path);\r\n    },\r\n    setContent: function (c) {\r\n        if (this.isDir()) {\r\n            throw new Error(\"Cannot write to directory: \"+this.path());\r\n        }\r\n        // why setContentAsync? AsyncDU.resolvesyncsync...PromiseJQ\r\n        // fs2/promise.js\r\n        return this.act.fs.setContentAsync(this.act.path,c);\r\n    },\r\n\r\n    getText:function (f) {\r\n    \tif (typeof f===\"function\") {\r\n    \t\tvar t=this;\r\n    \t    return this.getContent(forceText).then(f);\r\n    \t}\r\n        return forceText(this.act.fs.getContent(this.act.path));\r\n        /*if (this.isText()) {\r\n            return this.act.fs.getContent(this.act.path).toPlainText();\r\n        } else {\r\n            return this.act.fs.getContent(this.act.path).toURL();\r\n        }*/\r\n        function forceText(c) {\r\n\t    \t//if (t.isText()) {\r\n            try {\r\n                return c.toPlainText();\r\n            } catch(e) {\r\n    \t    \treturn c.toURL();\r\n    \t    }\r\n        }\r\n    },\r\n    getDataURL: function (f) {\r\n        if (typeof f===\"function\") {\r\n            return this.getContent(function (c) {\r\n                return c.toURL();\r\n            });\r\n        }\r\n        return this.getContent().toURL();\r\n    },\r\n    setDataURL: function (u) {\r\n        return this.setContent(Content.url(u));\r\n    },\r\n    dataURL:function (d) {\r\n        if (typeof d===\"string\") return this.setDataURL(d);\r\n        if (typeof d===\"function\") return this.getDataURL(d);\r\n        return this.getDataURL();\r\n    },\r\n    isText: function () {\r\n        return this.act.fs.isText(this.act.path);\r\n    },\r\n    contentType: function (options) {\r\n        return this.act.fs.getContentType(this.act.path,options);\r\n    },\r\n    bytes: function (b) {\r\n        if (Content.isBuffer(b)) return this.setBytes(b);\r\n        return this.getBytes();\r\n    },\r\n    setBytes:function (b) {\r\n        return this.act.fs.setContent(this.act.path, Content.bin(b,this.contentType()));\r\n    },\r\n    getBytes:function (options) {\r\n        options=options||{};\r\n        return this.act.fs.getContent(this.act.path).toBin(options.binType);\r\n    },\r\n    getURL: function () {\r\n        return this.act.fs.getURL(this.act.path);\r\n    },\r\n    lines:function (lines) {\r\n        if (lines instanceof Array) {//WRITE\r\n            return this.text(lines.join(\"\\n\"));\r\n        } else if (typeof lines===\"function\") {//READ async\r\n            return this.text(function (r) {\r\n                return lines(r.replace(/\\r/g,\"\").split(\"\\n\"));\r\n            });\r\n        }\r\n        return this.text().replace(/\\r/g,\"\").split(\"\\n\");\r\n    },\r\n    obj: function () {\r\n        var file=this;\r\n        if (arguments.length==0) {\r\n            var t=file.text();\r\n            if (!t) return null;\r\n            return JSON.parse(t);\r\n        } else {\r\n            file.text(JSON.stringify(A.is(arguments[0],Object) ));\r\n        }\r\n    },\r\n    copyFrom: function (src, options) {\r\n        return src.copyTo(this,options);\r\n    },\r\n    copyTo: function (dst, options) {\r\n        A(dst && dst.isSFile(),dst+\" is not a file\");\r\n        var src=this;\r\n        var options=options||{};\r\n        var srcIsDir=src.isDir();\r\n        var dstIsDir=dst.isDir();\r\n        if (!srcIsDir && dstIsDir) {\r\n            dst=dst.rel(src.name());\r\n            A(!dst.isDir(), dst+\" is a directory.\");\r\n            dstIsDir=false;\r\n        }\r\n        if (srcIsDir && !dstIsDir) {\r\n           this.err(\"Cannot move dir \"+src.path()+\" to file \"+dst.path());\r\n        } else if (!srcIsDir && !dstIsDir) {\r\n            if (options.echo) options.echo(src+\" -> \"+dst);\r\n            var res=this.act.fs.cp(this.act.path, dst.getResolvedLinkPath(),options);\r\n            res=DU.resolve(res);\r\n            if (options.a) {\r\n                return res.then(function () {\r\n                    return dst.setMetaInfo(src.getMetaInfo());\r\n                });\r\n            }\r\n            return res;\r\n        } else {\r\n            A(srcIsDir && dstIsDir,\"Both src and dst should be dir\");\r\n            return src.each(function (s) {\r\n                var r;\r\n                var dstf=dst.rel(s.name());\r\n                if (options.progress) {\r\n                    r=options.progress(dstf,{src:s,dst:dstf});\r\n                }\r\n                return DU.resolve(r).then(function () {\r\n                    return dstf.copyFrom(s, options);\r\n                });\r\n            });\r\n        }\r\n        //file.text(src.text());\r\n        //if (options.a) file.metaInfo(src.metaInfo());\r\n    },\r\n    moveFrom: function (src, options) {\r\n        var t=this;\r\n        return t.exists(function (ex) {\r\n            return t.copyFrom(src,options).then(function () {\r\n                return src.rm({recursive:true});\r\n            },function (e) {\r\n                // rollback\r\n                if (!ex) return t.exists(function (ex) {\r\n                    if (ex) return t.rm({recursive:true});\r\n                }).then(function () {throw e;});\r\n                throw e;\r\n            });\r\n        });\r\n    },\r\n    moveTo: function (dst, options) {\r\n        return dst.moveFrom(this,options);\r\n    },\r\n    // Dir\r\n    assertDir:function () {\r\n        A.is(this.path(),P.Dir);\r\n        return this;\r\n    },\r\n    /*files:function (f,options) {\r\n        var dir=this.assertDir();\r\n        var res=[];\r\n        this.each(function (f) {\r\n            res.add(f);\r\n        },options);\r\n        return res;\r\n    },*/\r\n    each:function (f,options) {\r\n        var dir=this.assertDir();\r\n        return dir.listFilesAsync(options).then(function (ls) {\r\n            return DU.each(ls,f);// ls.forEach(f)\r\n        });\r\n    },\r\n    eachrev:function (f,options) {\r\n        var dir=this.assertDir();\r\n        return dir.listFilesAsync(options).then(function (ls) {\r\n            return DU.each(ls.reverse(),f);// ls.forEach(f)\r\n        });\r\n    },\r\n    recursive:function (fun,options) {\r\n        var dir=this.assertDir();\r\n        options=dir.convertOptions(options);\r\n        return dir.each(function (f) {\r\n            if (f.isDir()) return f.recursive(fun,options);\r\n            else return fun(f);\r\n        },options);\r\n    },\r\n    _listFiles:function (options,async) {\r\n        A(options==null || typeof options==\"object\");\r\n        var dir=this.assertDir();\r\n        var path=this.path();\r\n        var ord;\r\n        options=dir.convertOptions(options);\r\n        if (!ord) ord=options.order;\r\n        if (async) {\r\n            return this.act.fs.opendirAsync(this.act.path, options).\r\n            then(cvt);\r\n        } else {\r\n            return cvt( this.act.fs.opendir(this.act.path, options));\r\n        }\r\n        function cvt(di) {\r\n            var res=[];\r\n            for (var i=0;i<di.length; i++) {\r\n                var name=di[i];\r\n                //if (!options.includeTrashed && dinfo[i].trashed) continue;\r\n                var f=dir.rel(name);\r\n                if (options.excludesF(f) ) continue;\r\n                res.push(f);\r\n            }\r\n            if (typeof ord==\"function\" && res.sort) res.sort(ord);\r\n            return res;\r\n        }\r\n    },\r\n    listFilesAsync:function (options) {\r\n        return this._listFiles(options,true);\r\n        /*\r\n        A(options==null || typeof options==\"object\");\r\n        var dir=this.assertDir();\r\n        var path=this.path();\r\n        var ord;\r\n        options=dir.convertOptions(options);\r\n        if (!ord) ord=options.order;\r\n        return this.act.fs.opendirAsync(this.act.path, options).\r\n        then(function (di) {\r\n            var res=[];\r\n            for (var i=0;i<di.length; i++) {\r\n                var name=di[i];\r\n                //if (!options.includeTrashed && dinfo[i].trashed) continue;\r\n                var f=dir.rel(name);\r\n                if (options.excludesF(f) ) continue;\r\n                res.push(f);\r\n            }\r\n            if (typeof ord==\"function\" && res.sort) res.sort(ord);\r\n            return res;\r\n        });*/\r\n    },\r\n    listFiles:function (options) {\r\n        return this._listFiles(options,false);\r\n        /*var args=Array.prototype.slice.call(arguments);\r\n        return DU.assertResolved(this.listFilesAsync.apply(this,args));*/\r\n    },\r\n    ls:function (options) {\r\n        A(options==null || typeof options==\"object\");\r\n        var dir=this.assertDir();\r\n        if (!options) {\r\n            return this.act.fs.opendir(this.act.path, options);\r\n        }\r\n        var res=dir.listFiles(options);\r\n        return res.map(function (f) {\r\n            return f.name();\r\n        });\r\n    },\r\n    convertOptions:function(o) {\r\n        var options=Util.extend({},o);\r\n        var dir=this.assertDir();\r\n        var pathR=this.path();\r\n        var excludes=options.excludes || {};\r\n        if (typeof excludes===\"function\") {\r\n            options.excludesF=excludes;\r\n        } else if (typeof excludes===\"object\") {\r\n            if (excludes instanceof Array) {\r\n                var nex={};\r\n                excludes.forEach(function (e) {\r\n                    if (P.startsWith(e,\"/\")) {\r\n                        nex[e]=1;\r\n                    } else {\r\n                        nex[pathR+e]=1;\r\n                    }\r\n                });\r\n                excludes=nex;\r\n            }\r\n            options.excludesF=function (f) {\r\n                return excludes[f.path()];\r\n            };\r\n        }\r\n        return A.is(options,{excludesF:Function});\r\n    },\r\n    mkdir: function () {\r\n        return this.touch();\r\n    },\r\n    link: function (to,options) {// % ln to path\r\n        if (this.exists()) throw new Error(this.path()+\": exists.\");\r\n        return this.act.fs.link(this.act.path,to.path(),options);\r\n    },\r\n    resolveLink:function () {\r\n        return this._resolve(this.act.path);\r\n    },\r\n    isLink: function () {\r\n        return this.fs.isLink(this.path());\r\n    },\r\n    getResolvedLinkPath: function () {\r\n        return this.act.path;\r\n    },\r\n    getFS:function () {\r\n        return this.act.fs;\r\n    },\r\n    observe: function (h) {\r\n        return this.getFS().getRootFS().addObserver(this.path(),h);\r\n    },\r\n    getBlob: function () {\r\n        return new Blob([this.bytes()],{type:this.contentType()});\r\n    },\r\n    setBlob: function (blob) {\r\n        var t=this;\r\n        return DU.promise(function (succ,err) {\r\n            var reader = new FileReader();\r\n            reader.addEventListener(\"loadend\", function() {\r\n                // reader.result contains the contents of blob as a typed array\r\n                DU.resolve(t.setBytes(reader.result)).then(succ);\r\n            });\r\n            reader.readAsArrayBuffer(blob);\r\n        });\r\n    },\r\n    size: function (f) {\r\n        if (!f) {\r\n            if (!this.isDir()) {\r\n                return this.act.fs.size(this.act.path);\r\n                //return this.getBytes().byteLength;\r\n            } else {\r\n                var sum=0;\r\n                this.each(function (f) {\r\n                    sum+=f.size();\r\n                });\r\n                return sum;\r\n            }\r\n        } else {\r\n            //TODO: async\r\n        }\r\n    },\r\n    download: function () {\r\n        if (this.isDir()) throw new Error(this+\": Download dir is not support yet. Use 'zip' instead.\");\r\n        saveAs(this.getBlob(),this.name());;\r\n    },\r\n    err: function () {\r\n        var a=Array.prototype.slice.call(arguments);\r\n        console.log.apply(console,a);\r\n        throw new Error(a.join(\"\"));\r\n    },\r\n    exportAsObject: function (options) {\r\n        var base=this;\r\n        var data={};\r\n        this.recursive(function (f) {\r\n            data[f.relPath(base)]=f.text();\r\n        },options);\r\n        var req={base:base.path(),data:data};\r\n        return req;\r\n    },\r\n    importFromObject: function (data, options) {\r\n        if (typeof data===\"string\") data=JSON.parse(data);\r\n        var data=data.data;\r\n        for (var k in data) {\r\n            this.rel(k).text(data[k]);\r\n        }\r\n    },\r\n    watch: function (_1,_2) {\r\n        var options={},handler=function(){};\r\n        if (typeof _1===\"object\") options=_1;\r\n        if (typeof _2===\"object\") options=_2;\r\n        if (typeof _1===\"function\") handler=_1;\r\n        if (typeof _2===\"function\") handler=_2;\r\n        var rfs=this.getFS().getRootFS();\r\n        //var t=this;\r\n        rfs.addObserver(this.path(),function (path, meta) {\r\n            handler(meta.eventType, rfs.get(path),meta );\r\n        });\r\n    }\r\n};\r\nObject.defineProperty(SFile.prototype,\"act\",{\r\n    get: function () {\r\n        if (this._act) return this._act;\r\n        this._act={};// path/fs after follwed symlink\r\n        this._act.path=this.fs.resolveLink(this._path);\r\n        this._act.fs=this.rootFS.resolveFS(this._act.path);\r\n        A.is(this._act, {fs:FSClass, path:P.Absolute});\r\n        return this._act;\r\n    }\r\n});\r\n\r\nreturn SFile;\r\n});\r\n\r\ndefine('RootFS',[\"assert\",\"FSClass\",\"PathUtil\",\"SFile\"], function (assert,FS,P,SFile) {\r\n    var RootFS=function (defaultFS){\r\n        assert.is(defaultFS,FS);\r\n        this.mount(null, defaultFS);\r\n    };\r\n    var dst=RootFS.prototype;\r\n    var p={\r\n            err: function (path, mesg) {\r\n                throw new Error(path+\": \"+mesg);\r\n            },\r\n            // mounting\r\n            fstab: function () {\r\n                return this._fstab=this._fstab||[];//[{fs:this, path:P.SEP}];\r\n            },\r\n            unmount: function (path, options) {\r\n                assert.is(arguments,[P.AbsDir] );\r\n                var t=this.fstab();\r\n                console.log(t);\r\n                for (var i=0; i<t.length; i++) {\r\n                    if (t[i].mountPoint==path) {\r\n                        t.splice(i,1);\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            availFSTypes:function (){\r\n                return FS.availFSTypes();\r\n            },\r\n            mount: function (path, fs, options) {\r\n                if (typeof fs==\"string\") {\r\n                    var fact=assert( FS.availFSTypes()[fs] ,\"fstype \"+fs+\" is undefined.\");\r\n                    fs=fact(path, options||{});\r\n                }\r\n                assert.is(fs,FS);\r\n                fs.mounted(this, path);\r\n                this.fstab().unshift(fs);\r\n            },\r\n            resolveFS:function (path, options) {\r\n                assert.is(path,P.Absolute);\r\n                var res;\r\n                this.fstab().forEach(function (fs) {\r\n                    if (res) return;\r\n                    if (fs.inMyFS(path)) {\r\n                        res=fs;\r\n                    }\r\n                });\r\n                if (!res) this.err(path,\"Cannot resolve\");\r\n                return assert.is(res,FS);\r\n            },\r\n            get: function (path) {\r\n                assert.is(path,P.Absolute);\r\n                return new SFile(this.resolveFS(path), path);\r\n            },\r\n            addObserver: function (_1,_2,_3) {\r\n                this.observers=this.observers||[];\r\n                var options={},path,f;\r\n                if (typeof _1===\"string\") path=_1;\r\n                if (typeof _2===\"string\") path=_2;\r\n                if (typeof _3===\"string\") path=_3;\r\n                if (typeof _1===\"object\") options=_1;\r\n                if (typeof _2===\"object\") options=_2;\r\n                if (typeof _3===\"object\") options=_3;\r\n                if (typeof _1===\"function\") f=_1;\r\n                if (typeof _2===\"function\") f=_2;\r\n                if (typeof _3===\"function\") f=_3;\r\n                assert.is(path,String);\r\n                assert.is(f,Function);\r\n                var fs=this.resolveFS(path);\r\n                var remover=fs.onAddObserver(path,options);\r\n                var observers=this.observers;\r\n                var observer={\r\n                    path:path,\r\n                    handler:f,\r\n                    remove: function () {\r\n                        var i=observers.indexOf(this);\r\n                        observers.splice(i,1);\r\n                        if (remover) remover.remove();\r\n                    }\r\n                };\r\n                this.observers.push(observer);\r\n                return observer;\r\n            },\r\n            notifyChanged: function (path,metaInfo) {\r\n                if (!this.observers) return;\r\n                this.observers.forEach(function (ob) {\r\n                    if (P.isChildOf(path,ob.path)) {\r\n                        ob.handler(path,metaInfo);\r\n                    }\r\n                });\r\n            },\r\n            getRootFS:function () {\r\n                return this;\r\n            }\r\n    };\r\n    for (var i in p) {\r\n        dst[i]=p[i];\r\n    }\r\n    return RootFS;\r\n});\r\n\r\ndefine('zip',[\"SFile\",/*\"jszip\",*/\"FileSaver\",\"Util\",\"DeferredUtil\"],\r\nfunction (SFile,/*JSZip,*/fsv,Util,DU) {\r\n    var zip={};\r\n    zip.setJSZip=function (JSZip) {\r\n        zip.JSZip=JSZip;\r\n        if (!DU.external.Promise) {\r\n            DU.external.Promise=JSZip.external.Promise;\r\n        }\r\n    };\r\n    if (typeof JSZip!==\"undefined\") zip.setJSZip(JSZip);\r\n    zip.zip=function (dir,dstZip,options) {\r\n        if (!SFile.is(dstZip)) options=dstZip;\r\n        options=options||{};\r\n        var jszip = new zip.JSZip();\r\n        function loop(dst, dir) {\r\n            return dir.each(function (f) {\r\n                var r=DU.resolve();\r\n                if (options.progress) {\r\n                    r=options.progress(f);\r\n                }\r\n                return r.then(function () {\r\n                    if (f.isDir()) {\r\n                        var sf=dst.folder(f.name().replace(/[\\/\\\\]$/,\"\"));\r\n                        return loop(sf, f);\r\n                    } else {\r\n                        return f.getContent(function (c) {\r\n                            dst.file(f.name(),c.toArrayBuffer());\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return loop(jszip, dir).then(function () {\r\n            return DU.resolve(jszip.generateAsync({\r\n                type:\"arraybuffer\",\r\n                compression:\"DEFLATE\"\r\n            }));\r\n        }).then(function (content) {\r\n            //console.log(\"zip.con\",content);\r\n            if (SFile.is(dstZip)) {\r\n                return dstZip.setBytes(content);\r\n            } else {\r\n                saveAs(\r\n                    new Blob([content],{type:\"application/zip\"}),\r\n                    dir.name().replace(/[\\/\\\\]$/,\"\")+\".zip\"\r\n                );\r\n            }\r\n        });\r\n    };\r\n    zip.unzip=function (arrayBuf,destDir,options) {\r\n        var c;\r\n        var status={};\r\n        options=options||{};\r\n        if (SFile.is(arrayBuf)) {\r\n        \tc=arrayBuf.getContent();\r\n        \tarrayBuf=c.toArrayBuffer();\r\n        }\r\n        if (!options.onCheckFile) {\r\n            options.onCheckFile=function (f) {\r\n                if (options.overwrite) {\r\n                    return f;\r\n                } else {\r\n                    if (f.exists()) {\r\n                        return false;\r\n                    }\r\n                    return f;\r\n                }\r\n            };\r\n        }\r\n        var jszip=new zip.JSZip();\r\n        return DU.resolve(jszip.loadAsync(arrayBuf)).then(function () {\r\n            return DU.each(jszip.files,function (key,zipEntry) {\r\n                //var zipEntry=jszip.files[i];\r\n                var buf,dest;\r\n                return DU.resolve(zipEntry.async(\"arraybuffer\")).then(function (_buf) {\r\n                    buf=_buf;\r\n                    dest=destDir.rel(zipEntry.name);\r\n                    if (options.progress) {\r\n                        return DU.resolve(options.progress(dest));\r\n                    }\r\n                }).then(function () {\r\n                    console.log(\"Inflating\",zipEntry.name);\r\n                    if (dest.isDir()) return;\r\n                    var s={\r\n                        file:dest,\r\n                        status:\"uploaded\"\r\n                    };\r\n                    status[dest.path()]=s;\r\n                    var c=FS.Content.bin( buf, dest.contentType() );\r\n                    var res=options.onCheckFile(dest,c);\r\n                    if (res===false) {\r\n                        s.status=\"cancelled\";\r\n                        dest=null;\r\n                    }\r\n                    if (SFile.is(res)) {\r\n                        if (dest.path()!==res.path()) s.redirectedTo=res;\r\n                        dest=res;\r\n                    }\r\n                    if (dest) return dest.setContent(c);\r\n                });\r\n            });\r\n        }).then(function () {\r\n            console.log(\"unzip done\",status);\r\n            return status;\r\n        });\r\n    };\r\n    return zip;\r\n});\r\n\r\n/*(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\r\n\ttypeof define === 'function' && define.amd ? define(factory) :\r\n\t(factory());\r\n}(this, (function () { 'use strict';*/\r\n// modified from https://github.com/taylorhakes/promise-polyfill/blob/master/dist/polyfill.js\r\n// if promise resolved immediately, it will run f of then(f)\r\n// P.resolve(5).then(e=>console.log(e)); console.log(3)  ->  show 5 3, while original is 3 5\r\ndefine('promise',[], function() {\r\n\r\n/**\r\n * @this {Promise}\r\n */\r\nfunction finallyConstructor(callback) {\r\n  var constructor = this.constructor;\r\n  return this.then(\r\n    function(value) {\r\n      // @ts-ignore\r\n      return constructor.resolve(callback()).then(function() {\r\n        return value;\r\n      });\r\n    },\r\n    function(reason) {\r\n      // @ts-ignore\r\n      return constructor.resolve(callback()).then(function() {\r\n        // @ts-ignore\r\n        return constructor.reject(reason);\r\n      });\r\n    }\r\n  );\r\n}\r\n\r\n// Store setTimeout reference so promise-polyfill will be unaffected by\r\n// other code modifying setTimeout (like sinon.useFakeTimers())\r\nvar setTimeoutFunc = setTimeout;\r\n\r\nfunction isArray(x) {\r\n  return Boolean(x && typeof x.length !== 'undefined');\r\n}\r\n\r\nfunction noop() {}\r\n\r\n// Polyfill for Function.prototype.bind\r\nfunction bind(fn, thisArg) {\r\n  return function() {\r\n    fn.apply(thisArg, arguments);\r\n  };\r\n}\r\n\r\n/**\r\n * @constructor\r\n * @param {Function} fn\r\n */\r\nfunction Promise(fn) {\r\n  if (!(this instanceof Promise))\r\n    throw new TypeError('Promises must be constructed via new');\r\n  if (typeof fn !== 'function') throw new TypeError('not a function');\r\n  /** @type {!number} */\r\n  this._state = 0;\r\n  /** @type {!boolean} */\r\n  this._handled = false;\r\n  /** @type {Promise|undefined} */\r\n  this._value = undefined;\r\n  /** @type {!Array<!Function>} */\r\n  this._deferreds = [];\r\n\r\n  doResolve(fn, this);\r\n}\r\n\r\nfunction handle(self, deferred) {\r\n  while (self._state === 3) {\r\n    self = self._value;\r\n  }\r\n  if (self._state === 0) {\r\n    self._deferreds.push(deferred);\r\n    return;\r\n  }\r\n  self._handled = true;\r\n  Promise._immediateFn(function() {\r\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\r\n    if (cb === null) {\r\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\r\n      return;\r\n    }\r\n    var ret;\r\n    try {\r\n      ret = cb(self._value);\r\n    } catch (e) {\r\n      reject(deferred.promise, e);\r\n      return;\r\n    }\r\n    resolve(deferred.promise, ret);\r\n  });\r\n}\r\n\r\nfunction resolve(self, newValue) {\r\n  try {\r\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\r\n    if (newValue === self)\r\n      throw new TypeError('A promise cannot be resolved with itself.');\r\n    if (\r\n      newValue &&\r\n      (typeof newValue === 'object' || typeof newValue === 'function')\r\n    ) {\r\n      var then = newValue.then;\r\n      if (newValue instanceof Promise) {\r\n        self._state = 3;\r\n        self._value = newValue;\r\n        finale(self);\r\n        return;\r\n      } else if (typeof then === 'function') {\r\n        doResolve(bind(then, newValue), self);\r\n        return;\r\n      }\r\n    }\r\n    self._state = 1;\r\n    self._value = newValue;\r\n    finale(self);\r\n  } catch (e) {\r\n    reject(self, e);\r\n  }\r\n}\r\n\r\nfunction reject(self, newValue) {\r\n  self._state = 2;\r\n  self._value = newValue;\r\n  finale(self);\r\n}\r\n\r\nfunction finale(self) {\r\n  if (self._state === 2 && self._deferreds.length === 0) {\r\n    Promise._immediateFn(function() {\r\n      if (!self._handled) {\r\n        Promise._unhandledRejectionFn(self._value);\r\n      }\r\n    });\r\n  }\r\n\r\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\r\n    handle(self, self._deferreds[i]);\r\n  }\r\n  self._deferreds = null;\r\n}\r\n\r\n/**\r\n * @constructor\r\n */\r\nfunction Handler(onFulfilled, onRejected, promise) {\r\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\r\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\r\n  this.promise = promise;\r\n}\r\n\r\n/**\r\n * Take a potentially misbehaving resolver function and make sure\r\n * onFulfilled and onRejected are only called once.\r\n *\r\n * Makes no guarantees about asynchrony.\r\n */\r\nfunction doResolve(fn, self) {\r\n  var done = false;\r\n  try {\r\n    fn(\r\n      function(value) {\r\n        if (done) return;\r\n        done = true;\r\n        resolve(self, value);\r\n      },\r\n      function(reason) {\r\n        if (done) return;\r\n        done = true;\r\n        reject(self, reason);\r\n      }\r\n    );\r\n  } catch (ex) {\r\n    if (done) return;\r\n    done = true;\r\n    reject(self, ex);\r\n  }\r\n}\r\n\r\nPromise.prototype['catch'] = function(onRejected) {\r\n  return this.then(null, onRejected);\r\n};\r\n\r\nPromise.prototype.then = function(onFulfilled, onRejected) {\r\n  // @ts-ignore\r\n  var prom = new this.constructor(noop);\r\n\r\n  handle(this, new Handler(onFulfilled, onRejected, prom));\r\n  return prom;\r\n};\r\n\r\nPromise.prototype['finally'] = finallyConstructor;\r\n\r\nPromise.all = function(arr) {\r\n  return new Promise(function(resolve, reject) {\r\n    if (!isArray(arr)) {\r\n      return reject(new TypeError('Promise.all accepts an array'));\r\n    }\r\n\r\n    var args = Array.prototype.slice.call(arr);\r\n    if (args.length === 0) return resolve([]);\r\n    var remaining = args.length;\r\n\r\n    function res(i, val) {\r\n      try {\r\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\r\n          var then = val.then;\r\n          if (typeof then === 'function') {\r\n            then.call(\r\n              val,\r\n              function(val) {\r\n                res(i, val);\r\n              },\r\n              reject\r\n            );\r\n            return;\r\n          }\r\n        }\r\n        args[i] = val;\r\n        if (--remaining === 0) {\r\n          resolve(args);\r\n        }\r\n      } catch (ex) {\r\n        reject(ex);\r\n      }\r\n    }\r\n\r\n    for (var i = 0; i < args.length; i++) {\r\n      res(i, args[i]);\r\n    }\r\n  });\r\n};\r\n\r\nPromise.resolve = function(value) {\r\n  if (value && typeof value === 'object' && value.constructor === Promise) {\r\n    return value;\r\n  }\r\n\r\n  return new Promise(function(resolve) {\r\n    resolve(value);\r\n  });\r\n};\r\n\r\nPromise.reject = function(value) {\r\n  return new Promise(function(resolve, reject) {\r\n    reject(value);\r\n  });\r\n};\r\n\r\nPromise.race = function(arr) {\r\n  return new Promise(function(resolve, reject) {\r\n    if (!isArray(arr)) {\r\n      return reject(new TypeError('Promise.race accepts an array'));\r\n    }\r\n\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n      Promise.resolve(arr[i]).then(resolve, reject);\r\n    }\r\n  });\r\n};\r\n\r\n// Use polyfill for setImmediate for performance gains\r\nPromise._immediateFn = function (fn) {fn();};/*\r\n  // @ts-ignore\r\n  (typeof setImmediate === 'function' &&\r\n    function(fn) {\r\n      // @ts-ignore\r\n      setImmediate(fn);\r\n    }) ||\r\n  function(fn) {\r\n    setTimeoutFunc(fn, 0);\r\n  };\r\n*/\r\n\r\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(/*err*/) {\r\n  if (typeof console !== 'undefined' && console) {\r\n    //console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\r\n  }\r\n};\r\n/** @suppress {undefinedVars} */\r\n/*\r\nvar globalNS = (function() {\r\n  // the only reliable means to get the global object is\r\n  // `Function('return this')()`\r\n  // However, this causes CSP violations in Chrome apps.\r\n  if (typeof self !== 'undefined') {\r\n    return self;\r\n  }\r\n  if (typeof window !== 'undefined') {\r\n    return window;\r\n  }\r\n  if (typeof global !== 'undefined') {\r\n    return global;\r\n  }\r\n  throw new Error('unable to locate global object');\r\n})();\r\n\r\nif (!('Promise' in globalNS)) {\r\n  globalNS['Promise'] = Promise;\r\n} else if (!globalNS.Promise.prototype['finally']) {\r\n  globalNS.Promise.prototype['finally'] = finallyConstructor;\r\n}*/\r\nreturn Promise;\r\n});\r\n\r\ndefine('FS',[\"FSClass\",\"NativeFS\",\"LSFS\", \"WebFS\", \"PathUtil\",\"Env\",\"assert\",\"SFile\",\"RootFS\",\"Content\",\"zip\",\"DeferredUtil\",\"promise\"],\r\n        function (FSClass,NativeFS,LSFS,WebFS, P,Env,A,SFile,RootFS,Content,zip,DU,PR) {\r\n    var FS={};\r\n    FS.assert=A;\r\n    FS.Content=Content;\r\n    FS.Class=FSClass;\r\n    FS.DeferredUtil=DU;\r\n    if (!DU.config.useJQ) {\r\n        DU.external.Promise=PR;\r\n    }\r\n    FS.Env=Env;\r\n    FS.LSFS=LSFS;\r\n    FS.NativeFS=NativeFS;\r\n    FS.PathUtil=P;\r\n    FS.RootFS=RootFS;\r\n    FS.SFile=SFile;\r\n    FS.WebFS=WebFS;\r\n    FS.zip=zip;\r\n    //if (zip.JSZip) DU.external.Promise=zip.JSZip.external.Promise;\r\n    if (typeof window==\"object\") window.FS=FS;\r\n    var rootFS;\r\n    var env=new Env({});\r\n    FS.addFSType=FSClass.addFSType;\r\n    FS.availFSTypes=FSClass.availFSTypes;\r\n\r\n    FS.setEnvProvider=function (e) {\r\n        env=e;\r\n    };\r\n    FS.getEnvProvider=function () {\r\n        return env;\r\n    };\r\n    FS.setEnv=function (key, value) {\r\n        if (typeof key==\"object\") {\r\n            for (var k in key) {\r\n                env.set(k,key[k]);\r\n            }\r\n        }else {\r\n            env.set(key,value);\r\n        }\r\n    };\r\n    FS.getEnv=function (key) {\r\n        if (typeof key==\"string\") {\r\n            return env.get(key);\r\n        }else {\r\n            return env.value;\r\n        }\r\n    };\r\n    FS.init=function (fs) {\r\n        if (rootFS) return;\r\n        if (!fs) {\r\n            if (NativeFS.available) {\r\n                fs=new NativeFS();\r\n            } else if (typeof localStorage===\"object\") {\r\n                fs=new LSFS(localStorage);\r\n            } else if (typeof importScripts===\"function\") {\r\n                // Worker\r\n                /* global self*/\r\n                self.addEventListener(\"message\", function (e) {\r\n                    var data=e.data;\r\n                    if (typeof data===\"string\") {\r\n                        data=JSON.parse(data);\r\n                    }\r\n                    switch(data.type) {\r\n                    case \"upload\":\r\n                        FS.get(data.base).importFromObject(data.data);\r\n                        break;\r\n                    case \"observe\":\r\n                        rootFS.observe(data.path, function (path,meta) {\r\n                            self.postMessage(JSON.stringify({\r\n                                type: \"changed\",\r\n                                path: path,\r\n                                content: FS.get(path).text(),\r\n                                meta: meta\r\n                            }));\r\n                        });\r\n                        break;\r\n                    }\r\n                });\r\n                fs=LSFS.ramDisk();\r\n            }\r\n        }\r\n        rootFS=new RootFS(fs);\r\n    };\r\n    FS.getRootFS=function () {\r\n        FS.init();\r\n        return rootFS;\r\n    };\r\n    FS.get=function () {\r\n        FS.init();\r\n        return rootFS.get.apply(rootFS,arguments);\r\n    };\r\n    FS.expandPath=function () {\r\n        return env.expandPath.apply(env,arguments);\r\n    };\r\n    FS.resolve=function (path, base) {\r\n        FS.init();\r\n        if (SFile.is(path)) return path;\r\n        path=env.expandPath(path);\r\n        if (base && !P.isAbsolutePath(path)) {\r\n            base=env.expandPath(base);\r\n            return FS.get(base).rel(path);\r\n        }\r\n        return FS.get(path);\r\n    };\r\n    FS.mount=function () {\r\n        FS.init();\r\n        return rootFS.mount.apply(rootFS,arguments);\r\n    };\r\n    FS.unmount=function () {\r\n        FS.init();\r\n        return rootFS.unmount.apply(rootFS,arguments);\r\n    };\r\n    FS.isFile=function (f) {\r\n        return SFile.is(f);\r\n    };\r\n    return FS;\r\n});\r\n\r\n//-----------\r\n\tvar resMod;\r\n\trequirejs([\"FS\"], function (r) {\r\n\t  resMod=r;\r\n\t});\r\n\tif (typeof window!==\"undefined\" && window.FS===undefined) window.FS=resMod;\r\n\tif (typeof module!==\"undefined\") module=resMod;\r\n\treturn resMod;\r\n});\r\n//})(window);\r\n\ndefine('Debugger',['require','exports','module','DebuggerCore','BuilderClient4Sys','Tonyu','root','FS'],function (require,exports,module) {\r\nconst DebuggerCore=require(\"DebuggerCore\");\r\nconst BuilderClient4Sys=require(\"BuilderClient4Sys\");\r\nconst Tonyu=require(\"Tonyu\");\r\nconst root=require(\"root\");\r\nconst FS=require(\"FS\");\r\nObject.assign(BuilderClient4Sys,{\r\n    Tonyu, root, FS\r\n});\r\nmodule.exports=DebuggerCore(BuilderClient4Sys);\r\n});\r\n\ndefine('PatternParser',[\"Tonyu\"], function (Tonyu) {\r\n    var PP=function (img, options) {\r\n        this.options=options || {};\r\n        this.img=img;\r\n        this.height = img.height;\r\n        this.width = img.width;\r\n        var cv=this.newImage(img.width, img.height);\r\n        var ctx=cv.getContext(\"2d\");\r\n        ctx.drawImage(img, 0,0);\r\n        this.ctx=ctx;\r\n        this.pixels=this.ctx.getImageData(0, 0, img.width, img.height).data;\r\n        this.base=this.getPixel(0,0);\r\n    };\r\n    Tonyu.extend(PP.prototype,{\r\n        newImage: function (w,h) {\r\n            var cv=document.createElement(\"canvas\");\r\n            cv.width=w;\r\n            cv.height=h;\r\n            return cv;\r\n        },\r\n        getPixel: function (x,y) {\r\n            var imagePixelData = this.pixels;\r\n            var ofs=(x+y*this.width)*4;\r\n            var R = imagePixelData[0+ofs];\r\n            var G = imagePixelData[1+ofs];\r\n            var B = imagePixelData[2+ofs];\r\n            var A = imagePixelData[3+ofs];\r\n            return ((((A*256)+B)*256)+G)*256+R;\r\n        },\r\n        setPixel: function (x,y,p) {\r\n            var ofs=(x+y*this.width)*4;\r\n            this.pixels[0+ofs]=p & 255;\r\n            p=(p-(p&255))/256;\r\n            this.pixels[1+ofs]=p & 255;\r\n            p=(p-(p&255))/256;\r\n            this.pixels[2+ofs]=p & 255;\r\n            p=(p-(p&255))/256;\r\n            this.pixels[3+ofs]=p & 255;\r\n        },\r\n        parse: function () {\r\n            try {\r\n                //console.log(\"parse()\");\r\n                var res=[];// List of charpattern\r\n                for (var y=0; y<this.height ;y++) {\r\n                    for (var x=0; x<this.width ;x++) {\r\n                        var c=this.getPixel(x, y);\r\n                        if (c!=this.base) {\r\n                            res.push(this.parse1Pattern(x,y));\r\n                        }\r\n                    }\r\n                }\r\n                //console.log(\"parsed:\"+res.lenth);\r\n                return res;\r\n            } catch (p) {\r\n                if (p.isParseError) {\r\n                    console.log(\"parse error! \"+p);\r\n                    return [{image: this.img, x:0, y:0, width:this.width, height:this.height}];\r\n                }\r\n                throw p;\r\n            }\r\n        },\r\n        parse1Pattern:function (x,y) {\r\n            function hex(s){return s;}\r\n            var trans=this.getPixel(x, y);\r\n            var dx=x,dy=y;\r\n            var base=this.base;\r\n            var width=this.width, height=this.height;\r\n            while (dx<width) {\r\n                var pixel = this.getPixel(dx,dy);\r\n                if (pixel!=trans) break;\r\n                dx++;\r\n            }\r\n            if (dx>=width || this.getPixel(dx,dy)!=base) {\r\n                throw PatterParseError(dx,dy,hex(this.getPixel(dx,dy))+\"!=\"+hex(base));\r\n            }\r\n            dx--;\r\n            while (dy<height) {\r\n                if (this.getPixel(dx,dy)!=trans) break;\r\n                dy++;\r\n            }\r\n            if (dy>=height || this.getPixel(dx,dy)!=base) {\r\n                throw PatterParseError(dx,dy,hex(this.getPixel(dx,dy))+\"!=\"+hex(base));\r\n            }\r\n            dy--;\r\n            var sx=x+1,sy=y+1,w=dx-sx,h=dy-sy;\r\n            //console.log(\"PP\",sx,sy,w,h,dx,dy);\r\n            if (w*h==0) throw PatterParseError(dx, dy,\"w*h==0\");\r\n            var newim=this.newImage(w,h);\r\n            var nc=newim.getContext(\"2d\");\r\n            var newImD=nc.getImageData(0,0,w,h);\r\n            var newD=newImD.data;\r\n            var di=0;\r\n            for (var ey=sy ; ey<dy ; ey++) {\r\n                for (var ex=sx ; ex<dx ; ex++) {\r\n                    var p=this.getPixel(ex, ey);\r\n                    if (p==trans) {\r\n                        newD[di++]=0;\r\n                        newD[di++]=(0);\r\n                        newD[di++]=(0);\r\n                        newD[di++]=(0);\r\n                    } else {\r\n                        newD[di++]=(p&255);\r\n                        p=(p-(p&255))/256;\r\n                        newD[di++]=(p&255);\r\n                        p=(p-(p&255))/256;\r\n                        newD[di++]=(p&255);\r\n                        p=(p-(p&255))/256;\r\n                        newD[di++]=(p&255);\r\n                    }\r\n                }\r\n            }\r\n            nc.putImageData(newImD,0,0);\r\n            for (var yy=sy-1; yy<=dy; yy++) {\r\n                for (var xx=sx-1; xx<=dx; xx++) {\r\n                    this.setPixel(xx,yy, base);\r\n                }\r\n            }\r\n            if (this.options.boundsInSrc) {\r\n                return {x:sx,y:sy,width:w,height:h};\r\n            }\r\n            return {image:newim, x:0, y:0, width:w, height:h};\r\n            function PatterParseError(x,y,msg) {\r\n                return {toString: function () {\r\n                    return \"at (\"+x+\",\"+y+\") :\"+msg;\r\n                }, isParseError:true};\r\n            }\r\n        }\r\n\r\n    });\r\n    return PP;\r\n});\r\n\nUtil=(function () {\r\n\r\nfunction getQueryString(key, default_)\r\n{\r\n   if (default_==null) default_=\"\";\r\n   key = key.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n   var regex = new RegExp(\"[\\\\?&]\"+key+\"=([^&#]*)\");\r\n   var qs = regex.exec(window.location.href);\r\n   if(qs == null)\r\n    return default_;\r\n   else\r\n    return decodeURLComponentEx(qs[1]);\r\n}\r\nfunction decodeURLComponentEx(s){\r\n    return decodeURIComponent(s.replace(/\\+/g, '%20'));\r\n}\r\nfunction endsWith(str,postfix) {\r\n    return str.substring(str.length-postfix.length)===postfix;\r\n}\r\nfunction startsWith(str,prefix) {\r\n    return str.substring(0, prefix.length)===prefix;\r\n}\r\n// From http://hakuhin.jp/js/base64.html#BASE64_DECODE_ARRAY_BUFFER\r\nfunction Base64_To_ArrayBuffer(base64){\r\n    base64=base64.replace(/[\\n=]/g,\"\");\r\n    var dic = new Object();\r\n    dic[0x41]= 0; dic[0x42]= 1; dic[0x43]= 2; dic[0x44]= 3; dic[0x45]= 4; dic[0x46]= 5; dic[0x47]= 6; dic[0x48]= 7; dic[0x49]= 8; dic[0x4a]= 9; dic[0x4b]=10; dic[0x4c]=11; dic[0x4d]=12; dic[0x4e]=13; dic[0x4f]=14; dic[0x50]=15;\r\n    dic[0x51]=16; dic[0x52]=17; dic[0x53]=18; dic[0x54]=19; dic[0x55]=20; dic[0x56]=21; dic[0x57]=22; dic[0x58]=23; dic[0x59]=24; dic[0x5a]=25; dic[0x61]=26; dic[0x62]=27; dic[0x63]=28; dic[0x64]=29; dic[0x65]=30; dic[0x66]=31;\r\n    dic[0x67]=32; dic[0x68]=33; dic[0x69]=34; dic[0x6a]=35; dic[0x6b]=36; dic[0x6c]=37; dic[0x6d]=38; dic[0x6e]=39; dic[0x6f]=40; dic[0x70]=41; dic[0x71]=42; dic[0x72]=43; dic[0x73]=44; dic[0x74]=45; dic[0x75]=46; dic[0x76]=47;\r\n    dic[0x77]=48; dic[0x78]=49; dic[0x79]=50; dic[0x7a]=51; dic[0x30]=52; dic[0x31]=53; dic[0x32]=54; dic[0x33]=55; dic[0x34]=56; dic[0x35]=57; dic[0x36]=58; dic[0x37]=59; dic[0x38]=60; dic[0x39]=61; dic[0x2b]=62; dic[0x2f]=63;\r\n    var num = base64.length;\r\n    var n = 0;\r\n    var b = 0;\r\n    var e;\r\n\r\n    if(!num) return (new ArrayBuffer(0));\r\n    //if(num < 4) return null;\r\n    //if(num % 4) return null;\r\n\r\n    // AA     12    1\r\n    // AAA    18    2\r\n    // AAAA   24    3\r\n    // AAAAA  30    3\r\n    // AAAAAA 36    4\r\n    // num*6/8\r\n    e = Math.floor(num / 4 * 3);\r\n    if(base64.charAt(num - 1) == '=') e -= 1;\r\n    if(base64.charAt(num - 2) == '=') e -= 1;\r\n\r\n    var ary_buffer = new ArrayBuffer( e );\r\n    var ary_u8 = new Uint8Array( ary_buffer );\r\n    var i = 0;\r\n    var p = 0;\r\n    while(p < e){\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i));//return null;\r\n        n = (b << 2);\r\n        i ++;\r\n\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n        ary_u8[p] = n | ((b >> 4) & 0x3);\r\n        n = (b & 0x0f) << 4;\r\n        i ++;\r\n        p ++;\r\n        if(p >= e) break;\r\n\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n        ary_u8[p] = n | ((b >> 2) & 0xf);\r\n        n = (b & 0x03) << 6;\r\n        i ++;\r\n        p ++;\r\n        if(p >= e) break;\r\n\r\n        b = dic[base64.charCodeAt(i)];\r\n        if(b === undefined) fail(\"Invalid letter: \"+base64.charCodeAt(i))\r\n        ary_u8[p] = n | b;\r\n        i ++;\r\n        p ++;\r\n    }\r\n    function fail(m) {\r\n        console.log(m);\r\n        console.log(base64,i);\r\n        throw new Error(m);\r\n    }\r\n    return ary_buffer;\r\n}\r\n\r\nfunction Base64_From_ArrayBuffer(ary_buffer){\r\n    var dic = [\r\n        'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P',\r\n        'Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f',\r\n        'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v',\r\n        'w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'\r\n    ];\r\n    var base64 = \"\";\r\n    var ary_u8 = new Uint8Array( ary_buffer );\r\n    var num = ary_u8.length;\r\n    var n = 0;\r\n    var b = 0;\r\n\r\n    var i = 0;\r\n    while(i < num){\r\n        b = ary_u8[i];\r\n        base64 += dic[(b >> 2)];\r\n        n = (b & 0x03) << 4;\r\n        i ++;\r\n        if(i >= num) break;\r\n\r\n        b = ary_u8[i];\r\n        base64 += dic[n | (b >> 4)];\r\n        n = (b & 0x0f) << 2;\r\n        i ++;\r\n        if(i >= num) break;\r\n\r\n        b = ary_u8[i];\r\n        base64 += dic[n | (b >> 6)];\r\n        base64 += dic[(b & 0x3f)];\r\n        i ++;\r\n    }\r\n\r\n    var m = num % 3;\r\n    if(m){\r\n        base64 += dic[n];\r\n    }\r\n    if(m == 1){\r\n        base64 += \"==\";\r\n    }else if(m == 2){\r\n        base64 += \"=\";\r\n    }\r\n    return base64;\r\n}\r\n\r\nfunction privatize(o){\r\n    if (o.__privatized) return o;\r\n    var res={__privatized:true};\r\n    for (var n in o) {\r\n        (function (n) {\r\n            var m=o[n];\r\n            if (n.match(/^_/)) return;\r\n            if (typeof m!=\"function\") return;\r\n            res[n]=function () {\r\n                var r=m.apply(o,arguments);\r\n                return r;\r\n            };\r\n        })(n);\r\n    }\r\n    return res;\r\n}\r\nfunction hasNodeBuffer() {\r\n    return typeof Buffer!=\"undefined\";\r\n}\r\nfunction isNodeBuffer(data) {\r\n    return (hasNodeBuffer() && data instanceof Buffer);\r\n}\r\nfunction isBuffer(data) {\r\n    return data instanceof ArrayBuffer || isNodeBuffer(data);\r\n}\r\nfunction utf8bytes2str(bytes) {\r\n    var e=[];\r\n    for (var i=0 ; i<bytes.length ; i++) {\r\n         e.push(\"%\"+(\"0\"+bytes[i].toString(16)).slice(-2));\r\n    }\r\n    try {\r\n        return decodeURIComponent(e.join(\"\"));\r\n    } catch (er) {\r\n        console.log(e.join(\"\"));\r\n        throw er;\r\n    }\r\n}\r\nfunction str2utf8bytes(str, binType) {\r\n    var e=encodeURIComponent(str);\r\n    var r=/^%(..)/;\r\n    var a=[];\r\n    var ad=0;\r\n    for (var i=0 ; i<e.length; i++) {\r\n        var m=r.exec( e.substring(i));\r\n        if (m) {\r\n            a.push(parseInt(\"0x\"+m[1]));\r\n            i+=m[0].length-1;\r\n        } else a.push(e.charCodeAt(i));\r\n    }\r\n    return (typeof Buffer!=\"undefined\" && binType===Buffer ? new Buffer(a) : new Uint8Array(a).buffer);\r\n}\r\n\r\nreturn {\r\n    getQueryString:getQueryString,\r\n    endsWith: endsWith, startsWith: startsWith,\r\n    Base64_To_ArrayBuffer:Base64_To_ArrayBuffer,\r\n    Base64_From_ArrayBuffer:Base64_From_ArrayBuffer,\r\n    utf8bytes2str: utf8bytes2str,\r\n    str2utf8bytes: str2utf8bytes,\r\n    privatize: privatize,\r\n    hasNodeBuffer:hasNodeBuffer,\r\n    isNodeBuffer: isNodeBuffer,\r\n    isBuffer: isBuffer\r\n};\r\n})();\r\n\ndefine(\"Util\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.Util;\n    };\n}(this)));\n\ndefine('Platform',[],function () {\r\n    var WebSite={};\r\n    // from https://w3g.jp/blog/js_browser_sniffing2015\r\n    var u=window.navigator.userAgent.toLowerCase();\r\n    WebSite.tablet=(u.indexOf(\"windows\") != -1 && u.indexOf(\"touch\") != -1)\r\n    || u.indexOf(\"ipad\") != -1\r\n    || (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") == -1)\r\n    || (u.indexOf(\"firefox\") != -1 && u.indexOf(\"tablet\") != -1)\r\n    || u.indexOf(\"kindle\") != -1\r\n    || u.indexOf(\"silk\") != -1\r\n    || u.indexOf(\"playbook\") != -1;\r\n    WebSite.mobile=(u.indexOf(\"windows\") != -1 && u.indexOf(\"phone\") != -1)\r\n    || u.indexOf(\"iphone\") != -1\r\n    || u.indexOf(\"ipod\") != -1\r\n    || (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1)\r\n    || (u.indexOf(\"firefox\") != -1 && u.indexOf(\"mobile\") != -1)\r\n    || u.indexOf(\"blackberry\") != -1;\r\n    return WebSite;\r\n});\r\n\n/*global process, require, BuiltinAssets */\r\ndefine('WebSite',[\"FS\",\"Platform\"], function (FS,Platform) {\r\n\tvar P=FS.PathUtil;\r\n\tvar loc=document.location.href;\r\n\tvar devMode=!!loc.match(/html\\/dev\\//) && !!loc.match(/localhost:3/);\r\n\tvar WebSite;\r\n\tvar prot=location.protocol;\r\n\tvar k;\r\n\tif (!prot.match(/^http/)) prot=\"https:\";\r\n\tswitch(window.WebSite_runType) {\r\n\tcase \"IDE\":\r\n\t\tWebSite={\r\n\t\t\turlAliases: {}, top: \".\",\r\n\t\t\ttablet:Platform.tablet,\r\n\t\t\tmobile:Platform.mobile\r\n\t\t};\r\n\t\tWebSite.builtinAssetNames={\r\n\t\t\t\"images/Ball.png\":1,\r\n\t\t\t\"images/base.png\":1,\r\n\t\t\t\"images/Sample.png\":1,\r\n\t\t\t\"images/inputPad.png\":1,\r\n\t\t\t\"images/neko.png\":1,\r\n\t\t\t\"images/mapchip.png\":1\r\n\t\t};\r\n\t\tif (!WebSite.pluginTop) {\r\n\t\t\tWebSite.pluginTop=WebSite.top+\"/js/plugins\";\r\n\t\t}\r\n\t\tWebSite.sampleImg=WebSite.top+\"/images\";\r\n\t\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\t\tWebSite.mp4Disabled=WebSite.isNW;\r\n\t\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\t\tWebSite.PathSep=\"/\";\r\n\t\tif (WebSite.isNW) {\r\n\t\t\tWebSite.noconcat=true;\r\n\t\t\tWebSite.PathSep=require(\"path\").sep;\r\n\t\t\tWebSite.cwd=P.directorify(process.cwd().replace(/\\\\/g,\"/\"));\r\n\t\t\t//WebSite.exeDir=WebSite.execDir=P.up(P.fixSep(process.execPath)); not suitable when mac\r\n\t\t\tif (process.env.TONYU_HOME) {\r\n\t\t\t\tWebSite.tonyuHome=P.directorify(process.env.TONYU_HOME);\r\n\t\t\t} else {\r\n\t\t\t\tWebSite.tonyuHome=P.rel(WebSite.cwd,\"fs/Tonyu/\");\r\n\t\t\t}\r\n\t\t\tWebSite.logdir=process.env.TONYU_LOGDIR;//\"C:/var/log/Tonyu/\";\r\n\t\t\tWebSite.wwwDir=P.rel(WebSite.cwd,\"www/\");\r\n\t\t\tWebSite.platform=process.platform;\r\n\t\t\tWebSite.ffmpeg=P.rel(WebSite.cwd,(WebSite.platform==\"win32\"?\r\n\t\t\t\t\t\"ffmpeg/bin/ffmpeg.exe\":\"ffmpeg/bin/ffmpeg\"));\r\n\t\t\tWebSite.pkgInfo=require(P.rel(WebSite.cwd, \"package.json\"));\r\n\t\t\tif (process.env.TONYU_PROJECTS) {\r\n\t\t\t\tWebSite.projects=process.env.TONYU_PROJECTS.replace(/\\\\/g,\"/\").split(require('path').delimiter);\r\n\t\t\t} else if ( WebSite.pkgInfo && WebSite.pkgInfo.config && WebSite.pkgInfo.config.prjDirs ){\r\n\t\t\t\tWebSite.projects=WebSite.pkgInfo.config.prjDirs.map(function (d) {\r\n\t\t\t\t\td=P.directorify(d);\r\n\t\t\t\t\tif (P.isAbsolute(d)) return d;\r\n\t\t\t\t\treturn P.rel(WebSite.cwd,d);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tWebSite.projects=[P.rel(WebSite.cwd,\"Projects/\"),\r\n\t\t\t\t\tP.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\t\t}\r\n\t\t\tWebSite.kernelDir=P.rel(WebSite.wwwDir,\"Kernel/\");\r\n\t\t} else {\r\n\t\t\tif (loc.match(/edit\\.tonyu\\.jp\\/n\\//)) {\r\n\t\t\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/n/\";\r\n\t\t\t} else {\r\n\t\t\t\t// Why?\r\n\t\t\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/\";\r\n\t\t\t}\r\n\t\t\tWebSite.projects=[P.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\t}\r\n\t\t//WebSite.kernelDir=WebSite.top+\"/Kernel/\";\r\n\t\t// kernelDir must be absolute\r\n\t\tWebSite.kernelDir=P.rel(WebSite.wwwDir,\"Kernel/\");\r\n\t\t// compiledKernel is URL , not file path.\r\n\t\t// It is correct as long as the html pages in www/ (not html/build|dev )\r\n\t\tWebSite.compiledKernel=\"Kernel/js/concat.js\";   //P.rel(WebSite.kernelDir,\"js/concat.js\");\r\n\t\tif (loc.match(/localhost\\/tonyu2/)) {\r\n\t\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/tonyu2/\";\r\n\t\t\tWebSite.kernelDir=WebSite.wwwDir+\"Kernel/\";\r\n\t\t\tWebSite.compiledKernel=WebSite.kernelDir+\"js/concat.js\";\r\n\t\t\tWebSite.uploadTmpUrl=prot+\"//localhost/tsite/tonyu/e/cgi-bin/uploadTmp.cgi\";\r\n\t\t\tWebSite.newVersionUrl=prot+\"//localhost/tsite/tonyu/project/newVersion.cgi\";\r\n\t\t\tWebSite.scriptServer=\"https://localhost/tonyu2/\";\r\n\t\t} else {\r\n\t\t\tWebSite.uploadTmpUrl=prot+\"//edit.tonyu.jp/cgi-bin/uploadTmp.cgi\";\r\n\t\t\tWebSite.newVersionUrl=prot+\"//www.tonyu.jp/project/newVersion.cgi\";\r\n\t\t\tWebSite.scriptServer=\"https://edit.tonyu.jp/\";\r\n\t\t}\r\n\t\tWebSite.version=2;\r\n\t\tWebSite.hoge=\"fuga\";\r\n\t\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\t\twindow.WebSite=WebSite;\r\n\t\treturn WebSite;\r\n\tcase \"singleHTML\":\r\n\t\tWebSite={\r\n\t\t\turlAliases: {}, top: \".\",\r\n\t\t\ttablet:Platform.tablet,\r\n\t\t\tmobile:Platform.mobile\r\n\t\t};\r\n\t\tif (typeof BuiltinAssets===\"object\") {\r\n\t\t\tfor (k in BuiltinAssets) {\r\n\t\t\t\tWebSite.urlAliases[k]=BuiltinAssets[k];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\t\tWebSite.projects=[P.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\tif (loc.match(/localhost\\/tonyu2/)) {\r\n\t\t\tWebSite.scriptServer=\"http://localhost/tonyu2/\";\r\n\t\t} else {\r\n\t\t\tWebSite.scriptServer=\"https://edit.tonyu.jp/\";\r\n\t\t}\r\n\t\tWebSite.pluginTop=WebSite.scriptServer+\"js/plugins\";\r\n\t\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\t\tWebSite.PathSep=\"/\";\r\n\t\tWebSite.compiledKernel=WebSite.scriptServer+\"Kernel/js/concat.js\";\r\n\t\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\t\twindow.WebSite=WebSite;\r\n\t\treturn WebSite;\r\n\tcase \"multiHTML\":\r\n\t\tWebSite={\r\n\t\t\turlAliases: {}, top: \".\",\r\n\t\t\ttablet:Platform.tablet,\r\n\t\t\tmobile:Platform.mobile\r\n\t\t};\r\n\t\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\t\tWebSite.pluginTop=WebSite.top+\"/js/plugins\";\r\n\t\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\t\tWebSite.PathSep=\"/\";\r\n\t\tWebSite.mp4Disabled=WebSite.isNW;\r\n\t\tif (WebSite.isNW) {\r\n\t\t\tWebSite.PathSep=require(\"path\").sep;\r\n\t\t\tWebSite.cwd=P.directorify(process.cwd().replace(/\\\\/g,\"/\"));\r\n\t\t\tWebSite.platform=process.platform;\r\n\t\t}\r\n\t\t// this sets at runScript2.js\r\n\t\t//WebSite.compiledKernel=WebSite.top+\"/js/kernel.js\";\r\n\t\t//-------------\r\n\t\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\t\twindow.WebSite=WebSite;\r\n\t\treturn WebSite;\r\n\t}\r\n\r\n\tif (loc.match(/jsrun\\.it/)) {\r\n\t\tWebSite={\r\n\t\t\turlAliases: {\r\n\t\t\t\t\"images/Ball.png\":\"http:\"+\"//jsrun.it/assets/9/X/T/b/9XTbt.png\",\r\n\t\t\t\t\"images/base.png\":\"http:\"+\"//jsrun.it/assets/6/F/y/3/6Fy3B.png\",\r\n\t\t\t\t\"images/Sample.png\":\"http:\"+\"//jsrun.it/assets/s/V/S/l/sVSlZ.png\",\r\n\t\t\t\t\"images/neko.png\":\"http:\"+\"//jsrun.it/assets/f/D/z/z/fDzze.png\",\r\n\t\t\t\t\"images/mapchip.png\":\"http:\"+\"//jsrun.it/assets/f/u/N/v/fuNvz.png\"\r\n\t\t\t},top:\"\",devMode:devMode,\r\n\t\t\tpluginTop: \"https://edit.tonyu.jp/js/plugins\",\r\n\t\t\tremoveJSOutput:true\r\n\t\t};\r\n\t} else if (\r\n\t\tloc.match(/tonyuexe\\.appspot\\.com/) ||\r\n\t\tloc.match(/localhost:8887/) ||\r\n\t\t(\r\n\t\t/*(\r\n\t\t\tloc.match(/^chrome-extension:/) ||\r\n\t\t\tloc.match(/localhost/) ||\r\n\t\t\tloc.match(/tonyuedit\\.appspot\\.com/)\r\n\t\t) &&*/\r\n\t\tloc.match(/\\/html\\/((dev)|(build))\\//)\r\n\t\t)\r\n\t) {\r\n\t\tWebSite={\r\n\t\t\turlAliases: {\r\n\t\t\t\t\"images/Ball.png\":\"../../images/Ball.png\",\r\n\t\t\t\t\"images/base.png\":\"../../images/base.png\",\r\n\t\t\t\t\"images/Sample.png\":\"../../images/Sample.png\",\r\n\t\t\t\t\"images/neko.png\":\"../../images/neko.png\",\r\n\t\t\t\t\"images/mapchip.png\":\"../../images/mapchip.png\",\r\n\t\t\t\t\"images/sound.png\":\"../../images/sound.png\",\r\n\t\t\t\t\"images/sound_ogg.png\":\"../../images/sound_ogg.png\",\r\n\t\t\t\t\"images/sound_mp3.png\":\"../../images/sound_mp3.png\",\r\n\t\t\t\t\"images/sound_mp4.png\":\"../../images/sound_mp4.png\",\r\n\t\t\t\t\"images/sound_m4a.png\":\"../../images/sound_m4a.png\",\r\n\t\t\t\t\"images/sound_mid.png\":\"../../images/sound_mid.png\",\r\n\t\t\t\t\"images/sound_wav.png\":\"../../images/sound_wav.png\",\r\n\t\t\t\t\t\"images/ecl.png\":\"../../images/ecl.png\"\r\n\t\t\t},top:\"../..\",devMode:devMode\r\n\t\t};\r\n\t} else if (\r\n\t\tloc.match(/bitarrow/) ||\r\n\t\tloc.match(/localhost.*pub/))  {\r\n\t\tWebSite={};\r\n\t\tvar WS=WebSite;\r\n\t\tWebSite.serverType=\"BA\";\r\n\t\tWS.runtime=\"../../../runtime/\";\r\n\t\tWS.urlAliases= {\r\n\t\t\t\t\"images/base.png\":WS.runtime+\"images/base.png\",\r\n\t\t\t\t\"images/Sample.png\":WS.runtime+\"images/Sample.png\",\r\n\t\t\t\t\"images/neko.png\":WS.runtime+\"images/neko.png\",\r\n\t\t\t\t\"images/mapchip.png\":WS.runtime+\"images/mapchip.png\",\r\n\t\t\t\t\"images/sound.png\":WS.runtime+\"images/sound.png\",\r\n\t\t\t\t\"images/sound_ogg.png\":WS.runtime+\"images/sound_ogg.png\",\r\n\t\t\t\t\"images/sound_mp3.png\":WS.runtime+\"images/sound_mp3.png\",\r\n\t\t\t\t\"images/sound_mp4.png\":WS.runtime+\"images/sound_mp4.png\",\r\n\t\t\t\t\"images/sound_m4a.png\":WS.runtime+\"images/sound_m4a.png\",\r\n\t\t\t\t\"images/sound_mid.png\":WS.runtime+\"images/sound_mid.png\",\r\n\t\t\t\t\"images/sound_wav.png\":WS.runtime+\"images/sound_wav.png\",\r\n\t\t\t\t\"images/ecl.png\":WS.runtime+\"images/ecl.png\"\r\n\t\t};\r\n\t} else {\r\n\t\tWebSite={\r\n\t\t\turlAliases: {}, top: \".\",devMode:devMode\r\n\t\t};\r\n\t}\r\n\tif (typeof BuiltinAssets===\"object\") {\r\n\t\tfor (k in BuiltinAssets) {\r\n\t\t\tWebSite.urlAliases[k]=BuiltinAssets[k];\r\n\t\t}\r\n\t}\r\n\tWebSite.builtinAssetNames={\r\n\t\t\"images/Ball.png\":1,\r\n\t\t\"images/base.png\":1,\r\n\t\t\"images/Sample.png\":1,\r\n\t\t\"images/neko.png\":1,\r\n\t\t\"images/mapchip.png\":1\r\n\t};\r\n\t// from https://w3g.jp/blog/js_browser_sniffing2015\r\n\tvar u=window.navigator.userAgent.toLowerCase();\r\n\tWebSite.tablet=(u.indexOf(\"windows\") != -1 && u.indexOf(\"touch\") != -1) ||\r\n\tu.indexOf(\"ipad\") != -1 ||\r\n\t(u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") == -1) ||\r\n\t(u.indexOf(\"firefox\") != -1 && u.indexOf(\"tablet\") != -1) ||\r\n\tu.indexOf(\"kindle\") != -1 ||\r\n\tu.indexOf(\"silk\") != -1 ||\r\n\tu.indexOf(\"playbook\") != -1;\r\n\tWebSite.mobile=(u.indexOf(\"windows\") != -1 && u.indexOf(\"phone\") != -1) ||\r\n\tu.indexOf(\"iphone\") != -1 ||\r\n\tu.indexOf(\"ipod\") != -1 ||\r\n\t(u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1) ||\r\n\t(u.indexOf(\"firefox\") != -1 && u.indexOf(\"mobile\") != -1) ||\r\n\tu.indexOf(\"blackberry\") != -1;\r\n\r\n\tif (!WebSite.pluginTop) {\r\n\t\tWebSite.pluginTop=WebSite.top+\"/js/plugins\";\r\n\t}\r\n\tWebSite.disableROM={};\r\n\t/*if (loc.match(/tonyuedit\\.appspot\\.com/) || loc.match(/localhost:8888/) ) {\r\n\t\t//WebSite.disableROM={\"ROM_d.js\":true};\r\n\t}*/\r\n\tif (loc.match(/\\.appspot\\.com/) ||  loc.match(/localhost:888[87]/)) {\r\n\t\tWebSite.serverType=\"GAE\";\r\n\t}\r\n\tif (loc.match(/localhost:3000/) ) {\r\n\t\tWebSite.serverType=\"Node\";\r\n\t}\r\n\tif (loc.match(/tonyuexe\\.appspot\\.com/) ||\r\n\t\tloc.match(/localhost:8887/)) {\r\n\t\tWebSite.serverTop=WebSite.top+\"/exe\"; // Fix NetModule.tonyu!!\r\n\t} else {\r\n\t\tWebSite.serverTop=WebSite.top+\"/edit\";// Fix NetModule.tonyu!!\r\n\t}\r\n\tWebSite.sampleImg=WebSite.top+\"/images\";\r\n\tWebSite.blobPath=WebSite.serverTop+\"/serveBlob\";        //TODO: urlchange!\r\n\tWebSite.isNW=(typeof process==\"object\" && (process.__node_webkit||process.__nwjs));\r\n\tWebSite.mp4Disabled=WebSite.isNW;\r\n\tWebSite.tonyuHome=\"/Tonyu/\";\r\n\tWebSite.url={\r\n\t\tgetDirInfo:WebSite.serverTop+\"/getDirInfo\",\r\n\t\tgetFiles:WebSite.serverTop+\"/File2LSSync\",\r\n\t\tputFiles:WebSite.serverTop+\"/LS2FileSync\"\r\n\t};\r\n\tWebSite.PathSep=\"/\";\r\n\tif (WebSite.isNW) {\r\n\t\tWebSite.PathSep=require(\"path\").sep;\r\n\t\tWebSite.cwd=P.directorify(process.cwd().replace(/\\\\/g,\"/\"));\r\n\t\t//WebSite.exeDir=WebSite.execDir=P.up(P.fixSep(process.execPath)); not suitable when mac\r\n\t\tif (process.env.TONYU_HOME) {\r\n\t\t\tWebSite.tonyuHome=P.directorify(process.env.TONYU_HOME);\r\n\t\t} else {\r\n\t\t\tWebSite.tonyuHome=P.rel(WebSite.cwd,\"fs/Tonyu/\");\r\n\t\t}\r\n\t\tWebSite.logdir=process.env.TONYU_LOGDIR;//\"C:/var/log/Tonyu/\";\r\n\t\tWebSite.wwwDir=P.rel(WebSite.cwd,\"www/\");\r\n\t\tWebSite.platform=process.platform;\r\n\t\tWebSite.ffmpeg=P.rel(WebSite.cwd,(WebSite.platform==\"win32\"?\r\n\t\t\t\t\"ffmpeg/bin/ffmpeg.exe\":\"ffmpeg/bin/ffmpeg\"));\r\n\t\tWebSite.pkgInfo=require(P.rel(WebSite.cwd, \"package.json\"));\r\n\t\tif (process.env.TONYU_PROJECTS) {\r\n\t\t\tWebSite.projects=process.env.TONYU_PROJECTS.replace(/\\\\/g,\"/\").split(require('path').delimiter);\r\n\t\t} else if ( WebSite.pkgInfo && WebSite.pkgInfo.config && WebSite.pkgInfo.config.prjDirs ){\r\n\t\t\tWebSite.projects=WebSite.pkgInfo.config.prjDirs.map(function (d) {\r\n\t\t\t\td=P.directorify(d);\r\n\t\t\t\tif (P.isAbsolute(d)) return d;\r\n\t\t\t\treturn P.rel(WebSite.cwd,d);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tWebSite.projects=[P.rel(WebSite.cwd,\"Projects/\"),\r\n\t\t\t\t\t\t\t\tP.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t\t}\r\n\t\tWebSite.kernelDir=P.rel(WebSite.wwwDir,\"Kernel/\");\r\n\t} else {\r\n\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/\";\r\n\t\tWebSite.projects=[P.rel(WebSite.tonyuHome,\"Projects/\")];\r\n\t}\r\n\tif (loc.match(/edit\\.tonyu\\.jp/) ||\r\n\t\tloc.match(/tonyuedit\\.appspot\\.com/) ||\r\n\t\tloc.match(/localhost:888/)) {\r\n\t\t//WebSite.kernelDir=WebSite.top+\"/Kernel/\";\r\n\t\t// kernelDir must be absolute\r\n\t\tWebSite.kernelDir=prot+\"//\"+location.host+\"/Kernel/\";\r\n\t}\r\n\tif (loc.match(/edit\\.tonyu\\.jp/) ||\r\n\t\tloc.match(/tonyuedit\\.appspot\\.com/) ||\r\n\t\tloc.match(/localhost:888/) ||\r\n\t\tWebSite.isNW) {\r\n\t\tWebSite.compiledKernel=WebSite.kernelDir+\"js/concat.js\";\r\n\t} else if (WebSite.serverType===\"BA\") {\r\n\t\tWebSite.compiledKernel=WebSite.runtime+\"lib/tonyu/kernel.js\";\r\n\t} else {\r\n\t\tWebSite.compiledKernel=\"https://edit.tonyu.jp/Kernel/js/concat.js\";\r\n\t\t//WebSite.compiledKernel=prot+\"//tonyuexe.appspot.com/Kernel/js/concat.js\";\r\n\t}\r\n\tif (loc.match(/localhost\\/tonyu2/)) {\r\n\t\tWebSite.wwwDir=prot+\"//\"+location.host+\"/tonyu2/\";\r\n\t\tWebSite.kernelDir=WebSite.wwwDir+\"Kernel/\";\r\n\t\tWebSite.compiledKernel=WebSite.kernelDir+\"js/concat.js\";\r\n\t\tWebSite.uploadTmpUrl=prot+\"//localhost/tsite/tonyu/e/cgi-bin/uploadTmp.cgi\";\r\n\t\tWebSite.newVersionUrl=prot+\"//localhost/tsite/tonyu/project/newVersion.cgi\";\r\n\t} else {\r\n\t\tWebSite.uploadTmpUrl=prot+\"//edit.tonyu.jp/cgi-bin/uploadTmp.cgi\";\r\n\t\tWebSite.newVersionUrl=prot+\"//www.tonyu.jp/project/newVersion.cgi\";\r\n\t}\r\n\r\n\tif (loc.match(/((index)|(project))2/)) {\r\n\t\tWebSite.version=2;\r\n\t\tif (WebSite.isNW) {\r\n\t\t\tWebSite.devMode=true;\r\n\t\t} else {\r\n\t\t\tWebSite.devMode=false;\r\n\t\t}\r\n\t}\r\n\tFS.setEnvProvider(new FS.Env(WebSite));\r\n\twindow.WebSite=WebSite;\r\n\treturn WebSite;\r\n});\r\n\ndefine('Assets',[\"WebSite\",\"Util\",\"Tonyu\",\"FS\"],function (WebSite,Util,Tonyu,FS) {\r\n    var Assets={};\r\n    Assets.resolve=function (url, prj, options) {\r\n        options=options||{};\r\n        var baseDir=FS.isFile(prj)?prj:prj.getDir();\r\n        if (url==null) url=\"\";\r\n        url=url.replace(/\\$\\{([a-zA-Z0-9_]+)\\}/g, function (t,name) {\r\n            return WebSite[name];\r\n        });\r\n        if (WebSite.urlAliases[url]) url=WebSite.urlAliases[url];\r\n        if (Util.startsWith(url,\"ls:\")) {\r\n            var rel=url.substring(\"ls:\".length);\r\n            if (!baseDir) throw new Error(\"Basedir not specified\");\r\n            var f=baseDir.rel(rel);\r\n            if (!f.exists()) throw new Error(\"Resource file not found: \"+f);\r\n            if (\r\n                (WebSite.mp3Disabled && rel.match(/\\.(mp3)$/)) ||\r\n                (WebSite.mp4Disabled && rel.match(/\\.(mp4|m4a)$/))\r\n            ) {\r\n                var oggf=baseDir.rel(rel.replace(/\\.(mp3|mp4|m4a)$/,\".ogg\"));\r\n                if (oggf.exists()) {\r\n                    f=oggf;\r\n                }\r\n            }\r\n            url=f.getURL();\r\n            if (options.asFile) return f;\r\n        }\r\n        return url;\r\n    };\r\n    Tonyu.Assets=Assets;\r\n    return Assets;\r\n});\r\n\ndefine('assert',[\"FS\"],function (FS){return FS.assert;});\r\n\ndefine('ImageList',[\"PatternParser\",\"Util\",\"Assets\",\"assert\"], function (PP,Util,Assets,assert) {\r\n    var cache={};\r\n    function excludeEmpty(resImgs) {\r\n        var r=[];\r\n        resImgs.forEach(function (resImg,i) {\r\n            if (!resImg || resImg.url==\"\") return;\r\n            r.push(resImg);\r\n        });\r\n        return r;\r\n    }\r\n    var IL;\r\n    IL=function (resImgs, onLoad,options) {\r\n        //  resImgs:[{url: , [pwidth: , pheight:]?  }]\r\n\t    if (!options) options={};\r\n        resImgs=excludeEmpty(resImgs);\r\n        var resa=[];\r\n        var cnt=resImgs.length;\r\n        if (cnt==0) setTimeout(function () {\r\n            var res=[];\r\n            res.names={};\r\n            onLoad(res);\r\n        },0);\r\n        resImgs.forEach(function (resImg,i) {\r\n            console.log(\"loading\", resImg,i);\r\n            var url=resImg.url;\r\n            var urlKey=url;\r\n            if (cache[urlKey]) {\r\n            \tproc.apply(cache[urlKey],[]);\r\n            \treturn;\r\n            }\r\n            url=Assets.resolve(url,options.prj||options.baseDir);\r\n            //if (!Util.startsWith(url,\"data:\")) url+=\"?\" + new Date().getTime();\r\n            var im=$(\"<img>\");\r\n            im.load(function () {\r\n            \tcache[urlKey]=this;\r\n            \tproc.apply(this,[]);\r\n            });\r\n            im.attr(\"src\",url);\r\n            function proc() {\r\n                var pw,ph;\r\n                if (resImg.type==\"single\") {\r\n                    resa[i]=[{image:this, x:0,y:0, width:this.width, height:this.height}];\r\n                } else if ((pw=resImg.pwidth) && (ph=resImg.pheight)) {\r\n                    var x=0, y=0, w=this.width, h=this.height;\r\n                    var r=[];\r\n                    while (true) {\r\n                        var rw=pw,rh=ph;\r\n                        if (x+pw>w) rw=w-x;\r\n                        if (y+ph>h) rh=h-y;\r\n                        r.push({image:this, x:x,y:y, width:rw, height:rh});\r\n                        x+=pw;\r\n                        if (x+pw>w) {\r\n                            x=0;\r\n                            y+=ph;\r\n                            if (y+ph>h) break;\r\n                        }\r\n                    }\r\n                    resa[i]=r;\r\n                } else {\r\n                    var p=new PP(this);\r\n                    resa[i]=p.parse();\r\n                }\r\n                resa[i].name=resImg.name;\r\n                assert.is(resa[i],Array);\r\n                cnt--;\r\n                if (cnt==0) {\r\n                    var res=[];\r\n                    var names={};\r\n                    resa.forEach(function (a) {\r\n                        names[a.name]=res.length;\r\n                        res=res.concat(a);\r\n                    });\r\n                    res.names=names;\r\n                    onLoad(res);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    IL.load=IL;\r\n    IL.parse1=function (resImg, imgDOM, options) {\r\n        var pw,ph;\r\n        var res;\r\n        if ((pw=resImg.pwidth) && (ph=resImg.pheight)) {\r\n            var x=0, y=0, w=imgDOM.width, h=imgDOM.height;\r\n            var r=[];\r\n            while (true) {\r\n                r.push({image:this, x:x,y:y, width:pw, height:ph});\r\n                x+=pw;\r\n                if (x+pw>w) {\r\n                    x=0;\r\n                    y+=ph;\r\n                    if (y+ph>h) break;\r\n                }\r\n            }\r\n            res=r;\r\n        } else {\r\n            var p=new PP(imgDOM,options);\r\n            res=p.parse();\r\n        }\r\n        res.name=resImg.name;\r\n        return assert.is(res,Array);\r\n    };\r\n\twindow.ImageList=IL;\r\n    return IL;\r\n});\r\n\n/*global webkitAudioContext, AudioContext, AudioBuffer, AudioBufferSourceNode, PicoAudio, Mezonet, WebSite, Util*/\r\n// forked from makkii_bcr's \"T2MediaLib\" http://jsdo.it/makkii_bcr/3ioQ\r\n\r\nvar T2MediaLib = (function(){\r\n    function isPicoAudio(bgm) {\r\n        return typeof PicoAudio!==\"undefined\" && bgm instanceof PicoAudio;\r\n    }\r\n    function isMezonetSource(bgm) {\r\n        return typeof Mezonet!==\"undefined\" && bgm instanceof Mezonet.Source;\r\n    }\r\n    var T2MediaLib = function(_context) {\r\n        this.context = null;\r\n        this.picoAudio = null;\r\n        this.soundDataAry = []; // T2MediaLib_SoundData\r\n        this.bgmPlayerMax = 16;\r\n        this.bgmPlayerAry = []; // T2MediaLib_BGMPlayer\r\n\r\n        this.masterVolume = 1.0;\r\n        this.seMasterVolume = 1.0;\r\n        this.bgmMasterVolume = 1.0;\r\n\r\n        this.playingAudio = null;\r\n        this.audioVolume = 1.0;\r\n        this.audioTempo = 1.0;\r\n        this.audioDataAry = {\r\n            data : []\r\n        };\r\n        this.seSources=[];\r\n        this.init(_context);\r\n    };\r\n\r\n    //  //\r\n    T2MediaLib.prototype.init = function(_context) {\r\n        if (this.inited) return;\r\n        this.inited=true;\r\n        if (this.disabled) return;\r\n        if (!_context) {\r\n            if (window.AudioContext) {\r\n                this.context = new AudioContext();\r\n            } else if (window.webkitAudioContext) {\r\n                this.context = new webkitAudioContext();\r\n            } else {\r\n                this.context = null;\r\n                console.log('Your browser does not support yet Web Audio API');\r\n            }\r\n        } else {\r\n            this.context = _context;\r\n        }\r\n\r\n        // Web Audio API \r\n        if (this.context) {\r\n            // BGMPlayer (16)\r\n            for (var i=0; i<this.bgmPlayerMax; i++) {\r\n                this.bgmPlayerAry[i] = new T2MediaLib_BGMPlayer(this, i);\r\n            }\r\n        }\r\n    };\r\n\r\n    // CLEAR //\r\n    T2MediaLib.prototype.allClearSoundData = function() {\r\n        var dataAry = this.soundDataAry;\r\n        for (var idx in dataAry) {\r\n            delete dataAry[idx];\r\n        }\r\n    };\r\n    T2MediaLib.prototype.clearSoundData = function(idx) {\r\n        var dataAry = this.soundDataAry;\r\n        delete dataAry[idx];\r\n    };\r\n    T2MediaLib.prototype.allRemoveDecodedSoundData = function() {\r\n        var dataAry = this.soundDataAry;\r\n        for (var idx in dataAry) {\r\n            var soundData = dataAry[idx];\r\n            if (soundData == null) continue;\r\n            if (!soundData.isDecodeComplete() && !soundData.isDecoding()) continue;\r\n            soundData.removeDecodedData();\r\n        }\r\n    };\r\n    T2MediaLib.prototype.removeDecodedSoundData = function(idx) {\r\n        var soundData = this.soundDataAry[idx];\r\n        if (soundData == null) return;\r\n        if (!soundData.isDecodeComplete() && !soundData.isDecoding()) return;\r\n        soundData.removeDecodedData();\r\n    };\r\n\r\n\r\n    // SE&BGM //\r\n    T2MediaLib.prototype.getMasterVolume = function() {\r\n        return this.masterVolume;\r\n    };\r\n    T2MediaLib.prototype.setMasterVolume = function(vol) {\r\n        this.masterVolume = vol;\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            var bgmPlayer = this.bgmPlayerAry[i];\r\n            if (!(bgmPlayer instanceof T2MediaLib_BGMPlayer)) continue;\r\n            bgmPlayer.onChangeBGMMasterVolume();\r\n        }\r\n    };\r\n\r\n    // \r\n    T2MediaLib.prototype.createSoundFromArray = function(idx, array1, array2) {\r\n        if (!this.context || this.disabled) {\r\n            return null;\r\n        }\r\n        this.soundDataAry[idx] = new T2MediaLib_SoundData(idx);\r\n\r\n        var ctx = this.context;\r\n        var numOfChannels = array1 != null && array2 != null ? 2 : 1;\r\n        var audioBuffer = ctx.createBuffer(numOfChannels, array1.length, ctx.sampleRate);\r\n        var buffer1 = audioBuffer.getChannelData(0);\r\n        var buffer2 = array2 != null ? audioBuffer.getChannelData(1) : null;\r\n        var i;\r\n        for (i = 0; i < array1.length ; i++) {\r\n             buffer1[i] = array1[i];\r\n        }\r\n        if (buffer2) {\r\n            for (i = 0; i < array2.length ; i++) {\r\n                 buffer2[i] = array2[i];\r\n            }\r\n        }\r\n        this.soundDataAry[idx].onDecodeComplete(audioBuffer);\r\n    };\r\n    // \r\n    T2MediaLib.prototype.loadSound = function(idx, url, callbacks, isLoadAndDecode) { //@hoge1e3\r\n        if (!this.context || this.disabled) {\r\n            return null;\r\n        }\r\n\r\n        this.soundDataAry[idx] = new T2MediaLib_SoundData(idx);\r\n\r\n        // midipicoAudio\r\n        if (url.match(/\\.(midi?)$/) || url.match(/^data:audio\\/mid/)) {\r\n            if (this.picoAudio == null) {\r\n                this.picoAudio = new PicoAudio(this.context);\r\n            }\r\n        }\r\n        if (typeof WebSite==\"object\" && WebSite.mp3Disabled) {\r\n            url=url.replace(/\\.(mp3)$/,\".ogg\");\r\n        }\r\n        if (typeof WebSite==\"object\" && WebSite.mp4Disabled) {\r\n            url=url.replace(/\\.(mp4|m4a)$/,\".ogg\");\r\n        }\r\n        var that = this;\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onload = function() {\r\n            if (xhr.status === 200 || xhr.status === 0 /*@hoge1e3 for node-webkit base64url */) {\r\n                var arrayBuffer = xhr.response;\r\n                if (arrayBuffer instanceof ArrayBuffer) {\r\n                    that.soundDataAry[idx].onLoadComplete(arrayBuffer);\r\n                    if (isLoadAndDecode) { // \r\n                        that.decodeSound(idx, callbacks);\r\n                    } else { // \r\n                        if (callbacks && callbacks.succ) callbacks.succ(idx);\r\n                    }\r\n                } else {\r\n                    that.soundDataAry[idx].onError(\"XHR_RESPONSE_ERROR\");\r\n                    if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n                }\r\n            } else {\r\n                that.soundDataAry[idx].onError(\"XHR_STATUS_ERROR\");\r\n                if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n            }\r\n        };\r\n        xhr.onerror=function (e) {\r\n            console.log(e+\"\");\r\n            that.soundDataAry[idx].onError(\"XHR_ERROR\");\r\n            if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n        };\r\n\r\n        this.soundDataAry[idx].onLoad(url);\r\n        if (url.match(/^data:/) && typeof Util!==\"undefined\" && Util.Base64_To_ArrayBuffer) {//@hoge1e3\r\n            xhr={onload:xhr.onload};\r\n            xhr.response=Util.Base64_To_ArrayBuffer( url.replace(/^data:audio\\/[a-zA-Z0-9\\-]+;base64,/i,\"\"));\r\n            xhr.status=200;\r\n            xhr.onload();\r\n        } else {\r\n            xhr.open('GET', url, true);\r\n            xhr.responseType = 'arraybuffer';\r\n            try {\r\n                xhr.send(null);\r\n            } catch(e) {\r\n                this.soundDataAry[idx].onError(\"FILE_NOT_FOUND\");\r\n                if (callbacks && callbacks.err) callbacks.err(idx,that.soundDataAry[idx].errorID);\r\n            }\r\n        }\r\n    };\r\n    // \r\n    T2MediaLib.prototype.decodeSound = function(idx, callbacks) {\r\n        var soundData = this.soundDataAry[idx];\r\n        if (soundData == null) return;\r\n        if (soundData.fileData == null) return;\r\n        if (!soundData.isLoadComplete()) return;\r\n        if (soundData.isDecodeComplete()) return;\r\n\r\n        // Adding Callback\r\n        if (soundData.decodedCallbacksAry == null) {\r\n            soundData.decodedCallbacksAry = []; // \r\n        }\r\n        if (callbacks) {\r\n            if (callbacks.bgmPlayerId != null) { // bgmPlayerIdcallbacks()\r\n                var exists = soundData.decodedCallbacksAry.some(function(c, i) {\r\n                    if (callbacks.bgmPlayerId == c.bgmPlayerId) {\r\n                        soundData.decodedCallbacksAry[i] = callbacks;\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n                if (!exists) {\r\n                    soundData.decodedCallbacksAry.push(callbacks);\r\n                }\r\n            } else {\r\n                soundData.decodedCallbacksAry.push(callbacks);\r\n            }\r\n        }\r\n\r\n        if (soundData.isDecoding()) return;\r\n        soundData.onDecode();\r\n        var arrayBuffer = soundData.fileData.slice(0);\r\n        var that = this;\r\n        if (soundData.url.match(/\\.(midi?)$/) || soundData.url.match(/^data:audio\\/mid/)) {\r\n            // Midi\r\n            // PicoAudio.js\r\n            if (this.picoAudio == null) {\r\n                this.picoAudio = new PicoAudio(this.context);\r\n            }\r\n            var smf = new Uint8Array(arrayBuffer);\r\n            var data = this.picoAudio.parseSMF(smf);\r\n            if (typeof data == \"string\") { // parseSMF Error\r\n                console.log('T2MediaLib: Error parseSMF()', data);\r\n                this.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, this.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            } else {\r\n                this.soundDataAry[idx].onDecodeComplete(data);\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.succ == \"function\") {\r\n                        callbacks.succ(idx);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            }\r\n        } else if (soundData.url.match(/\\.mzo$/) || soundData.url.match(/^data:audio\\/mzo/)) {\r\n            //console.log(\"Loading mzo\");\r\n            // MZO\r\n            Mezonet.init().then(function () {\r\n                var a=Array.prototype.slice.call( new Uint8Array(arrayBuffer) );\r\n                that.soundDataAry[idx].onDecodeComplete(new Mezonet.Source(a));\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.succ == \"function\") {\r\n                        callbacks.succ(idx);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            },function (error) {\r\n                if (error instanceof Error) {\r\n                    console.log('T2MediaLib: '+error.message, soundData.url);//@hoge1e3\r\n                } else {\r\n                    console.log('T2MediaLib: Error decodeMZO()', soundData.url);//@hoge1e3\r\n                }\r\n                that.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, that.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            });\r\n            /*var m=new Mezonet(this.context,a);//,{wavOutSpeed:50});\r\n            //m.load(a);\r\n            m.init().then(function (res) {\r\n                // removeDecodeSoundData()\r\n                switch(res.playbackMode.type) {\r\n                case \"Mezonet\":\r\n                that.soundDataAry[idx].onDecodeComplete(m);\r\n                break;\r\n                case \"AudioBuffer\":\r\n                //console.log(idx, res.decodedData);\r\n                that.soundDataAry[idx].onDecodeComplete(res.decodedData);\r\n                break;\r\n                }\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.succ == \"function\") {\r\n                        callbacks.succ(idx);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            },function (error) {\r\n                if (error instanceof Error) {\r\n                    console.log('T2MediaLib: '+error.message, soundData.url);//@hoge1e3\r\n                } else {\r\n                    console.log('T2MediaLib: Error decodeMZO()', soundData.url);//@hoge1e3\r\n                }\r\n                that.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, that.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            }).finally(function () {\r\n                m.terminate();\r\n            });*/\r\n        } else {\r\n            // MP3, Ogg, AAC, WAV\r\n\r\n            // Ogg(LOOPSTART, LOOPLENGTH)\r\n            if (soundData.url.match(/\\.(ogg?)$/) || soundData.url.match(/^data:audio\\/ogg/)) {\r\n                var retAry = this.searchOggLoop(arrayBuffer);\r\n                soundData.tagLoopStart = retAry[0];\r\n                soundData.tagLoopEnd = retAry[1];\r\n            }\r\n\r\n            var successCallback = function(audioBuffer) {\r\n                // removeDecodeSoundData()\r\n                if (that.soundDataAry[idx].isDecoding()) {\r\n                    that.soundDataAry[idx].onDecodeComplete(audioBuffer);\r\n                    soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                        if (typeof callbacks.succ == \"function\") {\r\n                            callbacks.succ(idx);\r\n                        }\r\n                    });\r\n                    soundData.decodedCallbacksAry = null;\r\n                }\r\n            };\r\n            var errorCallback = function(error) {\r\n                if (error instanceof Error) {\r\n                    console.log('T2MediaLib: '+error.message, soundData.url);//@hoge1e3\r\n                } else {\r\n                    console.log('T2MediaLib: Error decodeAudioData()', soundData.url);//@hoge1e3\r\n                }\r\n                that.soundDataAry[idx].onError(\"DECODE_ERROR\");\r\n                soundData.decodedCallbacksAry.forEach(function(callbacks) {\r\n                    if (typeof callbacks.err == \"function\") {\r\n                        callbacks.err(idx, that.soundDataAry[idx].errorID);\r\n                    }\r\n                });\r\n                soundData.decodedCallbacksAry = null;\r\n            };\r\n            this.context.decodeAudioData(arrayBuffer, successCallback, errorCallback);\r\n        }\r\n    };\r\n    // Web Audio API(iOS)\r\n    // Chrome Autoplay Policy \r\n    T2MediaLib.prototype.activate = function () {\r\n        this.init();\r\n        if (!this.context) return;\r\n        if (!this.isContextResumed && this.context.resume) { // fix Autoplay Policy in Chrome\r\n            var that = this;\r\n            this.context.resume().then(function () {\r\n                that.isContextResumed = true;\r\n            });\r\n        }\r\n        if (this.isActivated) return;\r\n        this.isActivated=true;\r\n        var buffer = this.context.createBuffer(1, Math.floor(this.context.sampleRate/32), this.context.sampleRate);\r\n        var ary = buffer.getChannelData(0);\r\n        for (var i = 0; i < ary.length; i++) {\r\n             ary[i] = 0; // \r\n        }\r\n        var source = this.context.createBufferSource();\r\n        source.buffer = buffer;\r\n        source.connect(this.context.destination);\r\n        source.start = source.start || source.noteOn;\r\n        source.start(0);\r\n    };\r\n    // \r\n    T2MediaLib.prototype.getSoundFileData = function(idx) {\r\n        var soundDataObj = this.soundDataAry[idx];\r\n        if (soundDataObj) {\r\n            return soundDataObj.fileData;\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n    // \r\n    T2MediaLib.prototype.getSoundDecodedData = function(idx) {\r\n        var soundDataObj = this.soundDataAry[idx];\r\n        if (soundDataObj) {\r\n            return soundDataObj.decodedData;\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n    // AudioContextcurrentTime\r\n    T2MediaLib.prototype.getCurrentTime = function () {//@hoge1e3\r\n        if (!this.context) return null;\r\n        return this.context.currentTime;\r\n    };\r\n\r\n    // SE //\r\n\r\n    T2MediaLib.prototype.playSE = function(idx, vol, pan, rate, offset, loop, loopStart, loopEnd,start,duration) {//add start,duration by @hoge1e3\r\n        if (!this.context) return null;\r\n        var soundData = this.soundDataAry[idx];\r\n        if (soundData == null) return null;\r\n        if (!soundData.isDecodeComplete()) {\r\n            var that = this;\r\n            var callbacks = {};\r\n            callbacks.succ = function(idx) {\r\n                that.playSE(idx, vol, pan, rate, offset, loop, loopStart, loopEnd,start,duration);//@hoge1e3\r\n            };\r\n            callbacks.err = function() {\r\n            };\r\n            this.decodeSound(idx, callbacks);\r\n            return null;\r\n        }\r\n        if (isMezonetSource(soundData.decodedData)) {\r\n            var playback=soundData.decodedData.playback(this.context);\r\n            playback.Start();\r\n            return playback;\r\n        }\r\n\r\n        var audioBuffer = soundData.decodedData;\r\n        if (!(audioBuffer instanceof AudioBuffer)) return null;\r\n\r\n        // \r\n        if (vol == null) {\r\n            vol = 1.0;\r\n        }\r\n        if (pan == null) {\r\n            pan = 0.0;\r\n        }\r\n        if (!rate) rate = 1.0;\r\n        if (!offset) {\r\n            offset = 0;\r\n        } else {\r\n            if      (offset > audioBuffer.duration) offset = audioBuffer.duration;\r\n            else if (offset < 0.0) offset = 0.0;\r\n        }\r\n        var durationStart = duration;\r\n        if (!duration) {\r\n            //duration=undefined; // iOS9duration==undefinedsource.start(start, offset, duration);\r\n            durationStart = 86400; // Number.MAX_SAFE_INTEGERiOS986400(24)\r\n        }\r\n        if (!loop) loop = false;\r\n        if (!loopStart) {\r\n            loopStart = soundData.loopStart||0.0;\r\n        } else {\r\n            if      (loopStart < 0.0) loopStart = 0.0;\r\n            else if (loopStart > audioBuffer.duration) loopStart = audioBuffer.duration;\r\n        }\r\n        if (!loopEnd) {\r\n            loopEnd = audioBuffer.duration;\r\n        } else {\r\n            if      (loopEnd < 0.0) loopEnd = 0.0;\r\n            else if (loopEnd > audioBuffer.duration) loopEnd = audioBuffer.duration;\r\n        }\r\n        start=start||0;//@hoge1e3\r\n\r\n        var source = this.context.createBufferSource();\r\n        this.context.createGain = this.context.createGain || this.context.createGainNode;\r\n        var gainNode = this.context.createGain();\r\n        var panNode = this.context.createPanner();\r\n\r\n        source.buffer = audioBuffer;\r\n        source.loop = loop;\r\n        source.loopStart = loopStart;\r\n        source.loopEnd = loopEnd;//audioBuffer.duration;\r\n        source.playbackRate.value = rate;\r\n\r\n        // \r\n        source.connect(gainNode);\r\n        gainNode.connect(panNode);\r\n        panNode.connect(this.context.destination);\r\n        panNode.panningModel = \"equalpower\";\r\n        if      (pan < -1.0) pan = -1.0;\r\n        else if (pan >  1.0) pan =  1.0;\r\n        var panAngle = pan * 90;\r\n        var panX = Math.sin(panAngle * (Math.PI / 180));\r\n        var panZ = -Math.cos(panAngle * (Math.PI / 180));\r\n        if (pan === -1.0 || pan === 1.0) panZ = 0; // 6.123233995736766e-170\r\n        if (panNode.positionX) {\r\n            panNode.positionX.value = panX;\r\n            panNode.positionY.value = 0;\r\n            panNode.positionZ.value = panZ;\r\n        } else {\r\n            panNode.setPosition(panX, 0, panZ);\r\n        }\r\n        // \r\n        //gainNode.gain.value = vol / (1 + Math.abs(pan));\r\n        // \r\n        gainNode.gain.value = vol * this.seMasterVolume * this.masterVolume;\r\n\r\n        // \r\n        var offset_adj;\r\n        if (loop && loopEnd - loopStart > 0 && offset > loopEnd) {\r\n            offset_adj = loopEnd;\r\n        } else {\r\n            offset_adj = offset;\r\n        }\r\n\r\n        // \r\n        source.gainNode = gainNode;\r\n        source.volumeValue = vol;\r\n        source.panNode = panNode;\r\n        source.panValue = pan;\r\n        source.playStartTime = this.context.currentTime+start;//@hoge1e3\r\n        source.playOffset = offset_adj;\r\n        source.plusTime = offset_adj;\r\n\r\n        // \r\n        source.start = source.start || source.noteOn;\r\n        source.stop  = source.stop  || source.noteOff;\r\n        source.start(start, offset, durationStart);\r\n        // iOS, Firefoxlooptrueduration\r\n        // iOSstopInvalidStateError\r\n        if (loop && duration != null) source.stop(start + duration);\r\n        var t=this;\r\n        t.seSources.push(source);\r\n        source.onended = function(event) {\r\n            source.onended = null;\r\n            var idx=t.seSources.indexOf(source);\r\n            if (idx>=0) t.seSources.splice(idx,1);\r\n        };\r\n        return source;\r\n    };\r\n    T2MediaLib.prototype.stopSE = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        try {\r\n            sourceObj.stop(0);\r\n        } catch(e) { // iOS\r\n            // iOSstopInvalidStateError\r\n            if (sourceObj.gainNode) {\r\n                sourceObj.gainNode.gain.cancelScheduledValues(this.context.currentTime);\r\n                sourceObj.gainNode.gain.linearRampToValueAtTime(0, this.context.currentTime);\r\n            }\r\n        }\r\n        return sourceObj;\r\n    };\r\n    T2MediaLib.prototype.stopAllSE = function(sourceObj) {\r\n        var t=this;\r\n        this.seSources.forEach(function (s) {\r\n            t.stopSE(s);\r\n        });\r\n    };\r\n    T2MediaLib.prototype.getSEMasterVolume = function() {\r\n        return this.seMasterVolume;\r\n    };\r\n    T2MediaLib.prototype.setSEMasterVolume = function(vol) {\r\n        this.seMasterVolume = vol;\r\n    };\r\n    T2MediaLib.prototype.getSEVolume = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        return sourceObj.volumeValue;\r\n    };\r\n    T2MediaLib.prototype.setSEVolume = function(sourceObj, vol) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        sourceObj.gainNode.gain.value = vol * this.seMasterVolume * this.masterVolume;\r\n        sourceObj.volumeValue = vol;\r\n        return sourceObj;\r\n    };\r\n    T2MediaLib.prototype.getSERate = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        return sourceObj.playbackRate.value;\r\n    };\r\n    T2MediaLib.prototype.setSERate = function(sourceObj, rate) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        sourceObj.playbackRate.value = rate;\r\n    };\r\n    T2MediaLib.prototype.getSEPan = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        return sourceObj.panValue;\r\n    };\r\n    T2MediaLib.prototype.setSEPan = function(sourceObj, pan) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        var panNode = sourceObj.panNode;\r\n        if      (pan < -1.0) pan = -1.0;\r\n        else if (pan >  1.0) pan =  1.0;\r\n        var panAngle = pan * 90;\r\n        var panX = Math.sin(panAngle * (Math.PI / 180));\r\n        var panZ = Math.cos(panAngle * (Math.PI / 180));\r\n        if (pan === -1.0 || pan === 1.0) panZ = 0; // 6.123233995736766e-170\r\n        if (panNode.positionX) {\r\n            panNode.positionX.value = panX;\r\n            panNode.positionY.value = 0;\r\n            panNode.positionZ.value = panZ;\r\n        } else {\r\n            panNode.setPosition(panX, 0, panZ);\r\n        }\r\n        sourceObj.panValue = pan;\r\n    };\r\n    T2MediaLib.prototype.isSELoop = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        return sourceObj.loop;\r\n    };\r\n    T2MediaLib.prototype.setSELoop = function(sourceObj, loop) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        sourceObj.loop = loop;\r\n    };\r\n    T2MediaLib.prototype.getSELoopStartTime = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        return sourceObj.loopStart;\r\n    };\r\n    T2MediaLib.prototype.setSELoopStartTime = function(sourceObj, loopStart) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        sourceObj.loopStart = loopStart;\r\n    };\r\n    T2MediaLib.prototype.getSELoopEndTime = function(sourceObj) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        return sourceObj.loopEnd;\r\n    };\r\n    T2MediaLib.prototype.setSELoopEndTime = function(sourceObj, loopEnd) {\r\n        if (!(sourceObj instanceof AudioBufferSourceNode)) return null;\r\n        sourceObj.loopEnd = loopEnd;\r\n    };\r\n\r\n    // BGM //\r\n\r\n    T2MediaLib.prototype.playBGM = function(id, idx, loop, offset, loopStart, loopEnd) {\r\n        if (!this.context) return null;\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.playBGM(idx, loop, offset, loopStart, loopEnd);\r\n    };\r\n    T2MediaLib.prototype.stopBGM = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.stopBGM();\r\n    };\r\n    T2MediaLib.prototype.pauseBGM = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.pauseBGM();\r\n    };\r\n    T2MediaLib.prototype.resumeBGM = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.resumeBGM();\r\n    };\r\n    T2MediaLib.prototype.getBGMMasterVolume = function() {\r\n        return this.bgmMasterVolume;\r\n    };\r\n    T2MediaLib.prototype.setBGMMasterVolume = function(vol) {\r\n        this.bgmMasterVolume = vol;\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            var bgmPlayer = this.bgmPlayerAry[i];\r\n            if (!(bgmPlayer instanceof T2MediaLib_BGMPlayer)) continue;\r\n            bgmPlayer.onChangeBGMMasterVolume();\r\n        }\r\n    };\r\n    T2MediaLib.prototype.getBGMVolume = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMVolume();\r\n    };\r\n    T2MediaLib.prototype.setBGMVolume = function(id, vol) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMVolume(vol);\r\n    };\r\n    T2MediaLib.prototype.getBGMTempo = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMTempo();\r\n    };\r\n    T2MediaLib.prototype.setBGMTempo = function(id, tempo) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMTempo(tempo);\r\n    };\r\n    T2MediaLib.prototype.getBGMPan = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMPan();\r\n    };\r\n    T2MediaLib.prototype.setBGMPan = function(id, pan) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMPan(pan);\r\n    };\r\n    T2MediaLib.prototype.isBGMLoop = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.isBGMLoop();\r\n    };\r\n    T2MediaLib.prototype.setBGMLoop = function(id, loop) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMLoop(loop);\r\n    };\r\n    T2MediaLib.prototype.getBGMLoopStartTime = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMLoopStartTime();\r\n    };\r\n    T2MediaLib.prototype.setBGMLoopStartTime = function(id, loopStart) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMLoopStartTime(loopStart);\r\n    };\r\n    T2MediaLib.prototype.getBGMLoopEndTime = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMLoopEndTime();\r\n    };\r\n    T2MediaLib.prototype.setBGMLoopEndTime = function(id, loopEnd) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setBGMLoopEndTime(loopEnd);\r\n    };\r\n    T2MediaLib.prototype.getBGMCurrentTime = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMCurrentTime();\r\n    };\r\n    T2MediaLib.prototype.getBGMLength = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMLength();\r\n    };\r\n    T2MediaLib.prototype.getPlayingBGMName = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getPlayingBGMName();\r\n    };\r\n    T2MediaLib.prototype.setOnBGMEndListener = function(id, listener) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setOnBGMEndListener(listener);\r\n    };\r\n    T2MediaLib.prototype.getPlayingBGMState = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getPlayingBGMState();\r\n    };\r\n    T2MediaLib.prototype.getBGMPicoAudio = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.getBGMPicoAudio();\r\n    };\r\n    T2MediaLib.prototype.isTagLoop = function(id) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.isTagLoop();\r\n    };\r\n    T2MediaLib.prototype.setTagLoop = function(id, isTagLoop) {\r\n        var bgmPlayer = this._getBgmPlayer(id);\r\n        if (!bgmPlayer) return null;\r\n        return bgmPlayer.setTagLoop(isTagLoop);\r\n    };\r\n    T2MediaLib.prototype.getBGMPlayerMax = function() {\r\n        return this.bgmPlayerMax;\r\n    };\r\n    T2MediaLib.prototype.allStopBGM = function() {\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            this.stopBGM(i);\r\n        }\r\n    };\r\n    T2MediaLib.prototype.allResetBGM = function() {\r\n        for (var i=0; i<this.bgmPlayerMax; i++) {\r\n            this.stopBGM(i);\r\n            this.setBGMVolume(i, 1.0);\r\n            this.setBGMTempo(i, 1.0);\r\n            this.setBGMPan(i, 0.0);\r\n        }\r\n        this.setMasterVolume(1.0);\r\n        this.setSEMasterVolume(1.0);\r\n        this.setBGMMasterVolume(1.0);\r\n    };\r\n    T2MediaLib.prototype._getBgmPlayer = function(id) {\r\n        if (id < 0 || this.bgmPlayerMax <= id) return null;\r\n        var bgmPlayer = this.bgmPlayerAry[id];\r\n        if (!(bgmPlayer instanceof T2MediaLib_BGMPlayer)) return null;\r\n        return bgmPlayer;\r\n    };\r\n\r\n    // Audio //\r\n\r\n    T2MediaLib.prototype.loadAudio = function(idx, url) {\r\n        var audio = new Audio(url);\r\n        audio.play();\r\n\r\n        this.audioDataAry.data[idx] = null;\r\n\r\n        var that = this;\r\n        audio.addEventListener('loadstart', function() {\r\n            if (!that.context) return null;\r\n            var source = that.context.createMediaElementSource(audio);\r\n            source.connect(that.context.destination);\r\n        }, false);\r\n\r\n        audio.addEventListener('canplay', function() {\r\n            this.audioDataAry.data[idx] = audio;\r\n        }, false);\r\n\r\n        audio.load();\r\n\r\n    };\r\n    T2MediaLib.prototype.playAudio = function(idx, loop, startTime) {\r\n        var audio = this.audioDataAry.data[idx];\r\n        if (!audio) return null;\r\n        if (!startTime) startTime = 0;\r\n\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.pause();\r\n            this.playingAudio.currentTime = 0;\r\n        }\r\n        this.playingAudio = audio;\r\n        audio.loop = loop;\r\n        audio.volume = this.audioVolume;\r\n        audio.currentTime = startTime;\r\n        audio.play();\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.stopAudio = function() {\r\n        var audio = this.playingAudio;\r\n        if (!(audio instanceof Audio)) return null;\r\n        audio.pause();\r\n        audio.currentTime = 0;\r\n        this.playingAudio = null;\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.pauseAudio = function() {\r\n        var audio = this.playingAudio;\r\n        if (!audio) return null;\r\n        audio.pause();\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.resumeAudio = function() {\r\n        var audio = this.playingAudio;\r\n        if (!audio) return null;\r\n        audio.play();\r\n        return audio;\r\n    };\r\n    T2MediaLib.prototype.setAudioVolume = function(vol) {\r\n        this.audioVolume = vol;\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.volume = vol;\r\n        }\r\n    };\r\n    T2MediaLib.prototype.setAudioTempo = function(tempo) {\r\n        this.audioTempo = tempo;\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.playbackRate = tempo;\r\n        }\r\n    };\r\n    T2MediaLib.prototype.setAudioPosition = function(time) {\r\n        if (this.playingAudio instanceof Audio) {\r\n            this.playingAudio.currentTime = time;\r\n        }\r\n    };\r\n    T2MediaLib.prototype.getAudioData = function(idx) {\r\n        return this.audioDataAry.data[idx];\r\n    };\r\n    T2MediaLib.prototype.getAudioCurrentTime = function() {\r\n        if (!(this.playingAudio instanceof Audio)) return null;\r\n        return this.playingAudio.currentTime;\r\n    };\r\n    T2MediaLib.prototype.getAudioLength = function() {\r\n        if (!(this.playingAudio instanceof Audio)) return null;\r\n        return this.playingAudio.duration;\r\n    };\r\n\r\n    // Ogg //\r\n    T2MediaLib.prototype.searchOggLoop = function(arrayBuffer) {\r\n        var buf = new Uint8Array(arrayBuffer.slice(0, 3000));\r\n        var str = String.fromCharCode.apply(null, buf);\r\n        var isVorbis = str.lastIndexOf(\"vorbis\", 0x22);\r\n        if (isVorbis == -1) return [0, 0]; // Vorbis\r\n        var startIdx = str.indexOf(\"LOOPSTART=\");\r\n        var lengthIdx = str.indexOf(\"LOOPLENGTH=\");\r\n        var loopStart = 0;\r\n        var loopLength = 0;\r\n        var sampleRate = buf[40] + (buf[41]<<8) + (buf[42]<<16) + (buf[43]<<24);\r\n        var tagSize,i,c;\r\n        if (startIdx != -1) {\r\n            tagSize = buf[startIdx] + (buf[startIdx+1]<<8) + (buf[startIdx+2]<<16) + (buf[startIdx+3]<<24);\r\n            for (i=startIdx+10; i<startIdx+tagSize; i++) {\r\n                c = str[i];\r\n                if (c < '0' || c > '9') break;\r\n                loopStart = loopStart*10 + (c - '0');\r\n            }\r\n        }\r\n        if (lengthIdx != -1) {\r\n            tagSize = buf[lengthIdx] + (buf[lengthIdx+1]<<8) + (buf[lengthIdx+2]<<16) + (buf[lengthIdx+3]<<24);\r\n            for (i=lengthIdx+11; i<lengthIdx+tagSize; i++) {\r\n                c = str[i];\r\n                if (c < '0' || c > '9') break;\r\n                loopLength = loopLength*10 + (c - '0');\r\n            }\r\n        }\r\n        // \r\n        var loopEnd = (loopStart + loopLength) / sampleRate;\r\n        loopStart /= sampleRate;\r\n        return [loopStart, loopEnd];\r\n    };\r\n\r\n    return T2MediaLib;\r\n})();\r\n\r\n\r\n\r\nvar T2MediaLib_BGMPlayer = (function(){\r\n    function isPicoAudio(bgm) {\r\n        return typeof PicoAudio!==\"undefined\" && bgm instanceof PicoAudio;\r\n    }\r\n    function isMezonetSource(bgm) {\r\n        return typeof Mezonet!==\"undefined\" && bgm instanceof Mezonet.Source;\r\n    }\r\n    function isMezonetPlayback(bgm) {\r\n        return typeof Mezonet!==\"undefined\" && bgm instanceof Mezonet.Playback;\r\n    }\r\n    var T2MediaLib_BGMPlayer = function(t2MediaLib, arg_id) {\r\n        this.t2MediaLib = t2MediaLib;\r\n        this.id = arg_id;\r\n        this.playingBGMState = \"stop\";\r\n        this.playingBGMStatePending = null;\r\n        this.playingBGM = null;\r\n        this.playingBGMName = null;\r\n        this.bgmPause = 0;\r\n        this.bgmPauseTime = 0;\r\n        this.bgmPauseCurrentTime = 0;\r\n        this.bgmPauseTempo = 0;\r\n        this.bgmPauseLoop = false;\r\n        this.bgmPauseLoopStart = 0;\r\n        this.bgmPauseLoopEnd = 0;\r\n        this.bgmVolume = 1.0;\r\n        this.bgmTempo = 1.0;\r\n        this.bgmPan = 0.0;\r\n        this.picoAudio = null;//new PicoAudio(this.context);\r\n        this.picoAudioSetDataBGMName = null; // setDatasetData\r\n        this.PICO_AUDIO_VOLUME_COEF = 1;//0.2;\r\n        this.isTagLoop = true; // Ogg VorbisLOOPSTART,LOOPLENGTH\r\n    };\r\n\r\n    // BGM //\r\n\r\n    T2MediaLib_BGMPlayer.prototype.playBGM = function(idx, loop, offset, loopStart, loopEnd) {\r\n        this.stopBGM();\r\n\r\n        var soundData = this.t2MediaLib.soundDataAry[idx];\r\n        if (soundData == null) return null;\r\n        if (!soundData.isDecodeComplete()) {\r\n            var that = this;\r\n            var callbacks = {};\r\n            callbacks.bgmPlayerId = this.id;\r\n            callbacks.succ = function() {\r\n                var succFunc = function() {\r\n                    var pending = that.playingBGMStatePending; // \r\n                    that._setPlayingBGMState(\"stop\", true);\r\n                    if (pending != \"stop\" && that.playingBGMName == idx) {\r\n                        that.playBGM(idx, loop, offset, loopStart, loopEnd);\r\n                    }\r\n                    if (pending == \"pause\") {\r\n                        that.pauseBGM();\r\n                    }\r\n                };\r\n                var decodedData = soundData.decodedData;\r\n                if (decodedData instanceof Object) { // MIDI\r\n                    // MIDIAudioContext.currenTime\r\n                    // playBGM\r\n                    setTimeout(function(){succFunc();}, 0);\r\n                } else { // MP3, Ogg, AAC, WAV\r\n                    succFunc();\r\n                }\r\n            };\r\n            callbacks.err = function() {\r\n                that._setPlayingBGMState(\"stop\", true);\r\n            };\r\n            this.playingBGMName = idx;\r\n            this._setPlayingBGMState(\"decoding\", true);\r\n            this._setPlayingBGMState(\"play\");\r\n            this.t2MediaLib.decodeSound(idx, callbacks);\r\n            return this;\r\n        }\r\n\r\n        var decodedData = soundData.decodedData;\r\n        if (isMezonetSource(decodedData)) {\r\n            var m=decodedData.playback(this.t2MediaLib.context);\r\n            this.playingBGM = m;\r\n            m.Start();\r\n        } else if (decodedData instanceof AudioBuffer) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.isTagLoop) {\r\n                loopStart = loopStart||soundData.tagLoopStart;\r\n                loopEnd = loopEnd||soundData.tagLoopEnd;\r\n            }\r\n            this.playingBGM = this.t2MediaLib.playSE(idx, this.bgmVolume, this.bgmPan, this.bgmTempo, offset, loop, loopStart, loopEnd);\r\n        } else if (decodedData instanceof Object) {\r\n            // Midi\r\n            this._initPicoAudio();\r\n            if (idx != this.picoAudioSetDataBGMName) {\r\n                this.picoAudio.setData(decodedData);\r\n                this.picoAudioSetDataBGMName = idx;\r\n            } else {\r\n                this.picoAudio.initStatus();\r\n            }\r\n            this.picoAudio.setLoop(loop);\r\n            this.picoAudio.setMasterVolume(this.PICO_AUDIO_VOLUME_COEF * this.bgmVolume *\r\n                 this.t2MediaLib.bgmMasterVolume * this.t2MediaLib.masterVolume);\r\n            if (!offset) {\r\n                offset = 0;\r\n            } else {\r\n                var bgmLengthTime = this.picoAudio.getTime(Number.MAX_SAFE_INTEGER);\r\n                if      (offset > bgmLengthTime) offset = bgmLengthTime;\r\n                else if (offset < 0.0) offset = 0.0;\r\n            }\r\n            this.picoAudio.setStartTime(offset);\r\n            this.picoAudio.play();\r\n            this.playingBGM = this.picoAudio;\r\n        }\r\n        this.playingBGMName = idx;\r\n        this.bgmPause = 0;\r\n        this._setPlayingBGMState(\"play\");\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.stopBGM = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.Stop();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            this.picoAudio.stop();\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            try {\r\n                bgm.stop(0);\r\n            } catch(e) { // iOS\r\n                // iOSstopInvalidStateError\r\n                if (bgm.gainNode) {\r\n                    bgm.gainNode.gain.cancelScheduledValues(this.t2MediaLib.context.currentTime);\r\n                    bgm.gainNode.gain.linearRampToValueAtTime(0, this.t2MediaLib.context.currentTime);\r\n                }\r\n            }\r\n        }\r\n        this.playingBGM = null;\r\n        this.playingBGMName = null;\r\n        this._setPlayingBGMState(\"stop\");\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.pauseBGM = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.pause();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            if (this.bgmPause === 0) {\r\n                this.bgmPauseTime = this.getBGMCurrentTime();\r\n                this.bgmPauseCurrentTime = bgm.context.currentTime;\r\n                bgm.stop();\r\n                this.bgmPause = 1;\r\n            }\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 0) {\r\n                this.bgmPauseTime = this.getBGMCurrentTime();\r\n                this.bgmPauseLoopStart = this.t2MediaLib.getSELoopStartTime(bgm);\r\n                this.bgmPauseLoopEnd = this.t2MediaLib.getSELoopEndTime(bgm);\r\n                this.bgmPauseLoop = this.t2MediaLib.isSELoop(bgm);\r\n                this.bgmPauseCurrentTime = bgm.context.currentTime;\r\n                this.bgmPauseTempo = this.bgmTempo;\r\n                try {\r\n                    bgm.stop(0);\r\n                } catch(e) { // iOS\r\n                    // iOSstopInvalidStateError\r\n                    if (bgm.gainNode) {\r\n                        bgm.gainNode.gain.cancelScheduledValues(this.t2MediaLib.context.currentTime);\r\n                        bgm.gainNode.gain.linearRampToValueAtTime(0, this.t2MediaLib.context.currentTime);\r\n                    }\r\n                }\r\n                this.bgmPause = 1;\r\n            }\r\n        }\r\n        if (this.playingBGMState != \"stop\") {\r\n            this._setPlayingBGMState(\"pause\");\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.resumeBGM = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.resume();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            if (this.bgmPause === 1) {\r\n                bgm.play();\r\n                this.bgmPause = 0;\r\n            }\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                bgm = this.playBGM(this.playingBGMName, this.bgmPauseLoop, this.bgmPauseTime, this.bgmPauseLoopStart, this.bgmPauseLoopEnd);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.onChangeBGMMasterVolume = function() {\r\n        this.setBGMVolume(this.getBGMVolume());\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMVolume = function() {\r\n        return this.bgmVolume;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMVolume = function(vol) {\r\n        var bgm = this.playingBGM;\r\n        this.bgmVolume = vol;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.setVolume(vol);\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            this.picoAudio.setMasterVolume(this.PICO_AUDIO_VOLUME_COEF * vol * this.t2MediaLib.bgmMasterVolume * this.t2MediaLib.masterVolume);\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            bgm.gainNode.gain.value = vol * this.t2MediaLib.bgmMasterVolume * this.t2MediaLib.masterVolume;\r\n            //seMasterVolume\r\n            //this.t2MediaLib.setSEVolume(bgm, vol);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMTempo = function() {\r\n        return this.bgmTempo;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMTempo = function(tempo) {\r\n        // MP3, Ogg, AAC, WAV\r\n        var bgm = this.playingBGM;\r\n\r\n        if (tempo <= 0 || isNaN(tempo)) tempo = 1;\r\n        if (isMezonetPlayback(bgm)){\r\n            bgm.setRate(tempo);\r\n            return this;\r\n        } else if ((bgm instanceof AudioBufferSourceNode) && this.bgmPause === 0) {\r\n            bgm.plusTime -= (this.t2MediaLib.context.currentTime - bgm.playStartTime) * (tempo - this.bgmTempo);\r\n        }\r\n        this.bgmTempo = tempo;\r\n        this.t2MediaLib.setSERate(bgm, tempo);\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMPan = function() {\r\n        return this.bgmPan;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMPan = function(pan) {\r\n        var bgm = this.playingBGM;\r\n        this.bgmPan = pan;\r\n        if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            this.t2MediaLib.setSEPan(bgm, pan);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.isBGMLoop = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return this.picoAudio.isLoop();\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                return this.bgmPauseLoop;\r\n            } else {\r\n                return this.t2MediaLib.isSELoop(bgm);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMLoop = function(loop) {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            this.picoAudio.setLoop(loop);\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                this.bgmPauseLoop = loop;\r\n            } else {\r\n                this.t2MediaLib.setSELoop(bgm, loop);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMLoopStartTime = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return 0;\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                return this.bgmPauseLoopStart;\r\n            } else {\r\n                return this.t2MediaLib.getSELoopStartTime(bgm);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMLoopStartTime = function(loopStart) {\r\n        var bgm = this.playingBGM;\r\n        if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                this.bgmPauseLoopStart = loopStart;\r\n            } else {\r\n                return this.t2MediaLib.setSELoopStartTime(bgm, loopStart);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMLoopEndTime = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return this.getBGMLength();\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                return this.bgmPauseLoopEnd;\r\n            } else {\r\n                return this.t2MediaLib.getSELoopEndTime(bgm);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setBGMLoopEndTime = function(loopEnd) {\r\n        var bgm = this.playingBGM;\r\n        if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            if (this.bgmPause === 1) {\r\n                this.bgmPauseLoopEnd = loopEnd;\r\n            } else {\r\n                return this.t2MediaLib.setSELoopEndTime(bgm, loopEnd);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMCurrentTime = function() {\r\n        var bgm = this.playingBGM;\r\n        var time;\r\n        if (isMezonetPlayback(bgm)){\r\n            return bgm.getTrackTime();\r\n        } else if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            if (this.bgmPause === 0) {\r\n                time = this.picoAudio.context.currentTime - this.picoAudio.states.startTime;\r\n            } else {\r\n                time = this.bgmPauseTime;\r\n            }\r\n            return time;\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            var time2, currenTime, tempo, plusTime, minusTime, mod;\r\n\r\n            if (this.bgmPause === 0) {\r\n                currenTime = this.t2MediaLib.context.currentTime;\r\n                tempo = this.bgmTempo;\r\n            } else {\r\n                currenTime = this.bgmPauseCurrentTime;\r\n                tempo = this.bgmPauseTempo;\r\n            }\r\n\r\n            time2 = (currenTime - bgm.playStartTime) * tempo + bgm.plusTime;\r\n            if (bgm.loop) {\r\n                if (bgm.loopEnd - bgm.loopStart > 0) { // \r\n\r\n                    if (time2 < bgm.loopStart) { // \r\n                        plusTime  = 0;\r\n                        minusTime = 0;\r\n                        mod = bgm.buffer.duration;\r\n                    } else { // \r\n                        plusTime  = bgm.loopStart;\r\n                        minusTime = bgm.loopStart;\r\n                        mod = bgm.loopEnd - bgm.loopStart;\r\n                    }\r\n                } else { // \r\n                    mod = bgm.buffer.duration;\r\n                    plusTime = 0;\r\n                    minusTime = 0;\r\n                }\r\n            }\r\n\r\n            if (bgm.loop) {\r\n                time = ((time2 - minusTime) % mod) + plusTime;\r\n            } else {\r\n                time = time2;\r\n                if (time > bgm.buffer.duration) time = bgm.buffer.duration;\r\n            }\r\n            return time;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMLength = function() {\r\n        var bgm = this.playingBGM;\r\n        if (isPicoAudio(bgm)) {\r\n            // Midi\r\n            return this.picoAudio.getTime(Number.MAX_SAFE_INTEGER);\r\n        } else if (bgm instanceof AudioBufferSourceNode) {\r\n            // MP3, Ogg, AAC, WAV\r\n            return bgm.buffer.duration;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getPlayingBGMName = function() {\r\n        return this.playingBGMName;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setOnBGMEndListener = function(listener) {\r\n        if (this.picoAudio != null) {\r\n            this.picoAudio.setOnSongEndListener(listener);\r\n        }\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getPlayingBGMState = function() {\r\n        return this.playingBGMState;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.getBGMPicoAudio = function() {\r\n        this._initPicoAudio();\r\n        return this.picoAudio;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.isTagLoop = function() {\r\n        return this.isTagLoop;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype.setTagLoop = function(isTagLoop) {\r\n        this.isTagLoop = isTagLoop;\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype._setPlayingBGMState = function(state, force) {\r\n        if (force || this.playingBGMState != \"decoding\") {\r\n            this.playingBGMState = state;\r\n            this.playingBGMStatePending = null;\r\n        } else {\r\n            this.playingBGMStatePending = state;\r\n        }\r\n    };\r\n\r\n    T2MediaLib_BGMPlayer.prototype._initPicoAudio = function() {\r\n        if (this.picoAudio == null) {\r\n            if (this.id == 0) {\r\n                this.picoAudio = this.t2MediaLib.picoAudio; // 0T2MediaLib.picoAudio\r\n            }\r\n            if (this.picoAudio == null) {\r\n                this.picoAudio = new PicoAudio(this.t2MediaLib.context, this.t2MediaLib.picoAudio); // AudioContextmax6\r\n            }\r\n        }\r\n    };\r\n\r\n    return T2MediaLib_BGMPlayer;\r\n})();\r\n\r\n\r\n\r\nvar T2MediaLib_SoundData = (function(){\r\n    var T2MediaLib_SoundData = function(idx, url) {\r\n        // \"none\"    :\r\n        // \"loading\" :\r\n        // \"loaded\"  :\r\n        // \"decoding\":\r\n        // \"decoded\" :\r\n        // \"error\"   :\r\n        this.idx = idx;\r\n        this.state = \"none\";\r\n        this.errorID = null;\r\n        this.url = null;\r\n        this.fileData = null;\r\n        this.decodedData = null;\r\n        this.decodedCallbacksAry = null;\r\n        this.tagLoopStart = 0;\r\n        this.tagLoopEnd = 0;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onLoad = function(url) {\r\n        this.state = \"loading\";\r\n        this.url = url;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onLoadComplete = function(data) {\r\n        this.state = \"loaded\";\r\n        this.fileData = data;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onDecode = function() {\r\n        this.state = \"decoding\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onDecodeComplete = function(data) {\r\n        this.state = \"decoded\";\r\n        this.decodedData = data;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.onError = function(errorID) {\r\n        this.state = \"error\";\r\n        this.errorID = errorID;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isNone = function() {\r\n        return this.state == \"none\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isLoadComplete = function() {\r\n        switch(this.state) {\r\n            case \"loaded\":\r\n            case \"decoding\":\r\n            case \"decoded\":\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isDecoding = function() {\r\n        return this.state == \"decoding\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.isDecodeComplete = function() {\r\n        return this.state == \"decoded\";\r\n    };\r\n\r\n    T2MediaLib_SoundData.prototype.removeDecodedData = function() {\r\n        this.state = \"loaded\";\r\n        this.decodedData = null;\r\n    };\r\n\r\n    return T2MediaLib_SoundData;\r\n})();\r\n// r.jsfunction(){...var T2Media...}() \r\nwindow.T2MediaLib=T2MediaLib;\r\nwindow.T2MediaLib_BGMPlayer=T2MediaLib_BGMPlayer;\r\nwindow.T2MediaLib_SoundData=T2MediaLib_SoundData;\r\n\ndefine(\"T2MediaLib\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.T2MediaLib;\n    };\n}(this)));\n\ndefine('exceptionCatcher',[], function () {\r\n    var res={};\r\n    res.f=function (f) {\r\n        if (typeof f==\"function\") {\r\n            if (f.isTrcf) return f;\r\n            var r=function () {\r\n                if (res.handleException && !res.enter) {\r\n                    try {\r\n                        res.enter=true;\r\n                        return f.apply(this,arguments);\r\n                    } catch (e) {\r\n                        res.handleException(e);\r\n                    } finally {\r\n                        res.enter=false;\r\n                    }\r\n                } else {\r\n                    return f.apply(this,arguments);\r\n                }\r\n            };\r\n            r.isTrcf=true;\r\n            return r;\r\n        } else if(typeof f==\"object\") {\r\n            for (var k in f) {\r\n                f[k]=res.f(f[k]);\r\n            }\r\n            return f;\r\n        }\r\n    };\r\n    //res.handleException=function (){};\r\n    return res;\r\n});\ndefine('UI',[\"Util\",\"exceptionCatcher\"],function (Util, EC) {\r\n    var UI={};\r\n    var F=EC.f;\r\n    UI=function () {\r\n        var expr=[];\r\n        for (var i=0 ; i<arguments.length ; i++) {\r\n            expr[i]=arguments[i];\r\n        }\r\n        var listeners=[];\r\n        var $vars={};\r\n        var $edits=[];\r\n        var res=parse(expr);\r\n        res.$edits=$edits;\r\n        res.$vars=$vars;\r\n        $.data(res,\"edits\",$edits);\r\n        $.data(res,\"vars\",$vars);\r\n        $edits.load=function (model) {\r\n            $edits.model=model;\r\n            $edits.forEach(function (edit) {\r\n                $edits.writeToJq(edit.params.$edit, edit.jq);\r\n            });\r\n            $edits.validator.on.validate.call($edits.validator, $edits.model);\r\n        };\r\n        $edits.writeToJq=function ($edit, jq) {\r\n        \tvar m=$edits.model;\r\n            if (!m) return;\r\n            var name = $edit.name;\r\n            var a=name.split(\".\");\r\n            for (var i=0 ; i<a.length ;i++) {\r\n                m=m[a[i]];\r\n            }\r\n            m=$edit.type.toVal(m);\r\n            if (jq.attr(\"type\")==\"checkbox\") {\r\n                jq.prop(\"checked\",!!m);\r\n            } else {\r\n                jq.val(m);\r\n            }\r\n        };\r\n        $edits.validator={\r\n       \t\terrors:{},\r\n       \t\tshow: function () {\r\n       \t\t\tif ($vars.validationMessage) {\r\n       \t\t\t\t$vars.validationMessage.empty();\r\n       \t\t\t\tfor (var name in this.errors) {\r\n       \t\t\t\t\t$vars.validationMessage.append(UI(\"div\", this.errors[name].mesg));\r\n       \t\t\t\t}\r\n       \t\t\t}\r\n       \t\t\tif ($vars.OKButton) {\r\n       \t\t\t\tvar ok=true;\r\n       \t\t\t\tfor (var name in this.errors) {\r\n       \t\t\t\t\tok=false;\r\n       \t\t\t\t}\r\n       \t\t\t\t$vars.OKButton.attr(\"disabled\", !ok);\r\n       \t\t\t}\r\n       \t\t},\r\n       \t\ton: {\r\n       \t\t\tvalidate: function () {}\r\n       \t\t},\r\n       \t\taddError: function (name, mesg, jq) {\r\n       \t\t\tthis.errors[name]={mesg:mesg, jq:jq};\r\n       \t\t\tthis.show();\r\n       \t\t},\r\n       \t\tremoveError: function (name) {\r\n       \t\t\tdelete this.errors[name];\r\n       \t\t\tthis.show();\r\n       \t\t},\r\n       \t\tallOK: function () {\r\n       \t\t\tfor (var i in this.errors) {\r\n       \t\t\t\tdelete this.errors[i];\r\n       \t\t\t}\r\n       \t\t\tthis.show();\r\n       \t\t},\r\n       \t\tisValid: function () {\r\n       \t\t    var res=true;\r\n       \t\t    for (var i in this.errors) res=false;\r\n       \t\t    return res;\r\n       \t\t}\r\n        };\r\n        $edits.writeToModel=function ($edit, val ,jq) {\r\n            var m=$edits.model;\r\n        \t//console.log($edit, m);\r\n            if (!m) return;\r\n            var name = $edit.name;\r\n            try {\r\n                val=$edit.type.fromVal(val);\r\n            } catch (e) {\r\n            \t$edits.validator.addError(name, e, jq);\r\n            \t//$edits.validator.errors[name]={mesg:e, jq:jq};\r\n                //$edits.validator.change(name, e, jq);\r\n                return;\r\n            }\r\n            $edits.validator.removeError(name);\r\n            /*\r\n            if ($edits.validator.errors[name]) {\r\n                delete $edits.validator.errors[name];\r\n                $edits.validator.change(name, null, jq);\r\n            }*/\r\n            var a=name.split(\".\");\r\n            for (var i=0 ; i<a.length ;i++) {\r\n                if (i==a.length-1) {\r\n                    if ($edits.on.writeToModel(name,val)) {\r\n\r\n                    } else {\r\n                        m[a[i]]=val;\r\n                    }\r\n                } else {\r\n                    m=m[a[i]];\r\n                }\r\n            }\r\n            $edits.validator.on.validate.call($edits.validator, $edits.model);\r\n        };\r\n        $edits.on={};\r\n        $edits.on.writeToModel= function (name, val) {};\r\n\r\n        if (listeners.length>0) {\r\n            setTimeout(F(l),50);\r\n        }\r\n        function l() {\r\n            listeners.forEach(function (li) {\r\n                li();\r\n            });\r\n            setTimeout(F(l),50);\r\n        }\r\n        return res;\r\n        function parse(expr) {\r\n            if (expr instanceof Array) return parseArray(expr);\r\n            else if (typeof expr==\"string\") return parseString(expr);\r\n            else return expr;\r\n        }\r\n        function parseArray(a) {\r\n            var tag=a[0];\r\n            var i=1;\r\n            var res=$(\"<\"+tag+\">\");\r\n            if (typeof a[i]==\"object\" && !(a[i] instanceof Array) && !(a[i] instanceof $) ) {\r\n                parseAttr(res, a[i],tag);\r\n                i++;\r\n            }\r\n            while (i<a.length) {\r\n                res.append(parse(a[i]));\r\n                i++;\r\n            }\r\n            return res;\r\n        }\r\n        function parseAttr(jq, o, tag) {\r\n            if (o.$var) {\r\n                $vars[o.$var]=jq;\r\n            }\r\n            if (o.$edit) {\r\n                if (typeof o.$edit==\"string\") {\r\n                    o.$edit={name: o.$edit, type: UI.types.String};\r\n                }\r\n                if (!o.on) o.on={};\r\n                o.on.realtimechange=F(function (val) {\r\n                    $edits.writeToModel(o.$edit, val, jq);\r\n                });\r\n                if (!$vars[o.$edit.name]) $vars[o.$edit.name]=jq;\r\n                $edits.push({jq:jq,params:o});\r\n            }\r\n            for (var k in o) {\r\n                if (k==\"on\") {\r\n                    for (var e in o.on) on(e, o.on[e]);\r\n                } else if (k==\"css\" && o[k]!=null) {//ADDJSL\r\n                    jq.css(o[k]);\r\n                } else if (!Util.startsWith(k,\"$\") && o[k]!=null) {//ADDJSL\r\n                    jq.attr(k,o[k]);\r\n                }\r\n            }\r\n            function on(eType, li) {\r\n                if (!li) return; //ADDJSL\r\n                if (eType==\"enterkey\") {\r\n                    jq.on(\"keypress\",F(function (ev) {\r\n                        if (ev.which==13) li.apply(jq,arguments);\r\n                    }));\r\n                } else if (eType==\"realtimechange\") {\r\n                    var first=true, prev;\r\n                    listeners.push(function () {\r\n                        var cur;\r\n                        if (o.type==\"checkbox\") {\r\n                            cur=!!jq.prop(\"checked\");\r\n                        } else {\r\n                            cur=jq.val();\r\n                        }\r\n                        if (first || prev!=cur) {\r\n                            li.apply(jq,[cur,prev]);\r\n                            prev=cur;\r\n                        }\r\n                        first=false;\r\n                    });\r\n                } else {\r\n                    jq.on(eType, F(li));\r\n                }\r\n            }\r\n        }\r\n        function parseString(str) {\r\n            return $(document.createTextNode(str));\r\n            //return $(\"<span>\").text(str);\r\n        }\r\n    };\r\n    UI.types={\r\n       String: {\r\n           toVal: function (val) {\r\n               return val;\r\n           },\r\n           fromVal: function (val) {\r\n               return val;\r\n           }\r\n       },\r\n       Number: {\r\n           toVal: function (val) {\r\n               return val+\"\";\r\n           },\r\n           fromVal: function (val) {\r\n               return parseFloat(val);\r\n           }\r\n       }\r\n   };\r\n    return UI;\r\n});\r\n\ndefine('UIDiag',[\"UI\"],function (UI) {\r\n    var UIDiag={};\r\n    function isPrimitive(mesg) {\r\n        return (typeof mesg===\"string\" ||\r\n        typeof mesg===\"number\" ||\r\n        typeof mesg===\"boolean\");\r\n    }\r\n    function parseMesg(mesg,defTitle) {\r\n        if (mesg==null) mesg=\"\";\r\n        if (isPrimitive(mesg)) {\r\n            return {title:defTitle,body:multiLine(mesg)};\r\n        } else if ( (typeof $!==\"undefined\") && mesg instanceof $) {\r\n            return {\r\n                title:mesg.title||defTitle,\r\n                body:mesg\r\n            };\r\n        } else {\r\n            if (isPrimitive(mesg.body)) mesg.body=multiLine(mesg.body);\r\n            return mesg;\r\n        }\r\n    }\r\n    function multiLine(mesg) {\r\n        var lines=(mesg+\"\").split(\"\\n\");\r\n        if (lines.length==1) return lines[0];\r\n        return UI.apply(this,[\"div\"].concat(lines.map(function (e) {\r\n            return [\"div\",e];\r\n        })));\r\n    }\r\n    UIDiag.confirm=function (mesg) {\r\n        mesg=parseMesg(mesg,\"\");\r\n        var di=UI(\"div\",{title:mesg.title},[\"div\",mesg.body],\r\n                [\"button\",{on:{click:sendF(true)}},\"OK\"],\r\n                [\"button\",{on:{click:sendF(false)}},\"\"]).dialog({width:\"auto\",close:sendF(false)});\r\n        var d=$.Deferred();\r\n        function sendF(r) {\r\n            return function () { d.resolve(r); di.dialog(\"close\"); di.remove(); };\r\n        }\r\n        return d.promise();\r\n    };\r\n    UIDiag.alert=function (mesg) {\r\n        mesg=parseMesg(mesg,\"\");\r\n        var di=UI(\"div\",{title:mesg.title},[\"div\",mesg.body],\r\n                [\"button\",{on:{click:sendF(true)}},\"OK\"]).dialog({width:\"auto\",close:sendF(false)});\r\n        var d=$.Deferred();\r\n        function sendF(r) {\r\n            return function () { d.resolve(r); di.dialog(\"close\"); di.remove(); };\r\n        }\r\n        return d.promise();\r\n    };\r\n    // Compat with $InputBox\r\n    UIDiag.open=function(title,prompt,_default, left, top, width, height) {\r\n        return UIDiag.prompt({title:title,body:prompt},_default,{\r\n            left:left, top:top, width:width, height:height\r\n        });\r\n    };\r\n    UIDiag.getStatus=function () {return UIDiag.status;};\r\n    UIDiag.getText=function () {return UIDiag.val? UIDiag.val.val():\"\";};\r\n    //---\r\n    UIDiag.prompt=function (mesg,value,geom) {\r\n        mesg=parseMesg(mesg,\"\");\r\n        geom=geom||{};\r\n        if (typeof geom.left===\"number\" && typeof geom.top===\"number\") {\r\n            position={my:\"left top\",at:\"left+\"+geom.left+\" top+\"+geom.top, of:\"body\"};\r\n        } else {\r\n            position={of:\"body\",at:\"center\",my:\"center\"};\r\n        }\r\n        var di=UI(\"div\",{title:mesg.title},[\"div\",mesg.body],\r\n                [\"input\",{on:{enterkey:ok},$var:\"val\", value:value}],[\"br\"],\r\n                [\"button\",{on:{click:ok}},\"OK\"],\r\n                [\"button\",{on:{click:cancel}},\"\"]).dialog({\r\n                    width:geom.width||\"auto\",\r\n                    height:geom.height||\"auto\",\r\n                    position:position,\r\n                    close:function (){\r\n                        di.dialog(\"close\");\r\n                        d.resolve();\r\n                    }\r\n                });\r\n        setTimeout(function () {\r\n            di.$vars.val.focus();\r\n            //console.log(\"FOcus\");\r\n        },10);\r\n        UIDiag.status=0;\r\n        UIDiag.val=di.$vars.val;\r\n        var d=$.Deferred();\r\n        function ok() {\r\n            UIDiag.status=1;\r\n            var r=di.$vars.val.val();\r\n            UIDiag.resultValue=r;\r\n            d.resolve(r);\r\n            di.dialog(\"close\");\r\n            di.remove();\r\n        }\r\n        function cancel() {\r\n            UIDiag.status=2;\r\n            di.dialog(\"close\");\r\n            di.remove();\r\n            d.resolve();\r\n        }\r\n        return d.promise();\r\n\r\n    };\r\n    if (typeof window!=\"undefined\") window.UIDiag=UIDiag;\r\n    return UIDiag;\r\n});\r\n\n/*global requirejs*/\r\ndefine('runtime',[\"ImageList\",\"T2MediaLib\",\"UIDiag\"],\r\nfunction (ImageList,T2MediaLib,UIDiag) {\r\n    console.log(\"runtimes loaded\",arguments);\r\n    if (!window.T2MediaLib) window.T2MediaLib=T2MediaLib;\r\n    return {ImageList,T2MediaLib,UIDiag};\r\n});\r\n\ndefine('Auth',[\"WebSite\"],function (WebSite) {\r\n    var auth={};\r\n    auth.currentUser=function (onend) {\r\n        //TODO: urlchange!\r\n        $.ajax({type:\"get\",url:WebSite.serverTop+\"/currentUser\",data:{withCsrfToken:true},\r\n            success:function (res) {\r\n                console.log(\"auth.currentUser\",res);\r\n                res=JSON.parse(res);\r\n                var u=res.user;\r\n                if (u==\"null\") u=null;\r\n                console.log(\"user\", u, \"csrfToken\",res.csrfToken);\r\n                onend(u,res.csrfToken);\r\n            }\r\n        });\r\n    };\r\n    auth.assertLogin=function (options) {\r\n        /*if (typeof options==\"function\") options={complete:options};\r\n        if (!options.confirm) options.confirm=\"\";\r\n        if (typeof options.confirm==\"string\") {\r\n            var mesg=options.confirm;\r\n            options.confirm=function () {\r\n                return confirm(mesg);\r\n            };\r\n        }*/\r\n        auth.currentUser(function (user,csrfToken) {\r\n            if (user) {\r\n                return options.success(user,csrfToken);\r\n            }\r\n            window.onLoggedIn=options.success;\r\n            //TODO: urlchange!\r\n            options.showLoginLink(WebSite.serverTop+\"/login\");\r\n        });\r\n    };\r\n    window.Auth=auth;\r\n    return auth;\r\n});\ndefine('Blob',[\"Auth\",\"WebSite\",\"Util\"],function (a,WebSite,Util) {\r\n    var Blob={};\r\n    var BLOB_PATH_EXPR=\"${blobPath}\";\r\n    Blob.BLOB_PATH_EXPR=BLOB_PATH_EXPR;\r\n    Blob.upload=function(user, project, file, options) {\r\n        var fd = new FormData(document.getElementById(\"fileinfo\"));\r\n        if (options.error) {\r\n            options.error=function (r) {alert(r);};\r\n        }\r\n        fd.append(\"theFile\", file);\r\n        fd.append(\"user\",user);\r\n        fd.append(\"project\",project);\r\n        fd.append(\"fileName\",file.name);\r\n      //TODO: urlchange!\r\n        $.ajax({\r\n            type : \"get\",\r\n            url : WebSite.serverTop+\"/blobURL\",\r\n            success : function(url) {\r\n                $.ajax({\r\n                    url : url,\r\n                    type : \"POST\",\r\n                    data : fd,\r\n                    processData : false, // jQuery \r\n                    contentType : false, // jQuery  contentType \r\n                    success : function(res) {\r\n                        console.log(\"Res = \" + res);\r\n                        options.success.apply({},arguments);// $(\"#drag\").append(res);\r\n                    },\r\n                    error: options.error\r\n                });\r\n            }\r\n        });\r\n    };\r\n    Blob.isBlobURL=function (url) {\r\n        if (Util.startsWith(url,BLOB_PATH_EXPR)) {\r\n            var a=url.split(\"/\");\r\n            return {user:a[1], project:a[2], fileName:a[3]};\r\n        }\r\n    };\r\n    // actualURL;\r\n    Blob.url=function(user,project,fileName) {\r\n        return WebSite.blobPath+user+\"/\"+project+\"/\"+fileName;\r\n    };\r\n    Blob.uploadToExe=function (prj, options) {\r\n        var bis=prj.getBlobInfos();\r\n        var cnt=bis.length;\r\n        console.log(\"uploadBlobToExe cnt=\",cnt);\r\n        if (cnt==0) return options.success();\r\n        if (!options.progress) options.progress=function (cnt) {\r\n            console.log(\"uploadBlobToExe cnt=\",cnt);\r\n        };\r\n        bis.forEach(function (bi) {\r\n            var data={csrfToken:options.csrfToken};\r\n            for (var i in bi) data[i]=bi[i];\r\n            $.ajax({\r\n                type:\"get\",\r\n                url: WebSite.serverTop+\"/uploadBlobToExe\",   //TODO: urlchange!\r\n                data:data,\r\n                success: function () {\r\n                     cnt--;\r\n                     if (cnt==0) return options.success();\r\n                     else options.progress(cnt);\r\n                },\r\n                error:options.error\r\n             });\r\n        });\r\n    };\r\n    return Blob;\r\n});\ndefine('ImageRect',[],function () {\r\n    function draw(img, canvas) {\r\n        if (typeof img==\"string\") {\r\n            var i=new Image();\r\n            var res=null;\r\n            var callback=null;\r\n            var onld=function (clb) {\r\n                if (clb) callback=clb;\r\n                if (callback && res) {\r\n                    callback(res);\r\n                }\r\n            };\r\n            i.onload=function () {\r\n                res=draw(i,canvas);\r\n                onld();\r\n            };\r\n            i.src=img;\r\n            return onld;\r\n        }\r\n        var cw=canvas.width;\r\n        var ch=canvas.height;\r\n        var cctx=canvas.getContext(\"2d\");\r\n        var width=img.width;\r\n        var height=img.height;\r\n        var calcw=ch/height*width; // calch=ch\r\n        var calch=cw/width*height; // calcw=cw\r\n        if (calch>ch) calch=ch;\r\n        if (calcw>cw) calcw=cw;\r\n        cctx.clearRect(0,0,cw,ch);\r\n        var marginw=Math.floor((cw-calcw)/2);\r\n        var marginh=Math.floor((ch-calch)/2);\r\n        cctx.drawImage(img,\r\n                0,0,width, height,\r\n                marginw,marginh,calcw, calch );\r\n        return {left: marginw, top:marginh, width:calcw, height:calch,src:img};\r\n    }\r\n    return draw;\r\n});\ndefine('Content',[\"FS\"],function (FS){return FS.Content;});\r\n\ndefine('thumbnail',[\"ImageRect\",\"Content\"],function (IR,Content) {\r\n    var TN={};\r\n    var createThumbnail;\r\n    var NAME=\"$icon_thumbnail\";\r\n    var WIDTH=200;HEIGHT=200;\r\n    TN.set=function (prj,delay) {\r\n        setTimeout(function () { crt(prj);} ,delay);\r\n    };\r\n    TN.get=function (prj) {\r\n        var f=TN.file(prj);\r\n        if (!f.exists()) return null;\r\n        return f.text();\r\n    };\r\n    TN.file=function (prj) {\r\n        var prjdir=prj.getDir();\r\n        var imfile= prjdir.rel(\"images/\").rel(\"icon_thumbnail.png\");\r\n        //console.log(\"Thumb file=\",imfile.path(),imfile.exists());\r\n        return imfile;\r\n    };\r\n    function crt(prj) {\r\n        try {\r\n            var img=Tonyu.globals.$Screen.buf[0];\r\n            var cv=$(\"<canvas>\").attr({width:WIDTH,height:HEIGHT});\r\n            IR(img, cv[0]);\r\n            var url=cv[0].toDataURL();\r\n            var rsrc=prj.getResource();\r\n            var prjdir=prj.getDir();\r\n            var imfile=TN.file(prj);\r\n            imfile.text( url );\r\n            var item={\r\n                name:NAME,\r\n                pwidth:WIDTH,pheight:HEIGHT,\r\n                url:\"ls:\"+imfile.relPath(prjdir)\r\n            };\r\n            var imgs=rsrc.images;\r\n            var add=false;\r\n            for (var i=0 ; i<imgs.length ; i++) {\r\n                if (imgs[i].name==NAME) {\r\n                    imgs[i]=item;\r\n                    add=true;\r\n                }\r\n            }\r\n            if (!add) imgs.push(item);\r\n\r\n            prj.setResource(rsrc);\r\n            console.log(\"setRSRC\",rsrc);\r\n        } catch (e) {\r\n            console.log(\"Create thumbnail failed\",e);\r\n            console.log(e.stack);\r\n        }\r\n    };\r\n    return TN;\r\n});\r\n\ndefine('plugins',[\"WebSite\",\"root\"],function (WebSite,root){\r\n    var plugins={};\r\n    var installed= {\r\n        box2d:{src: \"Box2dWeb-2.1.a.3.min.js\",detection:/BodyActor/,symbol:\"Box2D\" },\r\n        timbre: {src:\"timbre.js\",symbol:\"T\" },\r\n        gif: {src:\"gif-concat.js\",detection:/GIFWriter/,symbol:\"GIF\"},\r\n        Mezonet: {src:\"Mezonet.js\", symbol: \"Mezonet\"},\r\n        PicoAudio: {src:\"PicoAudio.min.js\", symbol:\"PicoAudio\"},\r\n        // single js is required for runScript1.js\r\n        jquery_ui: {src:\"jquery-ui.js\", detection:/\\$InputBox/,symbol:\"$.ui\"}\r\n    };\r\n    plugins.installed=installed;\r\n    plugins.detectNeeded=function (src,res) {\r\n        for (var name in installed) {\r\n            var d=installed[name].detection;\r\n            if (d) {\r\n                var r=d.exec(src);\r\n                if (r) res[name]=1;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    plugins.loaded=function (name) {\r\n        var i=installed[name];\r\n        if (!i) throw new Error(\"plugin not found: \"+name);\r\n        return hasInGlobal(i.symbol);\r\n    };\r\n    function hasInGlobal(name) {\r\n        // name: dot ok\r\n        var g=window;\r\n        name.split(\".\").forEach(function (e) {\r\n            if (!g) return;\r\n            g=g[e];\r\n        });\r\n        return g;\r\n    }\r\n    plugins.loadAll=function (names,options) {\r\n        options=convOpt(options);\r\n        var namea=[];\r\n        for (var name in names) {\r\n            if (installed[name] && !plugins.loaded(name)) {\r\n                namea.push(name);\r\n            }\r\n        }\r\n        var i=0;\r\n        console.log(\"loading plugins\",namea);\r\n        setTimeout(loadNext,0);\r\n        function loadNext() {\r\n            if (i>=namea.length) options.onload();\r\n            else plugins.load(namea[i++],loadNext);\r\n        }\r\n    };\r\n    function convOpt(options) {\r\n        if (typeof options==\"function\") options={onload:options};\r\n        if (!options) options={};\r\n        if (!options.onload) options.onload=function (){};\r\n        return options;\r\n    }\r\n    plugins.load=function (name,options) {\r\n        var i=installed[name];\r\n        if (!i) throw new Error(\"plugin not found: \"+name);\r\n        options=convOpt(options);\r\n        var src=WebSite.pluginTop+\"/\"+i.src;\r\n        var reqj=root.requirejs;\r\n        /*if (typeof requireSimulator===\"undefined\") {\r\n            if (typeof requirejs===\"function\") reqj=requirejs;\r\n        } else {\r\n            if (requireSimulator.real) reqj=requireSimulator.real.requirejs;\r\n        }*/\r\n        if (reqj) {\r\n            src=src.replace(/\\.js$/,\"\");\r\n            console.log(\"Loading plugin via requirejs\",src);\r\n            reqj([src], function (res) {\r\n                if (!window[i.symbol] && res) window[i.symbol]=res;\r\n                options.onload(res);\r\n            });\r\n        } else {\r\n            console.log(\"Loading plugin via <script>\",src);\r\n            var s=document.createElement(\"script\");\r\n            s.src=src;\r\n            s.onload=options.onload;\r\n            document.body.appendChild(s);\r\n            //$(\"<script>\").on(\"load\",options.onload).attr(\"src\",src).appendTo(\"body\");\r\n        }\r\n        //setTimeout(options.onload,500);\r\n\r\n    };\r\n    plugins.request=function (name) {\r\n        if (plugins.loaded(name)) return;\r\n        var req=new Error(\"Plugin \"+name+\" required\");\r\n        req.pluginName=name;\r\n    };\r\n    return plugins;\r\n});\r\n\ndefine('DeferredUtil',[\"FS\"],function (FS){return FS.DeferredUtil;});\r\n\ndefine('sysMod',[\"Tonyu\", \"FS\", \"ImageList\",\r\n        \"Blob\",\"thumbnail\",\"WebSite\",\"plugins\",\r\n        \"DeferredUtil\"],\r\n        function (Tonyu, FS, ImageList,\r\n                Blob,thumbnail,WebSite,plugins,\r\n                DU) {\r\n// (was TonyuProject)\r\nreturn {\r\n    /*stop:function () {\r\n        var cur=this.runningThread; // Tonyu.getGlobal(\"$currentThreadGroup\");\r\n        if (cur) cur.kill();\r\n        var main=this.runningObj;\r\n        if (main && main.stop) return main.stop();\r\n    },*/\r\n    rawRun:function (bootClassName) {\r\n        if (WebSite.removeJSOutput) {\r\n            var o=this.getOutputFile();\r\n            if (o.exists()) o.rm();\r\n        }\r\n        return this.loadClasses().then(()=>{\r\n            //TPR.compile();\r\n            this.detectPlugins();\r\n            this.fixBootRunClasses();\r\n            if (!this.runScriptMode) thumbnail.set(this, 2000);\r\n            this.rawBoot(bootClassName);\r\n        });\r\n    },\r\n    getResourceFile: function () {\r\n        return this.getDir().rel(\"res.json\");\r\n    },\r\n    getResource: function () {\r\n        var resFile=this.getResourceFile();\r\n        if (resFile.exists()) {\r\n            var res=resFile.obj();\r\n            var chg=false;\r\n            for (var imgSnd in res) {\r\n                var ary=res[imgSnd];\r\n                for (var i=ary.length-1; i>=0 ;i--) {\r\n                    if (!ary[i].url) {\r\n                        ary.splice(i,1);\r\n                        chg=true;\r\n                    }\r\n                }\r\n            }\r\n            if (chg) this.setResource(res);\r\n            return res;\r\n        }\r\n        return Tonyu.defaultResource;\r\n    },\r\n    hasSoundResource: function () {\r\n        var res=this.getResource();\r\n        return res && res.sounds && res.sounds.length>0;\r\n    },\r\n    setResource: function (rsrc) {\r\n        var resFile=this.getResourceFile();\r\n        resFile.obj(rsrc);\r\n    },\r\n    getThumbnail: function () {\r\n        return thumbnail.get(this);\r\n    },\r\n    convertBlobInfos: function (user) {\r\n        var rsrc=this.getResource();\r\n        var name=this.getName();\r\n        function loop(o) {\r\n            if (typeof o!=\"object\") return;\r\n            for (var k in o) {\r\n                if (!o.hasOwnProperty(k)) continue;\r\n                var v=o[k];\r\n                if (k==\"url\") {\r\n                    var a=Blob.isBlobURL(v);\r\n                    if (a) {\r\n                        o[k]=[Blob.BLOB_PATH_EXPR,user,name,a.fileName].join(\"/\");\r\n                    }\r\n                }\r\n                loop(v);\r\n            }\r\n        }\r\n        loop(rsrc);\r\n        this.setResource(rsrc);\r\n    },\r\n    getBlobInfos: function () {\r\n        var rsrc=this.getResource();\r\n        var res=[];\r\n        function loop(o) {\r\n            if (typeof o!=\"object\") return;\r\n            for (var k in o) {\r\n                if (!o.hasOwnProperty(k)) continue;\r\n                var v=o[k];\r\n                if (k==\"url\") {\r\n                    var a=Blob.isBlobURL(v);\r\n                    if (a) {\r\n                        res.push(a);\r\n                    }\r\n                }\r\n                loop(v);\r\n            }\r\n        }\r\n        loop(rsrc);\r\n        return res;\r\n    },\r\n    loadResource: function (next) {\r\n        var r=this.getResource();\r\n        ImageList( r.images, function (r) {\r\n            var sp=Tonyu.getGlobal(\"$Sprites\");\r\n            if (sp) {\r\n                //console.log(\"$Sprites set!\");\r\n                sp.setImageList(r);\r\n            }\r\n            //Sprites.setImageList(r);\r\n            for (var i in r.names) {\r\n                Tonyu.setGlobal(i, r.names[i]);\r\n            }\r\n            if (next) next();\r\n        });\r\n    },\r\n    detectPlugins: function () {\r\n        var opt=this.getOptions();\r\n        var plugins=opt.plugins=opt.plugins||{};\r\n        if (!plugins.Mezonet || !plugins.PicoAudio) {\r\n            var res=this.getResource();\r\n            var hasMZO=false,hasMIDI=false;\r\n            if (res.sounds) res.sounds.forEach(function (item) {\r\n                if (item.url.match(/\\.mzo/)) hasMZO=true;\r\n                if (item.url.match(/\\.midi?/)) hasMIDI=true;\r\n            });\r\n            if (hasMZO) this.addPlugin(\"Mezonet\");\r\n            else this.removePlugin(\"Mezonet\");\r\n            if (hasMIDI) this.addPlugin(\"PicoAudio\");\r\n            else this.removePlugin(\"PicoAudio\");\r\n        }\r\n    },\r\n    addPlugin: function (name) {\r\n        var opt=this.getOptions();\r\n        if (!opt.plugins[name]) {\r\n            opt.plugins[name]=1;\r\n            this.setOptions(opt);\r\n        }\r\n    },\r\n    removePlugin: function (name) {\r\n        var opt=this.getOptions();\r\n        if (opt.plugins[name]) {\r\n            delete opt.plugins[name];\r\n            this.setOptions(opt);\r\n        }\r\n    },\r\n    requestPlugin: function (name) {\r\n        this.addPlugin(name);\r\n        if (plugins.loaded(name)) return;\r\n        var req=new Error(\"\"+name+\"\");\r\n        req.pluginName=name;\r\n        throw req;\r\n    },\r\n    loadPlugins: function (onload) {\r\n        var opt=this.getOptions();\r\n        return plugins.loadAll(opt.plugins,onload);\r\n    },\r\n    fixBootRunClasses: function () {\r\n        var opt=this.getOptions();\r\n        if (opt.run) {\r\n            var mc=this.fixClassName(opt.run.mainClass);\r\n            var bc=this.fixClassName(opt.run.bootClass);\r\n            if (mc!=opt.run.mainClass  ||  bc!=opt.run.bootClass) {\r\n                opt.run.mainClass=mc;\r\n                opt.run.bootClass=bc;\r\n                this.setOptions(opt);\r\n            }\r\n        }\r\n    },\r\n    fixClassName: function (className) {\r\n        if (Tonyu.classMetas[className]) return className;\r\n        const ns=this.getNamespace();\r\n        console.log(\"NS\", ns);\r\n        let res=Tonyu.classes[ns][className];\r\n        if (res) return `${ns}.${className}`;\r\n        for (var k in Tonyu.classes) {\r\n            res=Tonyu.classes[k][className];\r\n            if (res) return `${k}.${className}`;\r\n        }\r\n        throw new Error(`Cannot fix className ${className}`);\r\n    },\r\n    rawBoot: function (bootClassName) {\r\n        this.showProgress(\"Running \"+bootClassName);\r\n        this.initCanvas();\r\n        Tonyu.run(bootClassName);\r\n    },\r\n    initCanvas: function () {\r\n        Tonyu.globals.$mainCanvas=$(\"canvas\");\r\n    },\r\n    /*isKernelEditable: function () {\r\n    \treturn env.options.kernelEditable;\r\n    },*/\r\n    //TPR.getDir=function () {return dir;};\r\n    //TPR.getName=function () { return dir.name().replace(/\\/$/,\"\"); };\r\n\r\n    showProgress: function (m) {\r\n        console.log(\"PROGRESS\",m);\r\n        /*global SplashScreen*/\r\n        if (typeof SplashScreen!=\"undefined\") {\r\n            SplashScreen.progress(m);\r\n        }\r\n        return DU.promise(function (succ) {\r\n            setTimeout(succ,0);\r\n        });\r\n    }\r\n};\r\n});\r\n\ndefine('KeyEventChecker',[],function () {\r\n\tvar KEC={};\r\n\tKEC.down=function (elem, name, handler) {\r\n\t\tif (!(elem instanceof $)) elem=$(elem);\r\n\t\telem.bind(\"keydown\", function (e) {\r\n\t\t\tif (KEC.is(e, name)) {\r\n\t\t\t\treturn handler.call(elem[0],e);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tKEC.is=function (e,name) {\r\n\t\tname=name.toLowerCase();\r\n\t\te = e.originalEvent || e;\r\n\t\tvar s=\"\";\r\n\t\tif (e.altKey) {\r\n\t\t\ts+=\"alt+\";\r\n\t\t}\r\n\t\tif (e.ctrlKey) {\r\n\t\t\ts+=\"ctrl+\";\r\n\t\t}\r\n\t\tif (e.shiftKey) {\r\n\t\t\ts+=\"shift+\";\r\n\t\t}\r\n\t\tif (e.keyCode>=112 && e.keyCode<=123) {\r\n\t\t\ts+=\"f\"+(e.keyCode-111);\r\n\t\t} else {\r\n\t\t\ts+=String.fromCharCode(e.keyCode);\r\n\t\t}\r\n\t\ts=s.toLowerCase();\r\n\t\t//console.log(s);\r\n\t\treturn name==s;\r\n\t};\r\n\treturn KEC;\r\n});\ndefine('runScript_common',[\"root\"], function (root) {\r\n    root.SplashScreen={\r\n        hide: function () {$(\"#splash\").hide();},\r\n        show:function(){},\r\n        progress:function(t) {$(\"#splash .progress\").text(t);}\r\n    };\r\n    return {\r\n        initCanvas: function (doResize) {\r\n            function getMargin() {\r\n                return 0;\r\n            }\r\n\r\n            var margin = getMargin();\r\n            var w=$(window).width();\r\n            var h=$(window).height();\r\n            $(\"body\").css({overflow:\"hidden\", margin:\"0px\"});\r\n            var cv=$(\"<canvas>\").attr({width: w-margin, height:h-margin, class:\"tonyu-canvas\"}).appendTo(\"body\");\r\n\r\n            var u = navigator.userAgent.toLowerCase();\r\n            if (doResize==null) {\r\n                doResize=(u.indexOf(\"iphone\") == -1 &&\r\n                    u.indexOf(\"ipad\") == -1 &&\r\n                    u.indexOf(\"ipod\") == -1\r\n                ) && (!window.parent || window === window.parent);\r\n            }\r\n            if (doResize) {\r\n                $(window).resize(onResize);\r\n            }\r\n            function onResize() {\r\n                var margin = getMargin();\r\n                w=$(window).width();\r\n                h=$(window).height();\r\n                cv.attr({width: w-margin, height: h-margin});\r\n            }\r\n            return cv;\r\n        }\r\n    };\r\n});\r\n\ndefine('SysDebugger',['require','exports','module','Debugger','runtime','root','Tonyu','WebSite','sysMod','KeyEventChecker','runScript_common'],function (require,exports,module) {\r\n    const Debugger=require(\"Debugger\");\r\n    const runtime=require(\"runtime\");\r\n    const root=require(\"root\");\r\n    const Tonyu=require(\"Tonyu\");\r\n    const FS=Debugger.FS;\r\n    const F=Debugger.ProjectFactory;\r\n    const WebSite=require(\"WebSite\");\r\n    const sysMod=require(\"sysMod\");\r\n    const KeyEventChecker=require(\"KeyEventChecker\");\r\n    const runScript_common=require(\"runScript_common\");\r\n    F.addDependencyResolver((prj,spec)=>{\r\n        if (spec.namespace===\"kernel\") {\r\n            return F.create(\"compiled\",{namespace:\"kernel\",url:WebSite.compiledKernel});\r\n        }\r\n    });\r\n    /*Debugger.on(\"runtimeError\",evt=>{\r\n        console.log(evt.stack.map(s=>s+\"\").join(\"\\n\"));\r\n    });*/\r\n\r\n    const cv=runScript_common.initCanvas();\r\n    Tonyu.globals.$mainCanvas=cv;\r\n    Tonyu.runMode=true;\r\n    Tonyu.animationFrame=()=>new Promise(requestAnimationFrame);\r\n    start();\r\n    async function start() {\r\n        const prjDir=FS.get(getQueryString(\"prj\"));\r\n        const prj=Debugger.ProjectFactory.create(\"compiled\",{dir:prjDir});\r\n        prj.include(sysMod);\r\n        await Debugger.init(prj,Tonyu);\r\n        window.onerror=function (a,b,c,d,e) {\r\n            //console.log(...arguments);\r\n            if (e && e.stack) Tonyu.onRuntimeError(e);\r\n        };\r\n        const opt=prj.getOptions();\r\n        console.log(\"opt\",opt);\r\n        //await prj.loadClasses();\r\n        const boot=opt.run.bootClass|| getQueryString(\"boot\");\r\n        console.log(\"boot\",boot);\r\n        if (boot) {\r\n            Tonyu.runningObj=Debugger.create(boot);\r\n            Debugger.stop=()=>Tonyu.runningObj.stop();\r\n            KeyEventChecker.down(document,\"F2\",Debugger.stop);\r\n        }\r\n    }\r\n    function getQueryString(key, default_)\r\n    {\r\n       if (default_==null) default_=\"\";\r\n       key = key.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n       var regex = new RegExp(\"[\\\\?&]\"+key+\"=([^&#]*)\");\r\n       var qs = regex.exec(window.location.href);\r\n       if(qs == null)\r\n        return default_;\r\n       else\r\n        return decodeURLComponentEx(qs[1]);\r\n    }\r\n    function decodeURLComponentEx(s){\r\n        return decodeURIComponent(s.replace(/\\+/g, '%20'));\r\n    }\r\n\r\n});\r\n\n    requirejs([\"SysDebugger\"],()=>{});\r\n})();\r\n"]}