<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<!-- Konbaatiddo from Tonyu2 non-md document -->

<p><a href="api">api</a></p>
<h1 id="t2mediaplayerクラス">T2MediaPlayerクラス</h1>
<p>サウンドを再生するためのクラスです。
グローバル変数$soundに自動的に設定されます。</p>
<h2 id="サウンドの追加">サウンドの追加</h2>
<p>メニューのウィンドウ→<a href="sndres">音声リスト</a>から追加します。</p>
<h2 id="対応している音声ファイル形式">対応している音声ファイル形式</h2>
<p>Tonyu2では以下の音声ファイルに対応しています。</p>
<p>ただし、ブラウザやデバイスによっては、再生できないファイル形式があります。</p>
<p>どの音声ファイル形式を使うかに注意してください。</p>
<p>→<a href="%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%AE%E9%9F%B3%E5%A3%B0%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%AF%BE%E5%BF%9C%E7%8A%B6%E6%B3%81">ブラウザの音声ファイル対応状況</a></p>
<ul>
<li>MP3 (.mp3)</li>
<li>AAC (.mp4 .m4a)</li>
<li>Ogg Vorbis (.ogg)</li>
<li>FLAC (.flac .fla)</li>
<li>WAV (.wav)</li>
<li>MIDIファイル (.mid .midi)</li>
<li>mzoファイル (.mzo)<ul>
<li><a href="https://www.vector.co.jp/soft/win95/art/se065452.html?_ga=2.72529939.1075928444.1541730217-1742912908.1529549881">M-Two</a> という音楽作成ソフトで作成されたオブジェクトファイルです．</li>
<li><a href="http://www.tonyu.jp/MezonetJS/">オンライン版</a>もあります．<a href="Mezonet">使い方...</a></li>
</ul>
</li>
</ul>
<h2 id="フィールド">フィールド</h2>
<ul>
<li>available<ul>
<li>サウンドが鳴らせる環境であれば<code>true</code>を返します</li>
</ul>
</li>
<li>mute<ul>
<li><code>true</code>に設定すると、playSEとplayBGM、resumeBGMを無効にします</li>
</ul>
</li>
</ul>
<h2 id="メソッド">メソッド</h2>
<ul>
<li><a href="T2MediaPlayer.playSE">playSE</a><ul>
<li>SE(効果音)を再生します</li>
</ul>
</li>
<li><a href="T2MediaPlayer.playBGM">playBGM</a><ul>
<li>BGM(背景音)を再生します</li>
</ul>
</li>
<li><a href="T2MediaPlayer.stopBGM">stopBGM</a><ul>
<li>BGMを停止します</li>
</ul>
</li>
<li><a href="T2MediaPlayer.pauseBGM">pauseBGM</a><ul>
<li>BGMを一時停止します</li>
</ul>
</li>
<li><a href="T2MediaPlayer.resumeBGM">resumeBGM</a><ul>
<li>一時停止したBGMを再び再生します</li>
</ul>
</li>
<li>stopAllSE<ul>
<li>現在鳴っている効果音をすべて停止します</li>
</ul>
</li>
<li>setBGMVolume(vol)<ul>
<li>BGMの音量を設定します。範囲(0-128-∞)<ul>
<li>0：消音</li>
<li>128：もとの音量(100%)</li>
<li>128より大きい：100%より大きい音量</li>
</ul>
</li>
</ul>
</li>
<li>setBGMTempo(tempo)<ul>
<li>BGMの再生速度を設定します。1がもとの速さです</li>
</ul>
</li>
<li>getBGMCurrentTime()<ul>
<li>再生中のBGMの現在再生位置を取得します（単位：秒）</li>
</ul>
</li>
<li>getBGMLength()<ul>
<li>再生中のBGMの長さを取得します（単位：秒）</li>
</ul>
</li>
<li>getPlayingBGMName()<ul>
<li>再生中のBGMの名前を取得します（&quot;$se_bgm1&quot;のように文字列が返ります）</li>
</ul>
</li>
<li>getCurrentTime()<ul>
<li>T2MediaPlayerが生成されてからの時間を返します（単位：秒）．なお，再度実行された場合でもリセットされないことがあります．</li>
</ul>
</li>
<li>beep{vol: freq: duration: }<ul>
<li>ビープ音を鳴らします．vol=音量0-128，freq=周波数(Hz)，duration=鳴らす時間(秒)<ul>
<li>durationを省略するとずっと鳴らします．</li>
<li>freqの代わりにscaleを使用可能です．scaleは0から95の整数値で，音階を表します．0がド，1がド#....10がラ#，11がシで，8オクターブ分あります．</li>
</ul>
</li>
<li>戻り値の<a href="Beep">Beep</a>オブジェクトを使用すると，鳴らした後に周波数や音量を変更できます．<ul>
<li>後述のon(&quot;interval&quot;)イベントの中で変更すると，比較的正確なタイミングで変更ができます．</li>
</ul>
</li>
</ul>
</li>
<li>on(&quot;interval&quot;)<ul>
<li>1/60秒おきに発生するイベントです．AudioContextの時間を使用して，メインの処理の影響を受けにくく，比較的正確なタイミングで処理を行います．</li>
</ul>
</li>
</ul>
<h2 id="t2mediaplayerクラスの詳細→"><a href="T2MediaPlayer_detail">T2MediaPlayerクラスの詳細→</a></h2>
<p>.</p>
<h1 id="backlink">Backlink</h1>
<ul>
<li><a href="$customLoading">$customLoading</a></li>
</ul>
</body></html>
