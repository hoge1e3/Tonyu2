<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<!-- Konbaatiddo from Tonyu2 non-md document -->

<p><a href="%E7%94%A8%E9%80%94%E5%88%A5%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">用途別リファレンス</a></p>
<h1 id="ゲージを表示する">ゲージを表示する</h1>
<p><a href="Panel">$panel</a>を使うと、画面に四角形などの図形を描くことができます。</p>
<p>これを利用してゲージなどを描画することができます。</p>
<p>Main</p>
<pre><code class="language-JS">$progress=0;

while(true) {
    $panel.setFillStyle(&quot;#f00&quot;);
    $panel.fillRect(10,100,100,20);
    $panel.setFillStyle(&quot;#0f0&quot;);
    $panel.fillRect(10,100,$progress,20);
    if ($progress&lt;100)$progress++;
    update();
}
</code></pre>
<p>※$panelの内容はページを切り替えても残ります．パネルの内容をクリアしたい場合は次のようにします．</p>
<pre><code class="language-JS">$panel.clearRect(0,0,$screenWidth,$screenHeight);
</code></pre>
<h1 id="オブジェクト毎に個別のゲージを表示する">オブジェクト毎に個別のゲージを表示する</h1>
<p>キャラクタの体力表示などを各キャラクタに個別に出す場合は，キャラクタごとにパネルを作成します．</p>
<p>Main</p>
<pre><code class="language-JS">new Enemy{x:100,y:100,life:100};
new Enemy{x:150,y:300,life:70};
</code></pre>
<p>Enemy</p>
<pre><code class="language-JS">// パネルをgauge(ゲージ)という名前で作成．
// lifeKeeper=this は，このオブジェクトが消えたときにゲージも消えるための設定．
gauge=new Panel{lifeKeeper=this};
gauge.resize(100,10);
while(true) {
    // パネルを自分の頭上に移動
    gauge.x=x;
    gauge.y=y-20;
    // パネルの描画
    gauge.fillStyle=&quot;red&quot;;
    gauge.fillRect(0,0,100,10);
    gauge.fillStyle=&quot;green&quot;;
    gauge.fillRect(0,0,life,10);
    life--;
    if (life&lt;=0) die();
    x++;
    update();
}
</code></pre>
<h1 id="ライブデモ">ライブデモ</h1>
<ul>
<li><p><a href="https://run.tonyu.jp/?18j5000/89e0607b">25. ゲージを表示1（例示）</a></p>
</li>
<li><p><a href="https://run.tonyu.jp/?18j5000/a2244f1d">26. ゲージを表示2（練習問題）</a></p>
</li>
</ul>
</body></html>
