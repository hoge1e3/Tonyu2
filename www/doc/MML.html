<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<p><a href="Mezonet">MezonetJS</a></p>
<h1 id="mezonetjs-mml">MezonetJSで使用可能なMML</h1>
<h2 id="-cdefgab-">発声 [cdefgab+#-]</h2>
<ul>
<li>cdefgab は、それぞれドレミファソラシを出すという意味です</li>
<li>c+またはc# は ドの半音上げたもの（シャープ）を，c- は ドの半音下げたもの（フラット）を出します</li>
<li>rは休符を表します</li>
</ul>
<pre><code>1[cc+re-]
</code></pre><p>のように使用します。</p>
<h2 id="-">チャンネル</h2>
<p><code>1[ ]</code>は、チャンネル１を使って[]の中に書かれた内容を演奏する<br>という意味です。チャンネルは1～10まであって、同時に演奏すると和音が発生できます</p>
<pre><code>1[ceg]
2[egd]
</code></pre><p>と打てば、2重和音が出ます。</p>
<pre><code>1-3[ceg]
</code></pre><p>は、チャンネル１，２，３全てにcegを演奏させます。</p>
<pre><code>1,3[ceg]
</code></pre><p>は、チャンネル１，３にcegを演奏させます。</p>
<h2 id="-l-">長さ [l]</h2>
<p>音の長さを変えるには、</p>
<pre><code>1[ce8a]
</code></pre><p>のように後ろに数字を付けます。eは８分音符になり、c,aは<br>デフォルトの長さ（最初は4分音符）です．</p>
<p>デフォルトの長さを変えるには<code>l</code>の後に数字をつけます</p>
<pre><code>1[l8ce4g+]
</code></pre><p>とすれば、c,g+は8分音符、eは4分音符になります．</p>
<p>&#39;.&#39;&quot;は付点（もとの長さの半分の長さを追加）を意味します．</p>
<pre><code>1[l4c.e8.]
</code></pre><p>とすれば、cは付点４分音符、eは付点８分音符になります</p>
<h2 id="-o-">オクターブ [o,&gt;,&lt;]</h2>
<p>オクターブを変えるには</p>
<pre><code>1[o4cdeo5cdeo3cde]
</code></pre><p>のように、<code>o</code>の後にオクターブ番号をつけます。オクターブ番号は1から8までで、大きいほど高い音です。</p>
<p>また<code>&gt;</code>,<code>&lt;</code>でそれぞれ1オクターブ上げ下げできます。(ピアノの鍵盤の配置に準拠しています．他のMMLでは逆になっているものもあるので注意してください)</p>
<p>さっきの音は</p>
<pre><code>1[o4cde&gt;cde&lt;&lt;cde]
</code></pre><p>と書いても同じです</p>
<h2 id="-v-">音量 [v]</h2>
<p><code>v</code>は、音量を変えます。vの後に0-15を指定します。0は無音、15が最大です．</p>
<h2 id="-v-">音量２ [@v]</h2>
<p><code>@v</code>も、音量を変えます。@vの後に0-127を指定します。0は無音、127が最大です</p>
<h2 id="-">音色 [@]</h2>
<p><code>@</code>は、音色を変えます。@の後に数字(0-95)を指定すると、それに対応した音色に変わります。</p>
<p>詳しくは、「音色エディット」を見てください(未実装).</p>
<h2 id="-t-">テンポ [t]</h2>
<p><code>t</code>はテンポを変えます。tの後に32-1023を指定します．全チャンネル共通で１つだけテンポを指定します．</p>
<pre><code>1[t120cdt150efg]
2[gfedc]
</code></pre><p>チャンネル2はテンポの指定がありませんが、チャンネル1のテンポ<br>が変化すると、それに応じてチャンネル2のテンポも変化します</p>
<h2 id="-">タイ/スラー [&amp;] (未実装)</h2>
<p>&amp;を２つの音の間に挟むと、スラーを意味します</p>
<pre><code>1[c&amp;d]
</code></pre><p>２つの音が同じ音の場合、タイを意味します</p>
<pre><code>1[c&amp;c]
</code></pre><h2 id="-">音長加算 [^]</h2>
<p>^は、直前に発声した音の長さを伸ばします<br>^の後ろには長さを指定することができます</p>
<p><code>1[l8 c4^]</code> は、 <code>1[c4&amp;c8]</code> と同じ，<br><code>1[c4^2]</code> は、 <code>1[c4&amp;c2]</code> と同じです</p>
<h2 id="-dt-">ディチューン [@dt] (未実装)</h2>
<p><code>@dt</code>の後に数（-127～127)を付けると、音の高さが微妙にずれます</p>
<pre><code>1[o4@dt1c] ;cより少し高い
2[o4@dt-1c]  ;cより少し低い
</code></pre><p>上のMMLを演奏すると、チャンネル１と２の音の高さが<br>少しだけ違うことによって「うなり」が発生します。</p>
<h2 id="-por-">ポルタメント [@por] (未実装)</h2>
<p>ポルタメントを発声します。<br>  @por 開始声 終声 [長さ(省略可)]<br>開始声と終声は音階(cdefgab及びそれらに+#-をつけたもの)<br>を指定し、開始声の高さから終声の高さまでなめらかに高さが<br>変わります。長さは、ポルタメント発声中の長さで、4なら4分音符と<br>同じ長さです。</p>
<p>@por ce 8 は、ドからミまで、8分音符の長さでポルタメントを発声します</p>
<p>開始声と終声の間にオクターブ変更記号<code>&lt;</code>,<code>&gt;</code>が使えます<br>@por c&gt;c  は、ドから１オクターブ上のドまでのポルタメントを発声します</p>
<h2 id="-lfo-">ビブラート [@lfo] (未実装)</h2>
<p>@lfo 速さ(0-127),振幅(0-127),遅延(0-255)</p>
<h2 id="-ps-">減衰率  [ps]</h2>
<p><code>ps</code>は音の減衰率を指定します。psの後に0-100の数字をつけます</p>
<pre><code>1[ps5cde]
1[ps20cde]
</code></pre><p>上の二つを聞き比べると、下の方が音がとぎれ気味になります</p>
<h2 id="-pa-">エンベロープ選択  [pa]</h2>
<p><code>pa</code>は、エンベロープの種類を選択します。paの後に0-15の数字をつけます。</p>
<p>エンベロープを変更するには、「エンベロープのエディット」を見てください(未実装)<br>デフォルトで定義されているエンベロープには、次のようなものがあります。</p>
<pre><code>1[ps5]
1[pa0cde] ;単調に減衰する
1[pa1cde] ;減衰した後一定の音量に落ち着く
1[pa2cde] ;発声が遅れる。発声後は一定の音量
1[pa3cde] ;発声後、音量が増加する。
</code></pre><h2 id="-">繰り返し  [()]</h2>
<p>( )は、( )の後につけた数字の回数だけ繰り返し演奏します</p>
<pre><code>1[(cde)4]
</code></pre><p>は、ドレミを４回繰り返します。</p>
<pre><code>1[((cd)2ef)4]
</code></pre><p>のようなネスト構造も可能です。</p>
<h2 id="-label-jump-">ラベルとジャンプ [@label,@jump]</h2>
<p><code>@jump</code>にくると<code>@jump</code>の後に書いてある0-9の数字にしたがって、<br>指定したラベルのある場所にジャンプします。</p>
<pre><code>1[fga]
1[@label1]
1[cde]
1[@jump1]
</code></pre><p>と書くと、「ファソラドレミドレミドレミドレミ...」と永久に演奏します．</p>
<p>※現実装では次の制限があります．</p>
<ul>
<li>@labelの後に対応する@jumpを書いてください（後ろから前へのジャンプのみ対応）．</li>
<li>チャンネルごとに独立したジャンプはできません</li>
</ul>
<p><!-- @jumpに対応するラベルがない場合、曲の最初に飛びます -->
</p>
<h2 id="-xx-">マクロ機能 [ $xx$ ]</h2>
<pre><code>$x$[cde]
</code></pre><p>は、マクロ変数xに cde を代入します<br>マクロ変数は、アルファベットの列を$で囲んだものです</p>
<pre><code>1[ o4 $x$ o5 $x$ ]
</code></pre><p>のようにすると、$x$は全てcdeに置き換わり</p>
<pre><code>1[ o4 cde o5 cde ]
</code></pre><p>と同じ音が演奏されます</p>
<pre><code>$b$[v15ps5]
$a$[$b$cde]
1[$a$]
</code></pre><p>のようにマクロ定義の中にマクロが使用できます（最大１５階層ネスト可）</p>
<h2 id="-">待機 [&#39;]</h2>
<p><code>&#39;</code>は、指定したチャンネルを待機状態にします。<br>待機状態から演奏を再開するのは、全てのチャンネルが<br>「待機状態になる、または演奏が終了する」までです。</p>
<pre><code>1[l4 cde&#39;  fga]
2[l4 fgab&#39; cde]
</code></pre><p>この例では、チャンネル１が<code>cde</code>を演奏後、待機します。そのとき<br>チャンネル２はまだ<code>b</code>を演奏していないので、それを演奏したあと<br>待機状態になります。このとき1と2両方が待機状態になったので<br>演奏が再開され、<code>fga</code>,<code>cde</code>が同時に演奏されます。</p>
<h2 id="-com-">タイトル[@com] （未実装）</h2>
<p>@comの後に文字列(&quot;で囲む)を書くと、エディタのタイトルバーにその文字列<br>を表示します</p>
<p>1[@com&quot;Sample Music&quot;]</p>
<h2 id="-">注釈 [;]</h2>
<p>;をつけた場所から行の終わりまで注釈とみなされます</p>
<pre><code>1[l4cdef]     ;ヴォーカル
2[o3l8(cege)2]  ;ベース
</code></pre><h2 id="-2-">注釈2 [/<em> .. </em>/]</h2>
<p>C言語ライクな注釈が使えます。<code>/*</code> から行に関係なく<br><code>*/</code>までが注釈になります</p>
<pre><code>/*
2[edc]  この2行は演奏されません
1[cde]    
*/
</code></pre></body></html>
