<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<p><!-- Konbaatiddo from Tonyu2 non-md document -->
</p>
<p><a href="マップチップとの当たり判定">マップチップとの当たり判定</a></p>
<h1 id="-">斜め移動をスムーズにする</h1>
<p><a href="マップチップとの当たり判定">マップチップとの当たり判定</a>のプログラムでは、プレイヤーが斜め移動しているときに壁にひっかかると、まったく動けなくなります。図のように、壁づたいに移動させたい場合は次のようにします</p>
<p><img src="https://raw.githubusercontent.com/hoge1e3/Tonyu2/master/fs/Tonyu/doc/images/nanameido.png" alt="nanameido.png"></p>
<p><a href="マップチップとの当たり判定 - 当たり判定を大きくする">当たり判定を大きくする</a>も参照してください。</p>
<p>Player</p>
<pre><code class="lang-JS">    //マップチップとの当たり判定
    if(hitToChip(x,y) ){
        if (!hitToChip(sx,y)) {
            //x座標を元に戻したらぶつかっていない→x座標だけ元に戻す
            x=sx;
        } else if (!hitToChip(x,sy)) {
            //y座標を元に戻したらぶつかっていない→y座標だけ元に戻す
            y=sy;   
        } else {
            //片方だけ戻してもやっぱりぶつかっている→両方元に戻す
            x=sx;y=sy;
        }
    }
</code></pre>
<p>.</p>
</body></html>
