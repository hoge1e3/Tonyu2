<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<!-- Konbaatiddo from Tonyu2 non-md document -->

<p><a href="%E7%94%A8%E9%80%94%E5%88%A5%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">用途別リファレンス</a></p>
<h1 id="オブジェクトに連続でぶつからないようにする">オブジェクトに連続でぶつからないようにする</h1>
<p>プレイヤーが敵に当たったときに，一定時間無敵になって連続で敵に当たらないようにします．</p>
<p>Main</p>
<pre><code class="language-JS">new Enemy{x=rnd($screenWidth),y=rnd($screenHeight),p=8};
new Enemy{x=rnd($screenWidth),y=rnd($screenHeight),p=8};
new Enemy{x=rnd($screenWidth),y=rnd($screenHeight),p=8};
new Player{x=$screenWidth/2,y=$screenHeight/2};
</code></pre>
<p>Player</p>
<pre><code class="language-JS">c=0;//c&gt;0なら無敵,c==0なら無敵でない
life=5;
while(true){
    x=$mouseX;
    y=$mouseY;
    if(crashTo(Enemy) &amp;&amp; c&lt;=0){
        // 無敵でない場合のみ，ここが実行される
        c=30;//無敵時間を30フレーム（1秒）に設定
        // 体力を減らす
        life--;
        print(&quot;Life&quot;,life);
        if (life&lt;=0) die();
    }
    //無敵中であれば無敵時間を減らす
    if (c&gt;0) c--;
    //無敵中に点滅させる処理
    if (c%2==0) alpha=255; else alpha=0;
    update();
}
</code></pre>
<p>Enemy</p>
<pre><code class="language-JS">//何も書かなくてもよいが，ファイルEnemyは作成する
</code></pre>
<h1 id="ライブデモ">ライブデモ</h1>
<ul>
<li><p><a href="https://run.tonyu.jp/?18j5000/bcb74384">33. 無敵時間（例示）</a></p>
</li>
<li><p><a href="https://run.tonyu.jp/?18j5000/7c4294f2">34. 無敵時間の変更（練習問題）</a></p>
</li>
</ul>
</body></html>
