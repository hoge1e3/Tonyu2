<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<!-- Konbaatiddo from Tonyu2 non-md document -->

<p><a href="%E7%94%A8%E9%80%94%E5%88%A5%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">用途別リファレンス</a></p>
<h1 id="当たり判定で当たったオブジェクトを消す">当たり判定で当たったオブジェクトを消す</h1>
<p><a href="crashTo">crashTo</a>メソッドを用いて，オブジェクトと当たり判定を行います。</p>
<ul>
<li>当たってる場合は当たったオブジェクトを返します（if文で判定した場合<code>true</code>扱いになります）</li>
<li>当たっていない場合は<code>undefined</code>を返します（if文で判定した場合<code>false</code>扱いになります）</li>
</ul>
<p>次の例では，</p>
<ul>
<li>PlayerオブジェクトにEnemyオブジェクトがぶつかると，Playerオブジェクト自身が消えます。</li>
<li>PlayerオブジェクトにItemオブジェクトがぶつかると，ぶつかったItemオブジェクトが消えます。</li>
</ul>
<p>Main</p>
<pre><code class="language-JS">new Enemy{x:100, y:100, p:$pat_neko+49};
new Enemy{x:100, y:200, p:$pat_neko+49};
new Item{x:100, y:300, p:$pat_neko+30};
new Player{x:300,y:300};
</code></pre>
<p>Player</p>
<pre><code class="language-JS">while(true){
    if(getkey(&quot;right&quot;)&gt;0)    x+=3;
    if(getkey(&quot;left&quot;)&gt;0)    x-=3;
    if(getkey(&quot;down&quot;)&gt;0)    y+=3;
    if(getkey(&quot;up&quot;)&gt;0)    y-=3;
    //Enemyオブジェクトのどれかにぶつかっているか？
    // eがundefined →ぶつかっていない
    // eがundefined以外→ぶつかったEnemyオブジェクトがeに格納される
    e=crashTo(Enemy);
    if(e){//eがundefined以外だったら
        die();//プレイヤー自身を消す
    }
    //Itemオブジェクトにぶつかっているか？
    it=crashTo(Item);
    if(it){//itがundefined以外だったら
        it.die();//ぶつかったItemオブジェクトを消す
    }
    update();
}
</code></pre>
<p>Enemy</p>
<pre><code class="language-JS">// 敵の動作を書く。（とりあえず何も書かなくてもよい）
</code></pre>
<p>Item</p>
<pre><code class="language-JS">// アイテムの動作を書く。（とりあえず何も書かなくてもよい）
</code></pre>
<p>※当たり判定を変更するには<a href="BaseActor">crashScale</a>の値を変更します（1なら画像の大きさと同じ）
→<a href="%E5%BD%93%E3%81%9F%E3%82%8A%E5%88%A4%E5%AE%9A%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B">実例</a></p>
<h1 id="参考">参考</h1>
<ul>
<li><a href="%E8%87%AA%E5%88%86%E8%87%AA%E8%BA%AB%E3%82%92%E6%B6%88%E3%81%99">自分自身を消す</a></li>
<li><a href="%E4%BB%96%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%B6%88%E3%81%99">他のオブジェクトを消す</a></li>
<li><a href="%E5%BD%93%E3%81%9F%E3%82%8A%E5%88%A4%E5%AE%9A%E3%81%A7%E5%BD%93%E3%81%9F%E3%81%A3%E3%81%9F%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%B6%88%E3%81%99">当たり判定で当たったオブジェクトを消す</a><ul>
<li><a href="%E5%BD%93%E3%81%9F%E3%82%8A%E5%88%A4%E5%AE%9A%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B">当たり判定の大きさを変更する</a></li>
</ul>
</li>
<li><a href="%E7%94%BB%E9%9D%A2%E5%A4%96%E3%81%AB%E5%87%BA%E3%81%9F%E3%81%8B%E3%81%A9%E3%81%86%E3%81%8B%E3%81%AE%E5%88%A4%E5%AE%9A">画面外に出たオブジェクトを消す</a></li>
<li><a href="%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%B6%88%E3%81%99">すべてのオブジェクトを消す</a></li>
<li><a href="%E8%A4%87%E6%95%B0%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AB%E5%AF%BE%E3%81%97%E3%81%A6%E5%BD%93%E3%81%9F%E3%82%8A%E5%88%A4%E5%AE%9A%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B">複数のクラスのオブジェクトに対して当たり判定を設定する</a></li>
</ul>
<h1 id="backlink">Backlink</h1>
<ul>
<li><a href="%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%B6%88%E3%81%99">オブジェクトを消す</a></li>
<li><a href="die">dieメソッド</a></li>
</ul>
<h1 id="ライブデモ">ライブデモ</h1>
<ul>
<li><a href="https://run.tonyu.jp/?18j5000/a6981858">31. 当たり判定（例示）</a></li>
</ul>
</body></html>
