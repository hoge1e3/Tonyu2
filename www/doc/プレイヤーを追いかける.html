<html><body class="markdown-body">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="css/style.css"/>
<script src="js/jquery-1.10.1.js"></script>
<script src="js/doc.js"></script>
<!-- Konbaatiddo from Tonyu2 non-md document -->

<p><a href="%E7%94%A8%E9%80%94%E5%88%A5%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">用途別リファレンス</a></p>
<h1 id="プレイヤーを追いかける敵">プレイヤーを追いかける敵</h1>
<p>Main</p>
<pre><code class="language-JS">$player=new Player{x:250,y:250};
new Enemy{x:200,y:100};
new Enemy{x:300,y:100};
new Enemy{x:400,y:300};
new Enemy{x:100,y:300};
</code></pre>
<p>Enemy</p>
<pre><code class="language-JS">// $player は，Mainで初期化されているグローバル変数（Mainを参照）
while (true) {
    // $playerとの座標を比較して移動方向を決める
    if (x&lt;$player.x) x+=2;
    if (x&gt;$player.x) x-=2;
    if (y&lt;$player.y) y+=2;
    if (y&gt;$player.y) y-=2;
    update();
}
</code></pre>
<p>Player</p>
<pre><code class="language-JS">//プレイヤーの動作を書く（とりあえず何も書かなくてもよい）
pad=new APad;
while(true){
    x+=pad.vx*5;
    y+=pad.vy*5;
    update();
}
</code></pre>
<p>※Enemyが物理オブジェクトの場合，vx,vyに値を代入して移動させてください</p>
<p>Enemy</p>
<pre><code class="language-JS">extends BodyActor;
// $player は，Mainで初期化されているグローバル変数（Mainを参照）
while (true) {
    // $playerとの座標を比較して移動方向を決める
    if (x&lt;$player.x) vx=2;
    if (x&gt;$player.x) vx=-2;
    if (y&lt;$player.y) vy=2;
    if (y&gt;$player.y) vy=-2;
    update();
}
</code></pre>
<h1 id="プレイヤーを追いかける敵（慣性あり）">プレイヤーを追いかける敵（慣性あり）</h1>
<p>Enemy</p>
<pre><code class="language-JS">//敵の速度
vx=0;vy=0;
while (true) {
    //速度の分だけx,yを変化させる
    x+=vx;//※物理オブジェクトの場合は不要
    y+=vy;//※物理オブジェクトの場合は不要
    //$playerとの座標を比較して速度を変化させる
    if (x&lt;$player.x) vx+=0.2;
    if (x&gt;$player.x) vx-=0.2;
    if (y&lt;$player.y) vy+=0.2;
    if (y&gt;$player.y) vy-=0.2;
    update();
}
</code></pre>
<p>※Enemyが物理オブジェクトの場合，次の処理は不要です．</p>
<pre><code class="language-JS">    x+=vx;
    y+=vy;
</code></pre>
<h2 id="参考">参考</h2>
<ul>
<li><a href="%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0">グローバル変数</a></li>
</ul>
<h1 id="ライブデモ">ライブデモ</h1>
<ul>
<li><p><a href="https://run.tonyu.jp/?18j5000/73f59f92">37. 追尾してくる敵（例示）</a></p>
</li>
<li><p><a href="https://run.tonyu.jp/?18j5000/d22b9727">38. プレイヤーが近づいたら動くオブジェクト（練習問題）</a></p>
</li>
</ul>
</body></html>
