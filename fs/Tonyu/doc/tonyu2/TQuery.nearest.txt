[[TQuery]]

*TQuery.nearest メソッド

このTQueryオブジェクトが格納しているオブジェクトのうち，特定の位置からの距離がもっとも近いものを返します．

*書式1

<<code
t.nearest(x,y)
>>

([[@cfrag x]],[[@cfrag y]]) からの距離がもっとも近いオブジェクトを返します．

*書式2

<<code
t.nearest(obj,d)
>>

オブジェクト [[@cfrag obj]] からの距離がもっとも近いオブジェクトを返します


*書式3


<<code
t.nearest(d)
>>

[[@cfrag t]]を作成したオブジェクト([[all]]などが呼び出されたオブジェクト)からの距離がもっとも近いものを返します
.

*もっとも近いオブジェクトが複数ある場合

-nearestメソッドは，格納順で先頭にある（添字が0のもの）を返します．
-複数のオブジェクトをすべて調べたい場合，次のnearestsメソッドを用います．

*TQuery.nearests メソッド

このTQueryオブジェクトが格納しているオブジェクトのうち，特定の位置からの距離がもっとも近いものだけからなるTQueryオブジェクト返します．


書式はnearestメソッドと同じですが，戻り値はTQueryオブジェクトになります．

もっとも近いオブジェクトが複数ある場合で，その中からランダムに1つ選ぶ場合は次のようにします
<<code
t.nearests(d).random()
>>

