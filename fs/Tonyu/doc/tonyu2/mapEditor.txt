[[ide]]

[[用途別リファレンス]]

*マップエディタ

マップエディタは，ゲーム中に使用するマップを描くためのツールです．

**使用手順

-[[画像リスト>cpats]]に $pat_mapchip を追加されていることを確認
-- 次の画像が標準で用意されています（もちろん、他の画像も利用できます）http://tonyuedit.appspot.com/images/mapchip.png
-メニューの「ツール」から「マップエディタ」を選択
-Load Data?: Y or Nと表示されるので、すでに作ったマップをもとに改造する場合はキーボードのyを、新しくつくる場合はnを押す
--nを押した場合、プロンプトが出るので、それぞれ入力する
---"input row"→縦に設置するチップの個数
---"input col"→横に設置するチップの個数
---"chipWidth"→設置するチップの横のサイズ
---"chipHeight"→設置するチップの縦のサイズ

--yを押した場合、プロンプトが出るので、ロードするファイルの名前を入力する。
---入力されたファイルが存在しないと、Load Failedと表示され、nを押した場合の動作に移動する

-画面にマップチップがでるので、設置したいチップをクリックする、または"set"のボタンをクリックする。

-水色になっている範囲は、マップの範囲をあらわしていて、この範囲内にクリックすることで選択したマップチップを置くことができる

-周りのグレーになった範囲をクリックすると、その方向にスクロールすることができる(カーソルキーも使用可)



-下にあるボタン set base get save erase copy の説明

--set   : 現在選択されているチップを、マップ上の選択されているレイヤーに置くモードになる

--base  : 現在選択されているレイヤーを変えることができる。デフォルトではbaseとなっていて、一度クリックするとonに、さらにクリックするとallになる。baseでは、一番下のレイヤー、onではその上に乗るレイヤー、allではその両方が選択される。

--get   : マップチップ一覧から、使用するチップを選ぶモードになる。チップを選ぶと、自動的にsetモードに切り替わる

--save  : 現在の状態をファイルに保存する。プロンプトが表示されるので、セーブするファイル名(例：stage1.json)を入力してOKを押す

--erase : クリックした場所のマップチップを消去するモードになる。消去されるのは、選択されているレイヤーのチップ。

--copy  : クリックした場所のマップチップをコピーするモードになる。コピーされるのは選択されているレイヤーのチップ。コピーを行うと、自動的にsetモードに切り替わる



*描いたマップをプログラム内で使用する

<<code Main
$map=new Map{chipWidth:32,chipHeight:32};
$map.load("stage1.json");
>>