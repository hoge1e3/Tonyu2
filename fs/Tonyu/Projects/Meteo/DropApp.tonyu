extends SecretChar;

// 隕石の出現
$map.setBGColor(color(0,0,60));
w=$screenWidth/2;h=$screenHeight/2;
shc=0;
while (1) {
  if (shc<20) {
    // ゲーム開始直後は星を出現させる
    shc+=1;
    appear(new ShStar(x,y)); 
  }  
  // スコアに応じた確率で隕石を出現させる
  if (rnd(50-$score/500)==0) 
     appear(new Drops(w+(rnd()-0.5)*w*0.25,h+(rnd()-0.5)*w*0.25,$pat_Inseki+0));
  update();    
}